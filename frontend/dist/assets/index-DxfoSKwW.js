var Tb=r=>{throw TypeError(r)};var Ch=(r,e,t)=>e.has(r)||Tb("Cannot "+t);var Je=(r,e,t)=>(Ch(r,e,"read from private field"),t?t.call(r):e.get(r)),Kn=(r,e,t)=>e.has(r)?Tb("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),rn=(r,e,t,s)=>(Ch(r,e,"write to private field"),s?s.call(r,t):e.set(r,t),t),Qn=(r,e,t)=>(Ch(r,e,"access private method"),t);var Nb=(r,e,t,s)=>({set _(a){rn(r,e,a,t)},get _(){return Je(r,e,s)}});function WA(r,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in r)){const l=Object.getOwnPropertyDescriptor(s,a);l&&Object.defineProperty(r,a,l.get?l:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function Bc(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Th={exports:{}},Wr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kb;function KA(){if(kb)return Wr;kb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:r,type:s,key:c,ref:a!==void 0?a:null,props:l}}return Wr.Fragment=e,Wr.jsx=t,Wr.jsxs=t,Wr}var Rb;function QA(){return Rb||(Rb=1,Th.exports=KA()),Th.exports}var m=QA(),Nh={exports:{}},Te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mb;function ZA(){if(Mb)return Te;Mb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),b=Symbol.iterator;function v(I){return I===null||typeof I!="object"?null:(I=b&&I[b]||I["@@iterator"],typeof I=="function"?I:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,A={};function _(I,Q,L){this.props=I,this.context=Q,this.refs=A,this.updater=L||x}_.prototype.isReactComponent={},_.prototype.setState=function(I,Q){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Q,"setState")},_.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function C(){}C.prototype=_.prototype;function k(I,Q,L){this.props=I,this.context=Q,this.refs=A,this.updater=L||x}var N=k.prototype=new C;N.constructor=k,w(N,_.prototype),N.isPureReactComponent=!0;var M=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function O(I,Q,L,z,$,oe){return L=oe.ref,{$$typeof:r,type:I,key:Q,ref:L!==void 0?L:null,props:oe}}function D(I,Q){return O(I.type,Q,void 0,void 0,void 0,I.props)}function Y(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function te(I){var Q={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(L){return Q[L]})}var H=/\/+/g;function ne(I,Q){return typeof I=="object"&&I!==null&&I.key!=null?te(""+I.key):Q.toString(36)}function le(){}function q(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(le,le):(I.status="pending",I.then(function(Q){I.status==="pending"&&(I.status="fulfilled",I.value=Q)},function(Q){I.status==="pending"&&(I.status="rejected",I.reason=Q)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function ee(I,Q,L,z,$){var oe=typeof I;(oe==="undefined"||oe==="boolean")&&(I=null);var J=!1;if(I===null)J=!0;else switch(oe){case"bigint":case"string":case"number":J=!0;break;case"object":switch(I.$$typeof){case r:case e:J=!0;break;case p:return J=I._init,ee(J(I._payload),Q,L,z,$)}}if(J)return $=$(I),J=z===""?"."+ne(I,0):z,M($)?(L="",J!=null&&(L=J.replace(H,"$&/")+"/"),ee($,Q,L,"",function(Ne){return Ne})):$!=null&&(Y($)&&($=D($,L+($.key==null||I&&I.key===$.key?"":(""+$.key).replace(H,"$&/")+"/")+J)),Q.push($)),1;J=0;var re=z===""?".":z+":";if(M(I))for(var be=0;be<I.length;be++)z=I[be],oe=re+ne(z,be),J+=ee(z,Q,L,oe,$);else if(be=v(I),typeof be=="function")for(I=be.call(I),be=0;!(z=I.next()).done;)z=z.value,oe=re+ne(z,be++),J+=ee(z,Q,L,oe,$);else if(oe==="object"){if(typeof I.then=="function")return ee(q(I),Q,L,z,$);throw Q=String(I),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return J}function j(I,Q,L){if(I==null)return I;var z=[],$=0;return ee(I,z,"","",function(oe){return Q.call(L,oe,$++)}),z}function B(I){if(I._status===-1){var Q=I._result;Q=Q(),Q.then(function(L){(I._status===0||I._status===-1)&&(I._status=1,I._result=L)},function(L){(I._status===0||I._status===-1)&&(I._status=2,I._result=L)}),I._status===-1&&(I._status=0,I._result=Q)}if(I._status===1)return I._result.default;throw I._result}var V=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function ce(){}return Te.Children={map:j,forEach:function(I,Q,L){j(I,function(){Q.apply(this,arguments)},L)},count:function(I){var Q=0;return j(I,function(){Q++}),Q},toArray:function(I){return j(I,function(Q){return Q})||[]},only:function(I){if(!Y(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Te.Component=_,Te.Fragment=t,Te.Profiler=a,Te.PureComponent=k,Te.StrictMode=s,Te.Suspense=h,Te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Te.__COMPILER_RUNTIME={__proto__:null,c:function(I){return R.H.useMemoCache(I)}},Te.cache=function(I){return function(){return I.apply(null,arguments)}},Te.cloneElement=function(I,Q,L){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var z=w({},I.props),$=I.key,oe=void 0;if(Q!=null)for(J in Q.ref!==void 0&&(oe=void 0),Q.key!==void 0&&($=""+Q.key),Q)!P.call(Q,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&Q.ref===void 0||(z[J]=Q[J]);var J=arguments.length-2;if(J===1)z.children=L;else if(1<J){for(var re=Array(J),be=0;be<J;be++)re[be]=arguments[be+2];z.children=re}return O(I.type,$,void 0,void 0,oe,z)},Te.createContext=function(I){return I={$$typeof:c,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:l,_context:I},I},Te.createElement=function(I,Q,L){var z,$={},oe=null;if(Q!=null)for(z in Q.key!==void 0&&(oe=""+Q.key),Q)P.call(Q,z)&&z!=="key"&&z!=="__self"&&z!=="__source"&&($[z]=Q[z]);var J=arguments.length-2;if(J===1)$.children=L;else if(1<J){for(var re=Array(J),be=0;be<J;be++)re[be]=arguments[be+2];$.children=re}if(I&&I.defaultProps)for(z in J=I.defaultProps,J)$[z]===void 0&&($[z]=J[z]);return O(I,oe,void 0,void 0,null,$)},Te.createRef=function(){return{current:null}},Te.forwardRef=function(I){return{$$typeof:d,render:I}},Te.isValidElement=Y,Te.lazy=function(I){return{$$typeof:p,_payload:{_status:-1,_result:I},_init:B}},Te.memo=function(I,Q){return{$$typeof:f,type:I,compare:Q===void 0?null:Q}},Te.startTransition=function(I){var Q=R.T,L={};R.T=L;try{var z=I(),$=R.S;$!==null&&$(L,z),typeof z=="object"&&z!==null&&typeof z.then=="function"&&z.then(ce,V)}catch(oe){V(oe)}finally{R.T=Q}},Te.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Te.use=function(I){return R.H.use(I)},Te.useActionState=function(I,Q,L){return R.H.useActionState(I,Q,L)},Te.useCallback=function(I,Q){return R.H.useCallback(I,Q)},Te.useContext=function(I){return R.H.useContext(I)},Te.useDebugValue=function(){},Te.useDeferredValue=function(I,Q){return R.H.useDeferredValue(I,Q)},Te.useEffect=function(I,Q,L){var z=R.H;if(typeof L=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return z.useEffect(I,Q)},Te.useId=function(){return R.H.useId()},Te.useImperativeHandle=function(I,Q,L){return R.H.useImperativeHandle(I,Q,L)},Te.useInsertionEffect=function(I,Q){return R.H.useInsertionEffect(I,Q)},Te.useLayoutEffect=function(I,Q){return R.H.useLayoutEffect(I,Q)},Te.useMemo=function(I,Q){return R.H.useMemo(I,Q)},Te.useOptimistic=function(I,Q){return R.H.useOptimistic(I,Q)},Te.useReducer=function(I,Q,L){return R.H.useReducer(I,Q,L)},Te.useRef=function(I){return R.H.useRef(I)},Te.useState=function(I){return R.H.useState(I)},Te.useSyncExternalStore=function(I,Q,L){return R.H.useSyncExternalStore(I,Q,L)},Te.useTransition=function(){return R.H.useTransition()},Te.version="19.1.1",Te}var Db;function Hc(){return Db||(Db=1,Nh.exports=ZA()),Nh.exports}var S=Hc();const cn=Bc(S),JA=WA({__proto__:null,default:cn},[S]);var kh={exports:{}},Kr={},Rh={exports:{}},Mh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jb;function eS(){return jb||(jb=1,(function(r){function e(j,B){var V=j.length;j.push(B);e:for(;0<V;){var ce=V-1>>>1,I=j[ce];if(0<a(I,B))j[ce]=B,j[V]=I,V=ce;else break e}}function t(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var B=j[0],V=j.pop();if(V!==B){j[0]=V;e:for(var ce=0,I=j.length,Q=I>>>1;ce<Q;){var L=2*(ce+1)-1,z=j[L],$=L+1,oe=j[$];if(0>a(z,V))$<I&&0>a(oe,z)?(j[ce]=oe,j[$]=V,ce=$):(j[ce]=z,j[L]=V,ce=L);else if($<I&&0>a(oe,V))j[ce]=oe,j[$]=V,ce=$;else break e}}return B}function a(j,B){var V=j.sortIndex-B.sortIndex;return V!==0?V:j.id-B.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var h=[],f=[],p=1,b=null,v=3,x=!1,w=!1,A=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function M(j){for(var B=t(f);B!==null;){if(B.callback===null)s(f);else if(B.startTime<=j)s(f),B.sortIndex=B.expirationTime,e(h,B);else break;B=t(f)}}function R(j){if(A=!1,M(j),!w)if(t(h)!==null)w=!0,P||(P=!0,ne());else{var B=t(f);B!==null&&ee(R,B.startTime-j)}}var P=!1,O=-1,D=5,Y=-1;function te(){return _?!0:!(r.unstable_now()-Y<D)}function H(){if(_=!1,P){var j=r.unstable_now();Y=j;var B=!0;try{e:{w=!1,A&&(A=!1,k(O),O=-1),x=!0;var V=v;try{t:{for(M(j),b=t(h);b!==null&&!(b.expirationTime>j&&te());){var ce=b.callback;if(typeof ce=="function"){b.callback=null,v=b.priorityLevel;var I=ce(b.expirationTime<=j);if(j=r.unstable_now(),typeof I=="function"){b.callback=I,M(j),B=!0;break t}b===t(h)&&s(h),M(j)}else s(h);b=t(h)}if(b!==null)B=!0;else{var Q=t(f);Q!==null&&ee(R,Q.startTime-j),B=!1}}break e}finally{b=null,v=V,x=!1}B=void 0}}finally{B?ne():P=!1}}}var ne;if(typeof N=="function")ne=function(){N(H)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,q=le.port2;le.port1.onmessage=H,ne=function(){q.postMessage(null)}}else ne=function(){C(H,0)};function ee(j,B){O=C(function(){j(r.unstable_now())},B)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(j){j.callback=null},r.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<j?Math.floor(1e3/j):5},r.unstable_getCurrentPriorityLevel=function(){return v},r.unstable_next=function(j){switch(v){case 1:case 2:case 3:var B=3;break;default:B=v}var V=v;v=B;try{return j()}finally{v=V}},r.unstable_requestPaint=function(){_=!0},r.unstable_runWithPriority=function(j,B){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var V=v;v=j;try{return B()}finally{v=V}},r.unstable_scheduleCallback=function(j,B,V){var ce=r.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ce+V:ce):V=ce,j){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=V+I,j={id:p++,callback:B,priorityLevel:j,startTime:V,expirationTime:I,sortIndex:-1},V>ce?(j.sortIndex=V,e(f,j),t(h)===null&&j===t(f)&&(A?(k(O),O=-1):A=!0,ee(R,V-ce))):(j.sortIndex=I,e(h,j),w||x||(w=!0,P||(P=!0,ne()))),j},r.unstable_shouldYield=te,r.unstable_wrapCallback=function(j){var B=v;return function(){var V=v;v=B;try{return j.apply(this,arguments)}finally{v=V}}}})(Mh)),Mh}var Pb;function tS(){return Pb||(Pb=1,Rh.exports=eS()),Rh.exports}var Dh={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lb;function nS(){if(Lb)return $t;Lb=1;var r=Hc();function e(h){var f="https://react.dev/errors/"+h;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+h+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(h,f,p){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:h,containerInfo:f,implementation:p}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,f){if(h==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return $t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,$t.createPortal=function(h,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return l(h,f,null,p)},$t.flushSync=function(h){var f=c.T,p=s.p;try{if(c.T=null,s.p=2,h)return h()}finally{c.T=f,s.p=p,s.d.f()}},$t.preconnect=function(h,f){typeof h=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,s.d.C(h,f))},$t.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},$t.preinit=function(h,f){if(typeof h=="string"&&f&&typeof f.as=="string"){var p=f.as,b=d(p,f.crossOrigin),v=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?s.d.S(h,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:b,integrity:v,fetchPriority:x}):p==="script"&&s.d.X(h,{crossOrigin:b,integrity:v,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},$t.preinitModule=function(h,f){if(typeof h=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=d(f.as,f.crossOrigin);s.d.M(h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&s.d.M(h)},$t.preload=function(h,f){if(typeof h=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,b=d(p,f.crossOrigin);s.d.L(h,p,{crossOrigin:b,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},$t.preloadModule=function(h,f){if(typeof h=="string")if(f){var p=d(f.as,f.crossOrigin);s.d.m(h,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else s.d.m(h)},$t.requestFormReset=function(h){s.d.r(h)},$t.unstable_batchedUpdates=function(h,f){return h(f)},$t.useFormState=function(h,f,p){return c.H.useFormState(h,f,p)},$t.useFormStatus=function(){return c.H.useHostTransitionStatus()},$t.version="19.1.1",$t}var Ob;function Jv(){if(Ob)return Dh.exports;Ob=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Dh.exports=nS(),Dh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib;function sS(){if(Ib)return Kr;Ib=1;var r=tS(),e=Hc(),t=Jv();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var i=n,o=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(o=i.return),n=i.return;while(n)}return i.tag===3?o:null}function c(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(l(n)!==n)throw Error(s(188))}function h(n){var i=n.alternate;if(!i){if(i=l(n),i===null)throw Error(s(188));return i!==n?null:n}for(var o=n,u=i;;){var g=o.return;if(g===null)break;var y=g.alternate;if(y===null){if(u=g.return,u!==null){o=u;continue}break}if(g.child===y.child){for(y=g.child;y;){if(y===o)return d(g),n;if(y===u)return d(g),i;y=y.sibling}throw Error(s(188))}if(o.return!==u.return)o=g,u=y;else{for(var E=!1,T=g.child;T;){if(T===o){E=!0,o=g,u=y;break}if(T===u){E=!0,u=g,o=y;break}T=T.sibling}if(!E){for(T=y.child;T;){if(T===o){E=!0,o=y,u=g;break}if(T===u){E=!0,u=y,o=g;break}T=T.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?n:i}function f(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=f(n),i!==null)return i;n=n.sibling}return null}var p=Object.assign,b=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),N=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),Y=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function ne(n){return n===null||typeof n!="object"?null:(n=H&&n[H]||n["@@iterator"],typeof n=="function"?n:null)}var le=Symbol.for("react.client.reference");function q(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===le?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case w:return"Fragment";case _:return"Profiler";case A:return"StrictMode";case R:return"Suspense";case P:return"SuspenseList";case Y:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case N:return(n.displayName||"Context")+".Provider";case k:return(n._context.displayName||"Context")+".Consumer";case M:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case O:return i=n.displayName||null,i!==null?i:q(n.type)||"Memo";case D:i=n._payload,n=n._init;try{return q(n(i))}catch{}}return null}var ee=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},ce=[],I=-1;function Q(n){return{current:n}}function L(n){0>I||(n.current=ce[I],ce[I]=null,I--)}function z(n,i){I++,ce[I]=n.current,n.current=i}var $=Q(null),oe=Q(null),J=Q(null),re=Q(null);function be(n,i){switch(z(J,i),z(oe,n),z($,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?tb(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=tb(i),n=nb(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}L($),z($,n)}function Ne(){L($),L(oe),L(J)}function _e(n){n.memoizedState!==null&&z(re,n);var i=$.current,o=nb(i,n.type);i!==o&&(z(oe,n),z($,o))}function rt(n){oe.current===n&&(L($),L(oe)),re.current===n&&(L(re),qr._currentValue=V)}var xt=Object.prototype.hasOwnProperty,Oe=r.unstable_scheduleCallback,Ge=r.unstable_cancelCallback,dt=r.unstable_shouldYield,wt=r.unstable_requestPaint,zt=r.unstable_now,ri=r.unstable_getCurrentPriorityLevel,Vi=r.unstable_ImmediatePriority,Bo=r.unstable_UserBlockingPriority,as=r.unstable_NormalPriority,hu=r.unstable_LowPriority,Ho=r.unstable_IdlePriority,fu=r.log,mu=r.unstable_setDisableYieldValue,oi=null,ot=null;function Kt(n){if(typeof fu=="function"&&mu(n),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(oi,n)}catch{}}var lt=Math.clz32?Math.clz32:Lw,Za=Math.log,Pw=Math.LN2;function Lw(n){return n>>>=0,n===0?32:31-(Za(n)/Pw|0)|0}var Go=256,qo=4194304;function li(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Vo(n,i,o){var u=n.pendingLanes;if(u===0)return 0;var g=0,y=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var T=u&134217727;return T!==0?(u=T&~y,u!==0?g=li(u):(E&=T,E!==0?g=li(E):o||(o=T&~n,o!==0&&(g=li(o))))):(T=u&~y,T!==0?g=li(T):E!==0?g=li(E):o||(o=u&~n,o!==0&&(g=li(o)))),g===0?0:i!==0&&i!==g&&(i&y)===0&&(y=g&-g,o=i&-i,y>=o||y===32&&(o&4194048)!==0)?i:g}function Ja(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Ow(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zm(){var n=Go;return Go<<=1,(Go&4194048)===0&&(Go=256),n}function Fm(){var n=qo;return qo<<=1,(qo&62914560)===0&&(qo=4194304),n}function pu(n){for(var i=[],o=0;31>o;o++)i.push(n);return i}function er(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Iw(n,i,o,u,g,y){var E=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var T=n.entanglements,F=n.expirationTimes,W=n.hiddenUpdates;for(o=E&~o;0<o;){var se=31-lt(o),ae=1<<se;T[se]=0,F[se]=-1;var K=W[se];if(K!==null)for(W[se]=null,se=0;se<K.length;se++){var Z=K[se];Z!==null&&(Z.lane&=-536870913)}o&=~ae}u!==0&&Um(n,u,0),y!==0&&g===0&&n.tag!==0&&(n.suspendedLanes|=y&~(E&~i))}function Um(n,i,o){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-lt(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|o&4194090}function Bm(n,i){var o=n.entangledLanes|=i;for(n=n.entanglements;o;){var u=31-lt(o),g=1<<u;g&i|n[u]&i&&(n[u]|=i),o&=~g}}function gu(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function yu(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Hm(){var n=B.p;return n!==0?n:(n=window.event,n===void 0?32:wb(n.type))}function zw(n,i){var o=B.p;try{return B.p=n,i()}finally{B.p=o}}var Ds=Math.random().toString(36).slice(2),qt="__reactFiber$"+Ds,en="__reactProps$"+Ds,$i="__reactContainer$"+Ds,bu="__reactEvents$"+Ds,Fw="__reactListeners$"+Ds,Uw="__reactHandles$"+Ds,Gm="__reactResources$"+Ds,tr="__reactMarker$"+Ds;function vu(n){delete n[qt],delete n[en],delete n[bu],delete n[Fw],delete n[Uw]}function Yi(n){var i=n[qt];if(i)return i;for(var o=n.parentNode;o;){if(i=o[$i]||o[qt]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(n=rb(n);n!==null;){if(o=n[qt])return o;n=rb(n)}return i}n=o,o=n.parentNode}return null}function Xi(n){if(n=n[qt]||n[$i]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function nr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function Wi(n){var i=n[Gm];return i||(i=n[Gm]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Mt(n){n[tr]=!0}var qm=new Set,Vm={};function ci(n,i){Ki(n,i),Ki(n+"Capture",i)}function Ki(n,i){for(Vm[n]=i,n=0;n<i.length;n++)qm.add(i[n])}var Bw=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$m={},Ym={};function Hw(n){return xt.call(Ym,n)?!0:xt.call($m,n)?!1:Bw.test(n)?Ym[n]=!0:($m[n]=!0,!1)}function $o(n,i,o){if(Hw(i))if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+o)}}function Yo(n,i,o){if(o===null)n.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+o)}}function rs(n,i,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(i,o,""+u)}}var xu,Xm;function Qi(n){if(xu===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);xu=i&&i[1]||"",Xm=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xu+n+Xm}var wu=!1;function Au(n,i){if(!n||wu)return"";wu=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(Z){var K=Z}Reflect.construct(n,[],ae)}else{try{ae.call()}catch(Z){K=Z}n.call(ae.prototype)}}else{try{throw Error()}catch(Z){K=Z}(ae=n())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(Z){if(Z&&K&&typeof Z.stack=="string")return[Z.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=u.DetermineComponentFrameRoot(),E=y[0],T=y[1];if(E&&T){var F=E.split(`
`),W=T.split(`
`);for(g=u=0;u<F.length&&!F[u].includes("DetermineComponentFrameRoot");)u++;for(;g<W.length&&!W[g].includes("DetermineComponentFrameRoot");)g++;if(u===F.length||g===W.length)for(u=F.length-1,g=W.length-1;1<=u&&0<=g&&F[u]!==W[g];)g--;for(;1<=u&&0<=g;u--,g--)if(F[u]!==W[g]){if(u!==1||g!==1)do if(u--,g--,0>g||F[u]!==W[g]){var se=`
`+F[u].replace(" at new "," at ");return n.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",n.displayName)),se}while(1<=u&&0<=g);break}}}finally{wu=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Qi(o):""}function Gw(n){switch(n.tag){case 26:case 27:case 5:return Qi(n.type);case 16:return Qi("Lazy");case 13:return Qi("Suspense");case 19:return Qi("SuspenseList");case 0:case 15:return Au(n.type,!1);case 11:return Au(n.type.render,!1);case 1:return Au(n.type,!0);case 31:return Qi("Activity");default:return""}}function Wm(n){try{var i="";do i+=Gw(n),n=n.return;while(n);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Km(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function qw(n){var i=Km(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),u=""+n[i];if(!n.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var g=o.get,y=o.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return g.call(this)},set:function(E){u=""+E,y.call(this,E)}}),Object.defineProperty(n,i,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Xo(n){n._valueTracker||(n._valueTracker=qw(n))}function Qm(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return n&&(u=Km(n)?n.checked?"true":"false":n.value),n=u,n!==o?(i.setValue(n),!0):!1}function Wo(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Vw=/[\n"\\]/g;function En(n){return n.replace(Vw,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Su(n,i,o,u,g,y,E,T){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),i!=null?E==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Sn(i)):n.value!==""+Sn(i)&&(n.value=""+Sn(i)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),i!=null?Eu(n,E,Sn(i)):o!=null?Eu(n,E,Sn(o)):u!=null&&n.removeAttribute("value"),g==null&&y!=null&&(n.defaultChecked=!!y),g!=null&&(n.checked=g&&typeof g!="function"&&typeof g!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+Sn(T):n.removeAttribute("name")}function Zm(n,i,o,u,g,y,E,T){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.type=y),i!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||i!=null))return;o=o!=null?""+Sn(o):"",i=i!=null?""+Sn(i):o,T||i===n.value||(n.value=i),n.defaultValue=i}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=T?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Eu(n,i,o){i==="number"&&Wo(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Zi(n,i,o,u){if(n=n.options,i){i={};for(var g=0;g<o.length;g++)i["$"+o[g]]=!0;for(o=0;o<n.length;o++)g=i.hasOwnProperty("$"+n[o].value),n[o].selected!==g&&(n[o].selected=g),g&&u&&(n[o].defaultSelected=!0)}else{for(o=""+Sn(o),i=null,g=0;g<n.length;g++){if(n[g].value===o){n[g].selected=!0,u&&(n[g].defaultSelected=!0);return}i!==null||n[g].disabled||(i=n[g])}i!==null&&(i.selected=!0)}}function Jm(n,i,o){if(i!=null&&(i=""+Sn(i),i!==n.value&&(n.value=i),o==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=o!=null?""+Sn(o):""}function ep(n,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(s(92));if(ee(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=Sn(i),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u)}function Ji(n,i){if(i){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=i;return}}n.textContent=i}var $w=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tp(n,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,o):typeof o!="number"||o===0||$w.has(i)?i==="float"?n.cssFloat=o:n[i]=(""+o).trim():n[i]=o+"px"}function np(n,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var g in i)u=i[g],i.hasOwnProperty(g)&&o[g]!==u&&tp(n,g,u)}else for(var y in i)i.hasOwnProperty(y)&&tp(n,y,i[y])}function _u(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yw=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xw=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ko(n){return Xw.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Cu=null;function Tu(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ea=null,ta=null;function sp(n){var i=Xi(n);if(i&&(n=i.stateNode)){var o=n[en]||null;e:switch(n=i.stateNode,i.type){case"input":if(Su(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+En(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==n&&u.form===n.form){var g=u[en]||null;if(!g)throw Error(s(90));Su(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===n.form&&Qm(u)}break e;case"textarea":Jm(n,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&Zi(n,!!o.multiple,i,!1)}}}var Nu=!1;function ip(n,i,o){if(Nu)return n(i,o);Nu=!0;try{var u=n(i);return u}finally{if(Nu=!1,(ea!==null||ta!==null)&&(Ll(),ea&&(i=ea,n=ta,ta=ea=null,sp(i),n)))for(i=0;i<n.length;i++)sp(n[i])}}function sr(n,i){var o=n.stateNode;if(o===null)return null;var u=o[en]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ku=!1;if(os)try{var ir={};Object.defineProperty(ir,"passive",{get:function(){ku=!0}}),window.addEventListener("test",ir,ir),window.removeEventListener("test",ir,ir)}catch{ku=!1}var js=null,Ru=null,Qo=null;function ap(){if(Qo)return Qo;var n,i=Ru,o=i.length,u,g="value"in js?js.value:js.textContent,y=g.length;for(n=0;n<o&&i[n]===g[n];n++);var E=o-n;for(u=1;u<=E&&i[o-u]===g[y-u];u++);return Qo=g.slice(n,1<u?1-u:void 0)}function Zo(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Jo(){return!0}function rp(){return!1}function tn(n){function i(o,u,g,y,E){this._reactName=o,this._targetInst=g,this.type=u,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(o=n[T],this[T]=o?o(y):y[T]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Jo:rp,this.isPropagationStopped=rp,this}return p(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Jo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Jo)},persist:function(){},isPersistent:Jo}),i}var ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},el=tn(ui),ar=p({},ui,{view:0,detail:0}),Ww=tn(ar),Mu,Du,rr,tl=p({},ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==rr&&(rr&&n.type==="mousemove"?(Mu=n.screenX-rr.screenX,Du=n.screenY-rr.screenY):Du=Mu=0,rr=n),Mu)},movementY:function(n){return"movementY"in n?n.movementY:Du}}),op=tn(tl),Kw=p({},tl,{dataTransfer:0}),Qw=tn(Kw),Zw=p({},ar,{relatedTarget:0}),ju=tn(Zw),Jw=p({},ui,{animationName:0,elapsedTime:0,pseudoElement:0}),e1=tn(Jw),t1=p({},ui,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),n1=tn(t1),s1=p({},ui,{data:0}),lp=tn(s1),i1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},r1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o1(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=r1[n])?!!i[n]:!1}function Pu(){return o1}var l1=p({},ar,{key:function(n){if(n.key){var i=i1[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Zo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?a1[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pu,charCode:function(n){return n.type==="keypress"?Zo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Zo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),c1=tn(l1),u1=p({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cp=tn(u1),d1=p({},ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pu}),h1=tn(d1),f1=p({},ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),m1=tn(f1),p1=p({},tl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),g1=tn(p1),y1=p({},ui,{newState:0,oldState:0}),b1=tn(y1),v1=[9,13,27,32],Lu=os&&"CompositionEvent"in window,or=null;os&&"documentMode"in document&&(or=document.documentMode);var x1=os&&"TextEvent"in window&&!or,up=os&&(!Lu||or&&8<or&&11>=or),dp=" ",hp=!1;function fp(n,i){switch(n){case"keyup":return v1.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var na=!1;function w1(n,i){switch(n){case"compositionend":return mp(i);case"keypress":return i.which!==32?null:(hp=!0,dp);case"textInput":return n=i.data,n===dp&&hp?null:n;default:return null}}function A1(n,i){if(na)return n==="compositionend"||!Lu&&fp(n,i)?(n=ap(),Qo=Ru=js=null,na=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return up&&i.locale!=="ko"?null:i.data;default:return null}}var S1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pp(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!S1[n.type]:i==="textarea"}function gp(n,i,o,u){ea?ta?ta.push(u):ta=[u]:ea=u,i=Bl(i,"onChange"),0<i.length&&(o=new el("onChange","change",null,o,u),n.push({event:o,listeners:i}))}var lr=null,cr=null;function E1(n){Ky(n,0)}function nl(n){var i=nr(n);if(Qm(i))return n}function yp(n,i){if(n==="change")return i}var bp=!1;if(os){var Ou;if(os){var Iu="oninput"in document;if(!Iu){var vp=document.createElement("div");vp.setAttribute("oninput","return;"),Iu=typeof vp.oninput=="function"}Ou=Iu}else Ou=!1;bp=Ou&&(!document.documentMode||9<document.documentMode)}function xp(){lr&&(lr.detachEvent("onpropertychange",wp),cr=lr=null)}function wp(n){if(n.propertyName==="value"&&nl(cr)){var i=[];gp(i,cr,n,Tu(n)),ip(E1,i)}}function _1(n,i,o){n==="focusin"?(xp(),lr=i,cr=o,lr.attachEvent("onpropertychange",wp)):n==="focusout"&&xp()}function C1(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return nl(cr)}function T1(n,i){if(n==="click")return nl(i)}function N1(n,i){if(n==="input"||n==="change")return nl(i)}function k1(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var dn=typeof Object.is=="function"?Object.is:k1;function ur(n,i){if(dn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var o=Object.keys(n),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var g=o[u];if(!xt.call(i,g)||!dn(n[g],i[g]))return!1}return!0}function Ap(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Sp(n,i){var o=Ap(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=i&&u>=i)return{node:o,offset:i-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ap(o)}}function Ep(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Ep(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function _p(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Wo(n.document);i instanceof n.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)n=i.contentWindow;else break;i=Wo(n.document)}return i}function zu(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var R1=os&&"documentMode"in document&&11>=document.documentMode,sa=null,Fu=null,dr=null,Uu=!1;function Cp(n,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Uu||sa==null||sa!==Wo(u)||(u=sa,"selectionStart"in u&&zu(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),dr&&ur(dr,u)||(dr=u,u=Bl(Fu,"onSelect"),0<u.length&&(i=new el("onSelect","select",null,i,o),n.push({event:i,listeners:u}),i.target=sa)))}function di(n,i){var o={};return o[n.toLowerCase()]=i.toLowerCase(),o["Webkit"+n]="webkit"+i,o["Moz"+n]="moz"+i,o}var ia={animationend:di("Animation","AnimationEnd"),animationiteration:di("Animation","AnimationIteration"),animationstart:di("Animation","AnimationStart"),transitionrun:di("Transition","TransitionRun"),transitionstart:di("Transition","TransitionStart"),transitioncancel:di("Transition","TransitionCancel"),transitionend:di("Transition","TransitionEnd")},Bu={},Tp={};os&&(Tp=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function hi(n){if(Bu[n])return Bu[n];if(!ia[n])return n;var i=ia[n],o;for(o in i)if(i.hasOwnProperty(o)&&o in Tp)return Bu[n]=i[o];return n}var Np=hi("animationend"),kp=hi("animationiteration"),Rp=hi("animationstart"),M1=hi("transitionrun"),D1=hi("transitionstart"),j1=hi("transitioncancel"),Mp=hi("transitionend"),Dp=new Map,Hu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hu.push("scrollEnd");function Ln(n,i){Dp.set(n,i),ci(i,[n])}var jp=new WeakMap;function _n(n,i){if(typeof n=="object"&&n!==null){var o=jp.get(n);return o!==void 0?o:(i={value:n,source:i,stack:Wm(i)},jp.set(n,i),i)}return{value:n,source:i,stack:Wm(i)}}var Cn=[],aa=0,Gu=0;function sl(){for(var n=aa,i=Gu=aa=0;i<n;){var o=Cn[i];Cn[i++]=null;var u=Cn[i];Cn[i++]=null;var g=Cn[i];Cn[i++]=null;var y=Cn[i];if(Cn[i++]=null,u!==null&&g!==null){var E=u.pending;E===null?g.next=g:(g.next=E.next,E.next=g),u.pending=g}y!==0&&Pp(o,g,y)}}function il(n,i,o,u){Cn[aa++]=n,Cn[aa++]=i,Cn[aa++]=o,Cn[aa++]=u,Gu|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function qu(n,i,o,u){return il(n,i,o,u),al(n)}function ra(n,i){return il(n,null,null,i),al(n)}function Pp(n,i,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var g=!1,y=n.return;y!==null;)y.childLanes|=o,u=y.alternate,u!==null&&(u.childLanes|=o),y.tag===22&&(n=y.stateNode,n===null||n._visibility&1||(g=!0)),n=y,y=y.return;return n.tag===3?(y=n.stateNode,g&&i!==null&&(g=31-lt(o),n=y.hiddenUpdates,u=n[g],u===null?n[g]=[i]:u.push(i),i.lane=o|536870912),y):null}function al(n){if(50<Or)throw Or=0,Kd=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var oa={};function P1(n,i,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(n,i,o,u){return new P1(n,i,o,u)}function Vu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ls(n,i){var o=n.alternate;return o===null?(o=hn(n.tag,i,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=i,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,i=n.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Lp(n,i){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,i=o.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function rl(n,i,o,u,g,y){var E=0;if(u=n,typeof n=="function")Vu(n)&&(E=1);else if(typeof n=="string")E=OA(n,o,$.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Y:return n=hn(31,o,i,g),n.elementType=Y,n.lanes=y,n;case w:return fi(o.children,g,y,i);case A:E=8,g|=24;break;case _:return n=hn(12,o,i,g|2),n.elementType=_,n.lanes=y,n;case R:return n=hn(13,o,i,g),n.elementType=R,n.lanes=y,n;case P:return n=hn(19,o,i,g),n.elementType=P,n.lanes=y,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case C:case N:E=10;break e;case k:E=9;break e;case M:E=11;break e;case O:E=14;break e;case D:E=16,u=null;break e}E=29,o=Error(s(130,n===null?"null":typeof n,"")),u=null}return i=hn(E,o,i,g),i.elementType=n,i.type=u,i.lanes=y,i}function fi(n,i,o,u){return n=hn(7,n,u,i),n.lanes=o,n}function $u(n,i,o){return n=hn(6,n,null,i),n.lanes=o,n}function Yu(n,i,o){return i=hn(4,n.children!==null?n.children:[],n.key,i),i.lanes=o,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var la=[],ca=0,ol=null,ll=0,Tn=[],Nn=0,mi=null,cs=1,us="";function pi(n,i){la[ca++]=ll,la[ca++]=ol,ol=n,ll=i}function Op(n,i,o){Tn[Nn++]=cs,Tn[Nn++]=us,Tn[Nn++]=mi,mi=n;var u=cs;n=us;var g=32-lt(u)-1;u&=~(1<<g),o+=1;var y=32-lt(i)+g;if(30<y){var E=g-g%5;y=(u&(1<<E)-1).toString(32),u>>=E,g-=E,cs=1<<32-lt(i)+g|o<<g|u,us=y+n}else cs=1<<y|o<<g|u,us=n}function Xu(n){n.return!==null&&(pi(n,1),Op(n,1,0))}function Wu(n){for(;n===ol;)ol=la[--ca],la[ca]=null,ll=la[--ca],la[ca]=null;for(;n===mi;)mi=Tn[--Nn],Tn[Nn]=null,us=Tn[--Nn],Tn[Nn]=null,cs=Tn[--Nn],Tn[Nn]=null}var Qt=null,ct=null,Ue=!1,gi=null,Vn=!1,Ku=Error(s(519));function yi(n){var i=Error(s(418,""));throw mr(_n(i,n)),Ku}function Ip(n){var i=n.stateNode,o=n.type,u=n.memoizedProps;switch(i[qt]=n,i[en]=u,o){case"dialog":je("cancel",i),je("close",i);break;case"iframe":case"object":case"embed":je("load",i);break;case"video":case"audio":for(o=0;o<zr.length;o++)je(zr[o],i);break;case"source":je("error",i);break;case"img":case"image":case"link":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"input":je("invalid",i),Zm(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Xo(i);break;case"select":je("invalid",i);break;case"textarea":je("invalid",i),ep(i,u.value,u.defaultValue,u.children),Xo(i)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||eb(i.textContent,o)?(u.popover!=null&&(je("beforetoggle",i),je("toggle",i)),u.onScroll!=null&&je("scroll",i),u.onScrollEnd!=null&&je("scrollend",i),u.onClick!=null&&(i.onclick=Hl),i=!0):i=!1,i||yi(n)}function zp(n){for(Qt=n.return;Qt;)switch(Qt.tag){case 5:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Qt=Qt.return}}function hr(n){if(n!==Qt)return!1;if(!Ue)return zp(n),Ue=!0,!1;var i=n.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||hh(n.type,n.memoizedProps)),o=!o),o&&ct&&yi(n),zp(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(i===0){ct=In(n.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;n=n.nextSibling}ct=null}}else i===27?(i=ct,Ws(n.type)?(n=gh,gh=null,ct=n):ct=i):ct=Qt?In(n.stateNode.nextSibling):null;return!0}function fr(){ct=Qt=null,Ue=!1}function Fp(){var n=gi;return n!==null&&(an===null?an=n:an.push.apply(an,n),gi=null),n}function mr(n){gi===null?gi=[n]:gi.push(n)}var Qu=Q(null),bi=null,ds=null;function Ps(n,i,o){z(Qu,i._currentValue),i._currentValue=o}function hs(n){n._currentValue=Qu.current,L(Qu)}function Zu(n,i,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===o)break;n=n.return}}function Ju(n,i,o,u){var g=n.child;for(g!==null&&(g.return=n);g!==null;){var y=g.dependencies;if(y!==null){var E=g.child;y=y.firstContext;e:for(;y!==null;){var T=y;y=g;for(var F=0;F<i.length;F++)if(T.context===i[F]){y.lanes|=o,T=y.alternate,T!==null&&(T.lanes|=o),Zu(y.return,o,n),u||(E=null);break e}y=T.next}}else if(g.tag===18){if(E=g.return,E===null)throw Error(s(341));E.lanes|=o,y=E.alternate,y!==null&&(y.lanes|=o),Zu(E,o,n),E=null}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===n){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}}function pr(n,i,o,u){n=null;for(var g=i,y=!1;g!==null;){if(!y){if((g.flags&524288)!==0)y=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var E=g.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var T=g.type;dn(g.pendingProps.value,E.value)||(n!==null?n.push(T):n=[T])}}else if(g===re.current){if(E=g.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(n!==null?n.push(qr):n=[qr])}g=g.return}n!==null&&Ju(i,n,o,u),i.flags|=262144}function cl(n){for(n=n.firstContext;n!==null;){if(!dn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function vi(n){bi=n,ds=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Vt(n){return Up(bi,n)}function ul(n,i){return bi===null&&vi(n),Up(n,i)}function Up(n,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},ds===null){if(n===null)throw Error(s(308));ds=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else ds=ds.next=i;return o}var L1=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(o){return o()})}},O1=r.unstable_scheduleCallback,I1=r.unstable_NormalPriority,Tt={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ed(){return{controller:new L1,data:new Map,refCount:0}}function gr(n){n.refCount--,n.refCount===0&&O1(I1,function(){n.controller.abort()})}var yr=null,td=0,ua=0,da=null;function z1(n,i){if(yr===null){var o=yr=[];td=0,ua=sh(),da={status:"pending",value:void 0,then:function(u){o.push(u)}}}return td++,i.then(Bp,Bp),i}function Bp(){if(--td===0&&yr!==null){da!==null&&(da.status="fulfilled");var n=yr;yr=null,ua=0,da=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function F1(n,i){var o=[],u={status:"pending",value:null,reason:null,then:function(g){o.push(g)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var g=0;g<o.length;g++)(0,o[g])(i)},function(g){for(u.status="rejected",u.reason=g,g=0;g<o.length;g++)(0,o[g])(void 0)}),u}var Hp=j.S;j.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&z1(n,i),Hp!==null&&Hp(n,i)};var xi=Q(null);function nd(){var n=xi.current;return n!==null?n:Ke.pooledCache}function dl(n,i){i===null?z(xi,xi.current):z(xi,i.pool)}function Gp(){var n=nd();return n===null?null:{parent:Tt._currentValue,pool:n}}var br=Error(s(460)),qp=Error(s(474)),hl=Error(s(542)),sd={then:function(){}};function Vp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function fl(){}function $p(n,i,o){switch(o=n[o],o===void 0?n.push(i):o!==i&&(i.then(fl,fl),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Xp(n),n;default:if(typeof i.status=="string")i.then(fl,fl);else{if(n=Ke,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=u}},function(u){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Xp(n),n}throw vr=i,br}}var vr=null;function Yp(){if(vr===null)throw Error(s(459));var n=vr;return vr=null,n}function Xp(n){if(n===br||n===hl)throw Error(s(483))}var Ls=!1;function id(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ad(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Os(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Is(n,i,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Be&2)!==0){var g=u.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),u.pending=i,i=al(n),Pp(n,null,o),i}return il(n,u,i,o),al(n)}function xr(n,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=n.pendingLanes,o|=u,i.lanes=o,Bm(n,o)}}function rd(n,i){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var g=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?g=y=E:y=y.next=E,o=o.next}while(o!==null);y===null?g=y=i:y=y.next=i}else g=y=i;o={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:y,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=i:n.next=i,o.lastBaseUpdate=i}var od=!1;function wr(){if(od){var n=da;if(n!==null)throw n}}function Ar(n,i,o,u){od=!1;var g=n.updateQueue;Ls=!1;var y=g.firstBaseUpdate,E=g.lastBaseUpdate,T=g.shared.pending;if(T!==null){g.shared.pending=null;var F=T,W=F.next;F.next=null,E===null?y=W:E.next=W,E=F;var se=n.alternate;se!==null&&(se=se.updateQueue,T=se.lastBaseUpdate,T!==E&&(T===null?se.firstBaseUpdate=W:T.next=W,se.lastBaseUpdate=F))}if(y!==null){var ae=g.baseState;E=0,se=W=F=null,T=y;do{var K=T.lane&-536870913,Z=K!==T.lane;if(Z?(Ie&K)===K:(u&K)===K){K!==0&&K===ua&&(od=!0),se!==null&&(se=se.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Se=n,xe=T;K=i;var $e=o;switch(xe.tag){case 1:if(Se=xe.payload,typeof Se=="function"){ae=Se.call($e,ae,K);break e}ae=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=xe.payload,K=typeof Se=="function"?Se.call($e,ae,K):Se,K==null)break e;ae=p({},ae,K);break e;case 2:Ls=!0}}K=T.callback,K!==null&&(n.flags|=64,Z&&(n.flags|=8192),Z=g.callbacks,Z===null?g.callbacks=[K]:Z.push(K))}else Z={lane:K,tag:T.tag,payload:T.payload,callback:T.callback,next:null},se===null?(W=se=Z,F=ae):se=se.next=Z,E|=K;if(T=T.next,T===null){if(T=g.shared.pending,T===null)break;Z=T,T=Z.next,Z.next=null,g.lastBaseUpdate=Z,g.shared.pending=null}}while(!0);se===null&&(F=ae),g.baseState=F,g.firstBaseUpdate=W,g.lastBaseUpdate=se,y===null&&(g.shared.lanes=0),Vs|=E,n.lanes=E,n.memoizedState=ae}}function Wp(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function Kp(n,i){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Wp(o[n],i)}var ha=Q(null),ml=Q(0);function Qp(n,i){n=vs,z(ml,n),z(ha,i),vs=n|i.baseLanes}function ld(){z(ml,vs),z(ha,ha.current)}function cd(){vs=ml.current,L(ha),L(ml)}var zs=0,ke=null,qe=null,At=null,pl=!1,fa=!1,wi=!1,gl=0,Sr=0,ma=null,U1=0;function ht(){throw Error(s(321))}function ud(n,i){if(i===null)return!1;for(var o=0;o<i.length&&o<n.length;o++)if(!dn(n[o],i[o]))return!1;return!0}function dd(n,i,o,u,g,y){return zs=y,ke=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,j.H=n===null||n.memoizedState===null?Pg:Lg,wi=!1,y=o(u,g),wi=!1,fa&&(y=Jp(i,o,u,g)),Zp(n),y}function Zp(n){j.H=Al;var i=qe!==null&&qe.next!==null;if(zs=0,At=qe=ke=null,pl=!1,Sr=0,ma=null,i)throw Error(s(300));n===null||Dt||(n=n.dependencies,n!==null&&cl(n)&&(Dt=!0))}function Jp(n,i,o,u){ke=n;var g=0;do{if(fa&&(ma=null),Sr=0,fa=!1,25<=g)throw Error(s(301));if(g+=1,At=qe=null,n.updateQueue!=null){var y=n.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}j.H=Y1,y=i(o,u)}while(fa);return y}function B1(){var n=j.H,i=n.useState()[0];return i=typeof i.then=="function"?Er(i):i,n=n.useState()[0],(qe!==null?qe.memoizedState:null)!==n&&(ke.flags|=1024),i}function hd(){var n=gl!==0;return gl=0,n}function fd(n,i,o){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~o}function md(n){if(pl){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}pl=!1}zs=0,At=qe=ke=null,fa=!1,Sr=gl=0,ma=null}function nn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?ke.memoizedState=At=n:At=At.next=n,At}function St(){if(qe===null){var n=ke.alternate;n=n!==null?n.memoizedState:null}else n=qe.next;var i=At===null?ke.memoizedState:At.next;if(i!==null)At=i,qe=n;else{if(n===null)throw ke.alternate===null?Error(s(467)):Error(s(310));qe=n,n={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},At===null?ke.memoizedState=At=n:At=At.next=n}return At}function pd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Er(n){var i=Sr;return Sr+=1,ma===null&&(ma=[]),n=$p(ma,n,i),i=ke,(At===null?i.memoizedState:At.next)===null&&(i=i.alternate,j.H=i===null||i.memoizedState===null?Pg:Lg),n}function yl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Er(n);if(n.$$typeof===N)return Vt(n)}throw Error(s(438,String(n)))}function gd(n){var i=null,o=ke.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=ke.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=pd(),ke.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(n),u=0;u<n;u++)o[u]=te;return i.index++,o}function fs(n,i){return typeof i=="function"?i(n):i}function bl(n){var i=St();return yd(i,qe,n)}function yd(n,i,o){var u=n.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var g=n.baseQueue,y=u.pending;if(y!==null){if(g!==null){var E=g.next;g.next=y.next,y.next=E}i.baseQueue=g=y,u.pending=null}if(y=n.baseState,g===null)n.memoizedState=y;else{i=g.next;var T=E=null,F=null,W=i,se=!1;do{var ae=W.lane&-536870913;if(ae!==W.lane?(Ie&ae)===ae:(zs&ae)===ae){var K=W.revertLane;if(K===0)F!==null&&(F=F.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ae===ua&&(se=!0);else if((zs&K)===K){W=W.next,K===ua&&(se=!0);continue}else ae={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},F===null?(T=F=ae,E=y):F=F.next=ae,ke.lanes|=K,Vs|=K;ae=W.action,wi&&o(y,ae),y=W.hasEagerState?W.eagerState:o(y,ae)}else K={lane:ae,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},F===null?(T=F=K,E=y):F=F.next=K,ke.lanes|=ae,Vs|=ae;W=W.next}while(W!==null&&W!==i);if(F===null?E=y:F.next=T,!dn(y,n.memoizedState)&&(Dt=!0,se&&(o=da,o!==null)))throw o;n.memoizedState=y,n.baseState=E,n.baseQueue=F,u.lastRenderedState=y}return g===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function bd(n){var i=St(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=n;var u=o.dispatch,g=o.pending,y=i.memoizedState;if(g!==null){o.pending=null;var E=g=g.next;do y=n(y,E.action),E=E.next;while(E!==g);dn(y,i.memoizedState)||(Dt=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),o.lastRenderedState=y}return[y,u]}function eg(n,i,o){var u=ke,g=St(),y=Ue;if(y){if(o===void 0)throw Error(s(407));o=o()}else o=i();var E=!dn((qe||g).memoizedState,o);E&&(g.memoizedState=o,Dt=!0),g=g.queue;var T=sg.bind(null,u,g,n);if(_r(2048,8,T,[n]),g.getSnapshot!==i||E||At!==null&&At.memoizedState.tag&1){if(u.flags|=2048,pa(9,vl(),ng.bind(null,u,g,o,i),null),Ke===null)throw Error(s(349));y||(zs&124)!==0||tg(u,i,o)}return o}function tg(n,i,o){n.flags|=16384,n={getSnapshot:i,value:o},i=ke.updateQueue,i===null?(i=pd(),ke.updateQueue=i,i.stores=[n]):(o=i.stores,o===null?i.stores=[n]:o.push(n))}function ng(n,i,o,u){i.value=o,i.getSnapshot=u,ig(i)&&ag(n)}function sg(n,i,o){return o(function(){ig(i)&&ag(n)})}function ig(n){var i=n.getSnapshot;n=n.value;try{var o=i();return!dn(n,o)}catch{return!0}}function ag(n){var i=ra(n,2);i!==null&&yn(i,n,2)}function vd(n){var i=nn();if(typeof n=="function"){var o=n;if(n=o(),wi){Kt(!0);try{o()}finally{Kt(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:n},i}function rg(n,i,o,u){return n.baseState=o,yd(n,qe,typeof u=="function"?u:fs)}function H1(n,i,o,u,g){if(wl(n))throw Error(s(485));if(n=i.action,n!==null){var y={payload:g,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};j.T!==null?o(!0):y.isTransition=!1,u(y),o=i.pending,o===null?(y.next=i.pending=y,og(i,y)):(y.next=o.next,i.pending=o.next=y)}}function og(n,i){var o=i.action,u=i.payload,g=n.state;if(i.isTransition){var y=j.T,E={};j.T=E;try{var T=o(g,u),F=j.S;F!==null&&F(E,T),lg(n,i,T)}catch(W){xd(n,i,W)}finally{j.T=y}}else try{y=o(g,u),lg(n,i,y)}catch(W){xd(n,i,W)}}function lg(n,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){cg(n,i,u)},function(u){return xd(n,i,u)}):cg(n,i,o)}function cg(n,i,o){i.status="fulfilled",i.value=o,ug(i),n.state=o,i=n.pending,i!==null&&(o=i.next,o===i?n.pending=null:(o=o.next,i.next=o,og(n,o)))}function xd(n,i,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,ug(i),i=i.next;while(i!==u)}n.action=null}function ug(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function dg(n,i){return i}function hg(n,i){if(Ue){var o=Ke.formState;if(o!==null){e:{var u=ke;if(Ue){if(ct){t:{for(var g=ct,y=Vn;g.nodeType!==8;){if(!y){g=null;break t}if(g=In(g.nextSibling),g===null){g=null;break t}}y=g.data,g=y==="F!"||y==="F"?g:null}if(g){ct=In(g.nextSibling),u=g.data==="F!";break e}}yi(u)}u=!1}u&&(i=o[0])}}return o=nn(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dg,lastRenderedState:i},o.queue=u,o=Mg.bind(null,ke,u),u.dispatch=o,u=vd(!1),y=_d.bind(null,ke,!1,u.queue),u=nn(),g={state:i,dispatch:null,action:n,pending:null},u.queue=g,o=H1.bind(null,ke,g,y,o),g.dispatch=o,u.memoizedState=n,[i,o,!1]}function fg(n){var i=St();return mg(i,qe,n)}function mg(n,i,o){if(i=yd(n,i,dg)[0],n=bl(fs)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Er(i)}catch(E){throw E===br?hl:E}else u=i;i=St();var g=i.queue,y=g.dispatch;return o!==i.memoizedState&&(ke.flags|=2048,pa(9,vl(),G1.bind(null,g,o),null)),[u,y,n]}function G1(n,i){n.action=i}function pg(n){var i=St(),o=qe;if(o!==null)return mg(i,o,n);St(),i=i.memoizedState,o=St();var u=o.queue.dispatch;return o.memoizedState=n,[i,u,!1]}function pa(n,i,o,u){return n={tag:n,create:o,deps:u,inst:i,next:null},i=ke.updateQueue,i===null&&(i=pd(),ke.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,i.lastEffect=n),n}function vl(){return{destroy:void 0,resource:void 0}}function gg(){return St().memoizedState}function xl(n,i,o,u){var g=nn();u=u===void 0?null:u,ke.flags|=n,g.memoizedState=pa(1|i,vl(),o,u)}function _r(n,i,o,u){var g=St();u=u===void 0?null:u;var y=g.memoizedState.inst;qe!==null&&u!==null&&ud(u,qe.memoizedState.deps)?g.memoizedState=pa(i,y,o,u):(ke.flags|=n,g.memoizedState=pa(1|i,y,o,u))}function yg(n,i){xl(8390656,8,n,i)}function bg(n,i){_r(2048,8,n,i)}function vg(n,i){return _r(4,2,n,i)}function xg(n,i){return _r(4,4,n,i)}function wg(n,i){if(typeof i=="function"){n=n();var o=i(n);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Ag(n,i,o){o=o!=null?o.concat([n]):null,_r(4,4,wg.bind(null,i,n),o)}function wd(){}function Sg(n,i){var o=St();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&ud(i,u[1])?u[0]:(o.memoizedState=[n,i],n)}function Eg(n,i){var o=St();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&ud(i,u[1]))return u[0];if(u=n(),wi){Kt(!0);try{n()}finally{Kt(!1)}}return o.memoizedState=[u,i],u}function Ad(n,i,o){return o===void 0||(zs&1073741824)!==0?n.memoizedState=i:(n.memoizedState=o,n=Ty(),ke.lanes|=n,Vs|=n,o)}function _g(n,i,o,u){return dn(o,i)?o:ha.current!==null?(n=Ad(n,o,u),dn(n,i)||(Dt=!0),n):(zs&42)===0?(Dt=!0,n.memoizedState=o):(n=Ty(),ke.lanes|=n,Vs|=n,i)}function Cg(n,i,o,u,g){var y=B.p;B.p=y!==0&&8>y?y:8;var E=j.T,T={};j.T=T,_d(n,!1,i,o);try{var F=g(),W=j.S;if(W!==null&&W(T,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var se=F1(F,u);Cr(n,i,se,gn(n))}else Cr(n,i,u,gn(n))}catch(ae){Cr(n,i,{then:function(){},status:"rejected",reason:ae},gn())}finally{B.p=y,j.T=E}}function q1(){}function Sd(n,i,o,u){if(n.tag!==5)throw Error(s(476));var g=Tg(n).queue;Cg(n,g,i,V,o===null?q1:function(){return Ng(n),o(u)})}function Tg(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:V},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:o},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Ng(n){var i=Tg(n).next.queue;Cr(n,i,{},gn())}function Ed(){return Vt(qr)}function kg(){return St().memoizedState}function Rg(){return St().memoizedState}function V1(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var o=gn();n=Os(o);var u=Is(i,n,o);u!==null&&(yn(u,i,o),xr(u,i,o)),i={cache:ed()},n.payload=i;return}i=i.return}}function $1(n,i,o){var u=gn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},wl(n)?Dg(i,o):(o=qu(n,i,o,u),o!==null&&(yn(o,n,u),jg(o,i,u)))}function Mg(n,i,o){var u=gn();Cr(n,i,o,u)}function Cr(n,i,o,u){var g={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(wl(n))Dg(i,g);else{var y=n.alternate;if(n.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var E=i.lastRenderedState,T=y(E,o);if(g.hasEagerState=!0,g.eagerState=T,dn(T,E))return il(n,i,g,0),Ke===null&&sl(),!1}catch{}finally{}if(o=qu(n,i,g,u),o!==null)return yn(o,n,u),jg(o,i,u),!0}return!1}function _d(n,i,o,u){if(u={lane:2,revertLane:sh(),action:u,hasEagerState:!1,eagerState:null,next:null},wl(n)){if(i)throw Error(s(479))}else i=qu(n,o,u,2),i!==null&&yn(i,n,2)}function wl(n){var i=n.alternate;return n===ke||i!==null&&i===ke}function Dg(n,i){fa=pl=!0;var o=n.pending;o===null?i.next=i:(i.next=o.next,o.next=i),n.pending=i}function jg(n,i,o){if((o&4194048)!==0){var u=i.lanes;u&=n.pendingLanes,o|=u,i.lanes=o,Bm(n,o)}}var Al={readContext:Vt,use:yl,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht},Pg={readContext:Vt,use:yl,useCallback:function(n,i){return nn().memoizedState=[n,i===void 0?null:i],n},useContext:Vt,useEffect:yg,useImperativeHandle:function(n,i,o){o=o!=null?o.concat([n]):null,xl(4194308,4,wg.bind(null,i,n),o)},useLayoutEffect:function(n,i){return xl(4194308,4,n,i)},useInsertionEffect:function(n,i){xl(4,2,n,i)},useMemo:function(n,i){var o=nn();i=i===void 0?null:i;var u=n();if(wi){Kt(!0);try{n()}finally{Kt(!1)}}return o.memoizedState=[u,i],u},useReducer:function(n,i,o){var u=nn();if(o!==void 0){var g=o(i);if(wi){Kt(!0);try{o(i)}finally{Kt(!1)}}}else g=i;return u.memoizedState=u.baseState=g,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:g},u.queue=n,n=n.dispatch=$1.bind(null,ke,n),[u.memoizedState,n]},useRef:function(n){var i=nn();return n={current:n},i.memoizedState=n},useState:function(n){n=vd(n);var i=n.queue,o=Mg.bind(null,ke,i);return i.dispatch=o,[n.memoizedState,o]},useDebugValue:wd,useDeferredValue:function(n,i){var o=nn();return Ad(o,n,i)},useTransition:function(){var n=vd(!1);return n=Cg.bind(null,ke,n.queue,!0,!1),nn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,o){var u=ke,g=nn();if(Ue){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),Ke===null)throw Error(s(349));(Ie&124)!==0||tg(u,i,o)}g.memoizedState=o;var y={value:o,getSnapshot:i};return g.queue=y,yg(sg.bind(null,u,y,n),[n]),u.flags|=2048,pa(9,vl(),ng.bind(null,u,y,o,i),null),o},useId:function(){var n=nn(),i=Ke.identifierPrefix;if(Ue){var o=us,u=cs;o=(u&~(1<<32-lt(u)-1)).toString(32)+o,i=""+i+"R"+o,o=gl++,0<o&&(i+="H"+o.toString(32)),i+=""}else o=U1++,i=""+i+"r"+o.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:Ed,useFormState:hg,useActionState:hg,useOptimistic:function(n){var i=nn();i.memoizedState=i.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=_d.bind(null,ke,!0,o),o.dispatch=i,[n,i]},useMemoCache:gd,useCacheRefresh:function(){return nn().memoizedState=V1.bind(null,ke)}},Lg={readContext:Vt,use:yl,useCallback:Sg,useContext:Vt,useEffect:bg,useImperativeHandle:Ag,useInsertionEffect:vg,useLayoutEffect:xg,useMemo:Eg,useReducer:bl,useRef:gg,useState:function(){return bl(fs)},useDebugValue:wd,useDeferredValue:function(n,i){var o=St();return _g(o,qe.memoizedState,n,i)},useTransition:function(){var n=bl(fs)[0],i=St().memoizedState;return[typeof n=="boolean"?n:Er(n),i]},useSyncExternalStore:eg,useId:kg,useHostTransitionStatus:Ed,useFormState:fg,useActionState:fg,useOptimistic:function(n,i){var o=St();return rg(o,qe,n,i)},useMemoCache:gd,useCacheRefresh:Rg},Y1={readContext:Vt,use:yl,useCallback:Sg,useContext:Vt,useEffect:bg,useImperativeHandle:Ag,useInsertionEffect:vg,useLayoutEffect:xg,useMemo:Eg,useReducer:bd,useRef:gg,useState:function(){return bd(fs)},useDebugValue:wd,useDeferredValue:function(n,i){var o=St();return qe===null?Ad(o,n,i):_g(o,qe.memoizedState,n,i)},useTransition:function(){var n=bd(fs)[0],i=St().memoizedState;return[typeof n=="boolean"?n:Er(n),i]},useSyncExternalStore:eg,useId:kg,useHostTransitionStatus:Ed,useFormState:pg,useActionState:pg,useOptimistic:function(n,i){var o=St();return qe!==null?rg(o,qe,n,i):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:gd,useCacheRefresh:Rg},ga=null,Tr=0;function Sl(n){var i=Tr;return Tr+=1,ga===null&&(ga=[]),$p(ga,n,i)}function Nr(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function El(n,i){throw i.$$typeof===b?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Og(n){var i=n._init;return i(n._payload)}function Ig(n){function i(G,U){if(n){var X=G.deletions;X===null?(G.deletions=[U],G.flags|=16):X.push(U)}}function o(G,U){if(!n)return null;for(;U!==null;)i(G,U),U=U.sibling;return null}function u(G){for(var U=new Map;G!==null;)G.key!==null?U.set(G.key,G):U.set(G.index,G),G=G.sibling;return U}function g(G,U){return G=ls(G,U),G.index=0,G.sibling=null,G}function y(G,U,X){return G.index=X,n?(X=G.alternate,X!==null?(X=X.index,X<U?(G.flags|=67108866,U):X):(G.flags|=67108866,U)):(G.flags|=1048576,U)}function E(G){return n&&G.alternate===null&&(G.flags|=67108866),G}function T(G,U,X,ie){return U===null||U.tag!==6?(U=$u(X,G.mode,ie),U.return=G,U):(U=g(U,X),U.return=G,U)}function F(G,U,X,ie){var he=X.type;return he===w?se(G,U,X.props.children,ie,X.key):U!==null&&(U.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===D&&Og(he)===U.type)?(U=g(U,X.props),Nr(U,X),U.return=G,U):(U=rl(X.type,X.key,X.props,null,G.mode,ie),Nr(U,X),U.return=G,U)}function W(G,U,X,ie){return U===null||U.tag!==4||U.stateNode.containerInfo!==X.containerInfo||U.stateNode.implementation!==X.implementation?(U=Yu(X,G.mode,ie),U.return=G,U):(U=g(U,X.children||[]),U.return=G,U)}function se(G,U,X,ie,he){return U===null||U.tag!==7?(U=fi(X,G.mode,ie,he),U.return=G,U):(U=g(U,X),U.return=G,U)}function ae(G,U,X){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=$u(""+U,G.mode,X),U.return=G,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case v:return X=rl(U.type,U.key,U.props,null,G.mode,X),Nr(X,U),X.return=G,X;case x:return U=Yu(U,G.mode,X),U.return=G,U;case D:var ie=U._init;return U=ie(U._payload),ae(G,U,X)}if(ee(U)||ne(U))return U=fi(U,G.mode,X,null),U.return=G,U;if(typeof U.then=="function")return ae(G,Sl(U),X);if(U.$$typeof===N)return ae(G,ul(G,U),X);El(G,U)}return null}function K(G,U,X,ie){var he=U!==null?U.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return he!==null?null:T(G,U,""+X,ie);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case v:return X.key===he?F(G,U,X,ie):null;case x:return X.key===he?W(G,U,X,ie):null;case D:return he=X._init,X=he(X._payload),K(G,U,X,ie)}if(ee(X)||ne(X))return he!==null?null:se(G,U,X,ie,null);if(typeof X.then=="function")return K(G,U,Sl(X),ie);if(X.$$typeof===N)return K(G,U,ul(G,X),ie);El(G,X)}return null}function Z(G,U,X,ie,he){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return G=G.get(X)||null,T(U,G,""+ie,he);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case v:return G=G.get(ie.key===null?X:ie.key)||null,F(U,G,ie,he);case x:return G=G.get(ie.key===null?X:ie.key)||null,W(U,G,ie,he);case D:var Me=ie._init;return ie=Me(ie._payload),Z(G,U,X,ie,he)}if(ee(ie)||ne(ie))return G=G.get(X)||null,se(U,G,ie,he,null);if(typeof ie.then=="function")return Z(G,U,X,Sl(ie),he);if(ie.$$typeof===N)return Z(G,U,X,ul(U,ie),he);El(U,ie)}return null}function Se(G,U,X,ie){for(var he=null,Me=null,ge=U,we=U=0,Pt=null;ge!==null&&we<X.length;we++){ge.index>we?(Pt=ge,ge=null):Pt=ge.sibling;var Fe=K(G,ge,X[we],ie);if(Fe===null){ge===null&&(ge=Pt);break}n&&ge&&Fe.alternate===null&&i(G,ge),U=y(Fe,U,we),Me===null?he=Fe:Me.sibling=Fe,Me=Fe,ge=Pt}if(we===X.length)return o(G,ge),Ue&&pi(G,we),he;if(ge===null){for(;we<X.length;we++)ge=ae(G,X[we],ie),ge!==null&&(U=y(ge,U,we),Me===null?he=ge:Me.sibling=ge,Me=ge);return Ue&&pi(G,we),he}for(ge=u(ge);we<X.length;we++)Pt=Z(ge,G,we,X[we],ie),Pt!==null&&(n&&Pt.alternate!==null&&ge.delete(Pt.key===null?we:Pt.key),U=y(Pt,U,we),Me===null?he=Pt:Me.sibling=Pt,Me=Pt);return n&&ge.forEach(function(ei){return i(G,ei)}),Ue&&pi(G,we),he}function xe(G,U,X,ie){if(X==null)throw Error(s(151));for(var he=null,Me=null,ge=U,we=U=0,Pt=null,Fe=X.next();ge!==null&&!Fe.done;we++,Fe=X.next()){ge.index>we?(Pt=ge,ge=null):Pt=ge.sibling;var ei=K(G,ge,Fe.value,ie);if(ei===null){ge===null&&(ge=Pt);break}n&&ge&&ei.alternate===null&&i(G,ge),U=y(ei,U,we),Me===null?he=ei:Me.sibling=ei,Me=ei,ge=Pt}if(Fe.done)return o(G,ge),Ue&&pi(G,we),he;if(ge===null){for(;!Fe.done;we++,Fe=X.next())Fe=ae(G,Fe.value,ie),Fe!==null&&(U=y(Fe,U,we),Me===null?he=Fe:Me.sibling=Fe,Me=Fe);return Ue&&pi(G,we),he}for(ge=u(ge);!Fe.done;we++,Fe=X.next())Fe=Z(ge,G,we,Fe.value,ie),Fe!==null&&(n&&Fe.alternate!==null&&ge.delete(Fe.key===null?we:Fe.key),U=y(Fe,U,we),Me===null?he=Fe:Me.sibling=Fe,Me=Fe);return n&&ge.forEach(function(XA){return i(G,XA)}),Ue&&pi(G,we),he}function $e(G,U,X,ie){if(typeof X=="object"&&X!==null&&X.type===w&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case v:e:{for(var he=X.key;U!==null;){if(U.key===he){if(he=X.type,he===w){if(U.tag===7){o(G,U.sibling),ie=g(U,X.props.children),ie.return=G,G=ie;break e}}else if(U.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===D&&Og(he)===U.type){o(G,U.sibling),ie=g(U,X.props),Nr(ie,X),ie.return=G,G=ie;break e}o(G,U);break}else i(G,U);U=U.sibling}X.type===w?(ie=fi(X.props.children,G.mode,ie,X.key),ie.return=G,G=ie):(ie=rl(X.type,X.key,X.props,null,G.mode,ie),Nr(ie,X),ie.return=G,G=ie)}return E(G);case x:e:{for(he=X.key;U!==null;){if(U.key===he)if(U.tag===4&&U.stateNode.containerInfo===X.containerInfo&&U.stateNode.implementation===X.implementation){o(G,U.sibling),ie=g(U,X.children||[]),ie.return=G,G=ie;break e}else{o(G,U);break}else i(G,U);U=U.sibling}ie=Yu(X,G.mode,ie),ie.return=G,G=ie}return E(G);case D:return he=X._init,X=he(X._payload),$e(G,U,X,ie)}if(ee(X))return Se(G,U,X,ie);if(ne(X)){if(he=ne(X),typeof he!="function")throw Error(s(150));return X=he.call(X),xe(G,U,X,ie)}if(typeof X.then=="function")return $e(G,U,Sl(X),ie);if(X.$$typeof===N)return $e(G,U,ul(G,X),ie);El(G,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,U!==null&&U.tag===6?(o(G,U.sibling),ie=g(U,X),ie.return=G,G=ie):(o(G,U),ie=$u(X,G.mode,ie),ie.return=G,G=ie),E(G)):o(G,U)}return function(G,U,X,ie){try{Tr=0;var he=$e(G,U,X,ie);return ga=null,he}catch(ge){if(ge===br||ge===hl)throw ge;var Me=hn(29,ge,null,G.mode);return Me.lanes=ie,Me.return=G,Me}finally{}}}var ya=Ig(!0),zg=Ig(!1),kn=Q(null),$n=null;function Fs(n){var i=n.alternate;z(Nt,Nt.current&1),z(kn,n),$n===null&&(i===null||ha.current!==null||i.memoizedState!==null)&&($n=n)}function Fg(n){if(n.tag===22){if(z(Nt,Nt.current),z(kn,n),$n===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&($n=n)}}else Us()}function Us(){z(Nt,Nt.current),z(kn,kn.current)}function ms(n){L(kn),$n===n&&($n=null),L(Nt)}var Nt=Q(0);function _l(n){for(var i=n;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||ph(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Cd(n,i,o,u){i=n.memoizedState,o=o(u,i),o=o==null?i:p({},i,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Td={enqueueSetState:function(n,i,o){n=n._reactInternals;var u=gn(),g=Os(u);g.payload=i,o!=null&&(g.callback=o),i=Is(n,g,u),i!==null&&(yn(i,n,u),xr(i,n,u))},enqueueReplaceState:function(n,i,o){n=n._reactInternals;var u=gn(),g=Os(u);g.tag=1,g.payload=i,o!=null&&(g.callback=o),i=Is(n,g,u),i!==null&&(yn(i,n,u),xr(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var o=gn(),u=Os(o);u.tag=2,i!=null&&(u.callback=i),i=Is(n,u,o),i!==null&&(yn(i,n,o),xr(i,n,o))}};function Ug(n,i,o,u,g,y,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,y,E):i.prototype&&i.prototype.isPureReactComponent?!ur(o,u)||!ur(g,y):!0}function Bg(n,i,o,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==n&&Td.enqueueReplaceState(i,i.state,null)}function Ai(n,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(n=n.defaultProps){o===i&&(o=p({},o));for(var g in n)o[g]===void 0&&(o[g]=n[g])}return o}var Cl=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Hg(n){Cl(n)}function Gg(n){console.error(n)}function qg(n){Cl(n)}function Tl(n,i){try{var o=n.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Vg(n,i,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Nd(n,i,o){return o=Os(o),o.tag=3,o.payload={element:null},o.callback=function(){Tl(n,i)},o}function $g(n){return n=Os(n),n.tag=3,n}function Yg(n,i,o,u){var g=o.type.getDerivedStateFromError;if(typeof g=="function"){var y=u.value;n.payload=function(){return g(y)},n.callback=function(){Vg(i,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){Vg(i,o,u),typeof g!="function"&&($s===null?$s=new Set([this]):$s.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function X1(n,i,o,u,g){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&pr(i,o,g,!0),o=kn.current,o!==null){switch(o.tag){case 13:return $n===null?Zd():o.alternate===null&&ut===0&&(ut=3),o.flags&=-257,o.flags|=65536,o.lanes=g,u===sd?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),eh(n,u,g)),!1;case 22:return o.flags|=65536,u===sd?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),eh(n,u,g)),!1}throw Error(s(435,o.tag))}return eh(n,u,g),Zd(),!1}if(Ue)return i=kn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,u!==Ku&&(n=Error(s(422),{cause:u}),mr(_n(n,o)))):(u!==Ku&&(i=Error(s(423),{cause:u}),mr(_n(i,o))),n=n.current.alternate,n.flags|=65536,g&=-g,n.lanes|=g,u=_n(u,o),g=Nd(n.stateNode,u,g),rd(n,g),ut!==4&&(ut=2)),!1;var y=Error(s(520),{cause:u});if(y=_n(y,o),Lr===null?Lr=[y]:Lr.push(y),ut!==4&&(ut=2),i===null)return!0;u=_n(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,n=g&-g,o.lanes|=n,n=Nd(o.stateNode,u,n),rd(o,n),!1;case 1:if(i=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&($s===null||!$s.has(y))))return o.flags|=65536,g&=-g,o.lanes|=g,g=$g(g),Yg(g,n,o,u),rd(o,g),!1}o=o.return}while(o!==null);return!1}var Xg=Error(s(461)),Dt=!1;function Ft(n,i,o,u){i.child=n===null?zg(i,null,o,u):ya(i,n.child,o,u)}function Wg(n,i,o,u,g){o=o.render;var y=i.ref;if("ref"in u){var E={};for(var T in u)T!=="ref"&&(E[T]=u[T])}else E=u;return vi(i),u=dd(n,i,o,E,y,g),T=hd(),n!==null&&!Dt?(fd(n,i,g),ps(n,i,g)):(Ue&&T&&Xu(i),i.flags|=1,Ft(n,i,u,g),i.child)}function Kg(n,i,o,u,g){if(n===null){var y=o.type;return typeof y=="function"&&!Vu(y)&&y.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=y,Qg(n,i,y,u,g)):(n=rl(o.type,null,u,i,i.mode,g),n.ref=i.ref,n.return=i,i.child=n)}if(y=n.child,!Od(n,g)){var E=y.memoizedProps;if(o=o.compare,o=o!==null?o:ur,o(E,u)&&n.ref===i.ref)return ps(n,i,g)}return i.flags|=1,n=ls(y,u),n.ref=i.ref,n.return=i,i.child=n}function Qg(n,i,o,u,g){if(n!==null){var y=n.memoizedProps;if(ur(y,u)&&n.ref===i.ref)if(Dt=!1,i.pendingProps=u=y,Od(n,g))(n.flags&131072)!==0&&(Dt=!0);else return i.lanes=n.lanes,ps(n,i,g)}return kd(n,i,o,u,g)}function Zg(n,i,o){var u=i.pendingProps,g=u.children,y=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=y!==null?y.baseLanes|o:o,n!==null){for(g=i.child=n.child,y=0;g!==null;)y=y|g.lanes|g.childLanes,g=g.sibling;i.childLanes=y&~u}else i.childLanes=0,i.child=null;return Jg(n,i,u,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&dl(i,y!==null?y.cachePool:null),y!==null?Qp(i,y):ld(),Fg(i);else return i.lanes=i.childLanes=536870912,Jg(n,i,y!==null?y.baseLanes|o:o,o)}else y!==null?(dl(i,y.cachePool),Qp(i,y),Us(),i.memoizedState=null):(n!==null&&dl(i,null),ld(),Us());return Ft(n,i,g,o),i.child}function Jg(n,i,o,u){var g=nd();return g=g===null?null:{parent:Tt._currentValue,pool:g},i.memoizedState={baseLanes:o,cachePool:g},n!==null&&dl(i,null),ld(),Fg(i),n!==null&&pr(n,i,u,!0),null}function Nl(n,i){var o=i.ref;if(o===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(n===null||n.ref!==o)&&(i.flags|=4194816)}}function kd(n,i,o,u,g){return vi(i),o=dd(n,i,o,u,void 0,g),u=hd(),n!==null&&!Dt?(fd(n,i,g),ps(n,i,g)):(Ue&&u&&Xu(i),i.flags|=1,Ft(n,i,o,g),i.child)}function ey(n,i,o,u,g,y){return vi(i),i.updateQueue=null,o=Jp(i,u,o,g),Zp(n),u=hd(),n!==null&&!Dt?(fd(n,i,y),ps(n,i,y)):(Ue&&u&&Xu(i),i.flags|=1,Ft(n,i,o,y),i.child)}function ty(n,i,o,u,g){if(vi(i),i.stateNode===null){var y=oa,E=o.contextType;typeof E=="object"&&E!==null&&(y=Vt(E)),y=new o(u,y),i.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Td,i.stateNode=y,y._reactInternals=i,y=i.stateNode,y.props=u,y.state=i.memoizedState,y.refs={},id(i),E=o.contextType,y.context=typeof E=="object"&&E!==null?Vt(E):oa,y.state=i.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Cd(i,o,E,u),y.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&Td.enqueueReplaceState(y,y.state,null),Ar(i,u,y,g),wr(),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){y=i.stateNode;var T=i.memoizedProps,F=Ai(o,T);y.props=F;var W=y.context,se=o.contextType;E=oa,typeof se=="object"&&se!==null&&(E=Vt(se));var ae=o.getDerivedStateFromProps;se=typeof ae=="function"||typeof y.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,se||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(T||W!==E)&&Bg(i,y,u,E),Ls=!1;var K=i.memoizedState;y.state=K,Ar(i,u,y,g),wr(),W=i.memoizedState,T||K!==W||Ls?(typeof ae=="function"&&(Cd(i,o,ae,u),W=i.memoizedState),(F=Ls||Ug(i,o,F,u,K,W,E))?(se||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(i.flags|=4194308)):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=W),y.props=u,y.state=W,y.context=E,u=F):(typeof y.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{y=i.stateNode,ad(n,i),E=i.memoizedProps,se=Ai(o,E),y.props=se,ae=i.pendingProps,K=y.context,W=o.contextType,F=oa,typeof W=="object"&&W!==null&&(F=Vt(W)),T=o.getDerivedStateFromProps,(W=typeof T=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==ae||K!==F)&&Bg(i,y,u,F),Ls=!1,K=i.memoizedState,y.state=K,Ar(i,u,y,g),wr();var Z=i.memoizedState;E!==ae||K!==Z||Ls||n!==null&&n.dependencies!==null&&cl(n.dependencies)?(typeof T=="function"&&(Cd(i,o,T,u),Z=i.memoizedState),(se=Ls||Ug(i,o,se,u,K,Z,F)||n!==null&&n.dependencies!==null&&cl(n.dependencies))?(W||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(u,Z,F),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(u,Z,F)),typeof y.componentDidUpdate=="function"&&(i.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=Z),y.props=u,y.state=Z,y.context=F,u=se):(typeof y.componentDidUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(i.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&K===n.memoizedState||(i.flags|=1024),u=!1)}return y=u,Nl(n,i),u=(i.flags&128)!==0,y||u?(y=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:y.render(),i.flags|=1,n!==null&&u?(i.child=ya(i,n.child,null,g),i.child=ya(i,null,o,g)):Ft(n,i,o,g),i.memoizedState=y.state,n=i.child):n=ps(n,i,g),n}function ny(n,i,o,u){return fr(),i.flags|=256,Ft(n,i,o,u),i.child}var Rd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Md(n){return{baseLanes:n,cachePool:Gp()}}function Dd(n,i,o){return n=n!==null?n.childLanes&~o:0,i&&(n|=Rn),n}function sy(n,i,o){var u=i.pendingProps,g=!1,y=(i.flags&128)!==0,E;if((E=y)||(E=n!==null&&n.memoizedState===null?!1:(Nt.current&2)!==0),E&&(g=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,n===null){if(Ue){if(g?Fs(i):Us(),Ue){var T=ct,F;if(F=T){e:{for(F=T,T=Vn;F.nodeType!==8;){if(!T){T=null;break e}if(F=In(F.nextSibling),F===null){T=null;break e}}T=F}T!==null?(i.memoizedState={dehydrated:T,treeContext:mi!==null?{id:cs,overflow:us}:null,retryLane:536870912,hydrationErrors:null},F=hn(18,null,null,0),F.stateNode=T,F.return=i,i.child=F,Qt=i,ct=null,F=!0):F=!1}F||yi(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return ph(T)?i.lanes=32:i.lanes=536870912,null;ms(i)}return T=u.children,u=u.fallback,g?(Us(),g=i.mode,T=kl({mode:"hidden",children:T},g),u=fi(u,g,o,null),T.return=i,u.return=i,T.sibling=u,i.child=T,g=i.child,g.memoizedState=Md(o),g.childLanes=Dd(n,E,o),i.memoizedState=Rd,u):(Fs(i),jd(i,T))}if(F=n.memoizedState,F!==null&&(T=F.dehydrated,T!==null)){if(y)i.flags&256?(Fs(i),i.flags&=-257,i=Pd(n,i,o)):i.memoizedState!==null?(Us(),i.child=n.child,i.flags|=128,i=null):(Us(),g=u.fallback,T=i.mode,u=kl({mode:"visible",children:u.children},T),g=fi(g,T,o,null),g.flags|=2,u.return=i,g.return=i,u.sibling=g,i.child=u,ya(i,n.child,null,o),u=i.child,u.memoizedState=Md(o),u.childLanes=Dd(n,E,o),i.memoizedState=Rd,i=g);else if(Fs(i),ph(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var W=E.dgst;E=W,u=Error(s(419)),u.stack="",u.digest=E,mr({value:u,source:null,stack:null}),i=Pd(n,i,o)}else if(Dt||pr(n,i,o,!1),E=(o&n.childLanes)!==0,Dt||E){if(E=Ke,E!==null&&(u=o&-o,u=(u&42)!==0?1:gu(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==F.retryLane))throw F.retryLane=u,ra(n,u),yn(E,n,u),Xg;T.data==="$?"||Zd(),i=Pd(n,i,o)}else T.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=F.treeContext,ct=In(T.nextSibling),Qt=i,Ue=!0,gi=null,Vn=!1,n!==null&&(Tn[Nn++]=cs,Tn[Nn++]=us,Tn[Nn++]=mi,cs=n.id,us=n.overflow,mi=i),i=jd(i,u.children),i.flags|=4096);return i}return g?(Us(),g=u.fallback,T=i.mode,F=n.child,W=F.sibling,u=ls(F,{mode:"hidden",children:u.children}),u.subtreeFlags=F.subtreeFlags&65011712,W!==null?g=ls(W,g):(g=fi(g,T,o,null),g.flags|=2),g.return=i,u.return=i,u.sibling=g,i.child=u,u=g,g=i.child,T=n.child.memoizedState,T===null?T=Md(o):(F=T.cachePool,F!==null?(W=Tt._currentValue,F=F.parent!==W?{parent:W,pool:W}:F):F=Gp(),T={baseLanes:T.baseLanes|o,cachePool:F}),g.memoizedState=T,g.childLanes=Dd(n,E,o),i.memoizedState=Rd,u):(Fs(i),o=n.child,n=o.sibling,o=ls(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,n!==null&&(E=i.deletions,E===null?(i.deletions=[n],i.flags|=16):E.push(n)),i.child=o,i.memoizedState=null,o)}function jd(n,i){return i=kl({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function kl(n,i){return n=hn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Pd(n,i,o){return ya(i,n.child,null,o),n=jd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function iy(n,i,o){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),Zu(n.return,i,o)}function Ld(n,i,o,u,g){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:g}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=u,y.tail=o,y.tailMode=g)}function ay(n,i,o){var u=i.pendingProps,g=u.revealOrder,y=u.tail;if(Ft(n,i,u.children,o),u=Nt.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&iy(n,o,i);else if(n.tag===19)iy(n,o,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(z(Nt,u),g){case"forwards":for(o=i.child,g=null;o!==null;)n=o.alternate,n!==null&&_l(n)===null&&(g=o),o=o.sibling;o=g,o===null?(g=i.child,i.child=null):(g=o.sibling,o.sibling=null),Ld(i,!1,g,o,y);break;case"backwards":for(o=null,g=i.child,i.child=null;g!==null;){if(n=g.alternate,n!==null&&_l(n)===null){i.child=g;break}n=g.sibling,g.sibling=o,o=g,g=n}Ld(i,!0,o,null,y);break;case"together":Ld(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ps(n,i,o){if(n!==null&&(i.dependencies=n.dependencies),Vs|=i.lanes,(o&i.childLanes)===0)if(n!==null){if(pr(n,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,o=ls(n,n.pendingProps),i.child=o,o.return=i;n.sibling!==null;)n=n.sibling,o=o.sibling=ls(n,n.pendingProps),o.return=i;o.sibling=null}return i.child}function Od(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&cl(n)))}function W1(n,i,o){switch(i.tag){case 3:be(i,i.stateNode.containerInfo),Ps(i,Tt,n.memoizedState.cache),fr();break;case 27:case 5:_e(i);break;case 4:be(i,i.stateNode.containerInfo);break;case 10:Ps(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Fs(i),i.flags|=128,null):(o&i.child.childLanes)!==0?sy(n,i,o):(Fs(i),n=ps(n,i,o),n!==null?n.sibling:null);Fs(i);break;case 19:var g=(n.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(pr(n,i,o,!1),u=(o&i.childLanes)!==0),g){if(u)return ay(n,i,o);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),z(Nt,Nt.current),u)break;return null;case 22:case 23:return i.lanes=0,Zg(n,i,o);case 24:Ps(i,Tt,n.memoizedState.cache)}return ps(n,i,o)}function ry(n,i,o){if(n!==null)if(n.memoizedProps!==i.pendingProps)Dt=!0;else{if(!Od(n,o)&&(i.flags&128)===0)return Dt=!1,W1(n,i,o);Dt=(n.flags&131072)!==0}else Dt=!1,Ue&&(i.flags&1048576)!==0&&Op(i,ll,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var u=i.elementType,g=u._init;if(u=g(u._payload),i.type=u,typeof u=="function")Vu(u)?(n=Ai(u,n),i.tag=1,i=ty(null,i,u,n,o)):(i.tag=0,i=kd(null,i,u,n,o));else{if(u!=null){if(g=u.$$typeof,g===M){i.tag=11,i=Wg(null,i,u,n,o);break e}else if(g===O){i.tag=14,i=Kg(null,i,u,n,o);break e}}throw i=q(u)||u,Error(s(306,i,""))}}return i;case 0:return kd(n,i,i.type,i.pendingProps,o);case 1:return u=i.type,g=Ai(u,i.pendingProps),ty(n,i,u,g,o);case 3:e:{if(be(i,i.stateNode.containerInfo),n===null)throw Error(s(387));u=i.pendingProps;var y=i.memoizedState;g=y.element,ad(n,i),Ar(i,u,null,o);var E=i.memoizedState;if(u=E.cache,Ps(i,Tt,u),u!==y.cache&&Ju(i,[Tt],o,!0),wr(),u=E.element,y.isDehydrated)if(y={element:u,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){i=ny(n,i,u,o);break e}else if(u!==g){g=_n(Error(s(424)),i),mr(g),i=ny(n,i,u,o);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ct=In(n.firstChild),Qt=i,Ue=!0,gi=null,Vn=!0,o=zg(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(fr(),u===g){i=ps(n,i,o);break e}Ft(n,i,u,o)}i=i.child}return i;case 26:return Nl(n,i),n===null?(o=ub(i.type,null,i.pendingProps,null))?i.memoizedState=o:Ue||(o=i.type,n=i.pendingProps,u=Gl(J.current).createElement(o),u[qt]=i,u[en]=n,Bt(u,o,n),Mt(u),i.stateNode=u):i.memoizedState=ub(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return _e(i),n===null&&Ue&&(u=i.stateNode=ob(i.type,i.pendingProps,J.current),Qt=i,Vn=!0,g=ct,Ws(i.type)?(gh=g,ct=In(u.firstChild)):ct=g),Ft(n,i,i.pendingProps.children,o),Nl(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Ue&&((g=u=ct)&&(u=SA(u,i.type,i.pendingProps,Vn),u!==null?(i.stateNode=u,Qt=i,ct=In(u.firstChild),Vn=!1,g=!0):g=!1),g||yi(i)),_e(i),g=i.type,y=i.pendingProps,E=n!==null?n.memoizedProps:null,u=y.children,hh(g,y)?u=null:E!==null&&hh(g,E)&&(i.flags|=32),i.memoizedState!==null&&(g=dd(n,i,B1,null,null,o),qr._currentValue=g),Nl(n,i),Ft(n,i,u,o),i.child;case 6:return n===null&&Ue&&((n=o=ct)&&(o=EA(o,i.pendingProps,Vn),o!==null?(i.stateNode=o,Qt=i,ct=null,n=!0):n=!1),n||yi(i)),null;case 13:return sy(n,i,o);case 4:return be(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=ya(i,null,u,o):Ft(n,i,u,o),i.child;case 11:return Wg(n,i,i.type,i.pendingProps,o);case 7:return Ft(n,i,i.pendingProps,o),i.child;case 8:return Ft(n,i,i.pendingProps.children,o),i.child;case 12:return Ft(n,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,Ps(i,i.type,u.value),Ft(n,i,u.children,o),i.child;case 9:return g=i.type._context,u=i.pendingProps.children,vi(i),g=Vt(g),u=u(g),i.flags|=1,Ft(n,i,u,o),i.child;case 14:return Kg(n,i,i.type,i.pendingProps,o);case 15:return Qg(n,i,i.type,i.pendingProps,o);case 19:return ay(n,i,o);case 31:return u=i.pendingProps,o=i.mode,u={mode:u.mode,children:u.children},n===null?(o=kl(u,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=ls(n.child,u),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return Zg(n,i,o);case 24:return vi(i),u=Vt(Tt),n===null?(g=nd(),g===null&&(g=Ke,y=ed(),g.pooledCache=y,y.refCount++,y!==null&&(g.pooledCacheLanes|=o),g=y),i.memoizedState={parent:u,cache:g},id(i),Ps(i,Tt,g)):((n.lanes&o)!==0&&(ad(n,i),Ar(i,null,null,o),wr()),g=n.memoizedState,y=i.memoizedState,g.parent!==u?(g={parent:u,cache:u},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),Ps(i,Tt,u)):(u=y.cache,Ps(i,Tt,u),u!==g.cache&&Ju(i,[Tt],o,!0))),Ft(n,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function gs(n){n.flags|=4}function oy(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!pb(i)){if(i=kn.current,i!==null&&((Ie&4194048)===Ie?$n!==null:(Ie&62914560)!==Ie&&(Ie&536870912)===0||i!==$n))throw vr=sd,qp;n.flags|=8192}}function Rl(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Fm():536870912,n.lanes|=i,wa|=i)}function kr(n,i){if(!Ue)switch(n.tailMode){case"hidden":i=n.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function it(n){var i=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(i)for(var g=n.child;g!==null;)o|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=n,g=g.sibling;else for(g=n.child;g!==null;)o|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=n,g=g.sibling;return n.subtreeFlags|=u,n.childLanes=o,i}function K1(n,i,o){var u=i.pendingProps;switch(Wu(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return o=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),hs(Tt),Ne(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(hr(i)?gs(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Fp())),it(i),null;case 26:return o=i.memoizedState,n===null?(gs(i),o!==null?(it(i),oy(i,o)):(it(i),i.flags&=-16777217)):o?o!==n.memoizedState?(gs(i),it(i),oy(i,o)):(it(i),i.flags&=-16777217):(n.memoizedProps!==u&&gs(i),it(i),i.flags&=-16777217),null;case 27:rt(i),o=J.current;var g=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==u&&gs(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return it(i),null}n=$.current,hr(i)?Ip(i):(n=ob(g,u,o),i.stateNode=n,gs(i))}return it(i),null;case 5:if(rt(i),o=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&gs(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(n=$.current,hr(i))Ip(i);else{switch(g=Gl(J.current),n){case 1:n=g.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=g.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=g.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=g.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?g.createElement("select",{is:u.is}):g.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?g.createElement(o,{is:u.is}):g.createElement(o)}}n[qt]=i,n[en]=u;e:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)n.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break e;for(;g.sibling===null;){if(g.return===null||g.return===i)break e;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=n;e:switch(Bt(n,o,u),o){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&gs(i)}}return it(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&gs(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(n=J.current,hr(i)){if(n=i.stateNode,o=i.memoizedProps,u=null,g=Qt,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}n[qt]=i,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||eb(n.nodeValue,o)),n||yi(i)}else n=Gl(n).createTextNode(u),n[qt]=i,i.stateNode=n}return it(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(g=hr(i),u!==null&&u.dehydrated!==null){if(n===null){if(!g)throw Error(s(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[qt]=i}else fr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),g=!1}else g=Fp(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(ms(i),i):(ms(i),null)}if(ms(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=u!==null,n=n!==null&&n.memoizedState!==null,o){u=i.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool);var y=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(y=u.memoizedState.cachePool.pool),y!==g&&(u.flags|=2048)}return o!==n&&o&&(i.child.flags|=8192),Rl(i,i.updateQueue),it(i),null;case 4:return Ne(),n===null&&oh(i.stateNode.containerInfo),it(i),null;case 10:return hs(i.type),it(i),null;case 19:if(L(Nt),g=i.memoizedState,g===null)return it(i),null;if(u=(i.flags&128)!==0,y=g.rendering,y===null)if(u)kr(g,!1);else{if(ut!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(y=_l(n),y!==null){for(i.flags|=128,kr(g,!1),n=y.updateQueue,i.updateQueue=n,Rl(i,n),i.subtreeFlags=0,n=o,o=i.child;o!==null;)Lp(o,n),o=o.sibling;return z(Nt,Nt.current&1|2),i.child}n=n.sibling}g.tail!==null&&zt()>jl&&(i.flags|=128,u=!0,kr(g,!1),i.lanes=4194304)}else{if(!u)if(n=_l(y),n!==null){if(i.flags|=128,u=!0,n=n.updateQueue,i.updateQueue=n,Rl(i,n),kr(g,!0),g.tail===null&&g.tailMode==="hidden"&&!y.alternate&&!Ue)return it(i),null}else 2*zt()-g.renderingStartTime>jl&&o!==536870912&&(i.flags|=128,u=!0,kr(g,!1),i.lanes=4194304);g.isBackwards?(y.sibling=i.child,i.child=y):(n=g.last,n!==null?n.sibling=y:i.child=y,g.last=y)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=zt(),i.sibling=null,n=Nt.current,z(Nt,u?n&1|2:n&1),i):(it(i),null);case 22:case 23:return ms(i),cd(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),o=i.updateQueue,o!==null&&Rl(i,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),n!==null&&L(xi),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),hs(Tt),it(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Q1(n,i){switch(Wu(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return hs(Tt),Ne(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return rt(i),null;case 13:if(ms(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));fr()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return L(Nt),null;case 4:return Ne(),null;case 10:return hs(i.type),null;case 22:case 23:return ms(i),cd(),n!==null&&L(xi),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return hs(Tt),null;case 25:return null;default:return null}}function ly(n,i){switch(Wu(i),i.tag){case 3:hs(Tt),Ne();break;case 26:case 27:case 5:rt(i);break;case 4:Ne();break;case 13:ms(i);break;case 19:L(Nt);break;case 10:hs(i.type);break;case 22:case 23:ms(i),cd(),n!==null&&L(xi);break;case 24:hs(Tt)}}function Rr(n,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var g=u.next;o=g;do{if((o.tag&n)===n){u=void 0;var y=o.create,E=o.inst;u=y(),E.destroy=u}o=o.next}while(o!==g)}}catch(T){Xe(i,i.return,T)}}function Bs(n,i,o){try{var u=i.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var y=g.next;u=y;do{if((u.tag&n)===n){var E=u.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,g=i;var F=o,W=T;try{W()}catch(se){Xe(g,F,se)}}}u=u.next}while(u!==y)}}catch(se){Xe(i,i.return,se)}}function cy(n){var i=n.updateQueue;if(i!==null){var o=n.stateNode;try{Kp(i,o)}catch(u){Xe(n,n.return,u)}}}function uy(n,i,o){o.props=Ai(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){Xe(n,i,u)}}function Mr(n,i){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(g){Xe(n,i,g)}}function Yn(n,i){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(g){Xe(n,i,g)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(g){Xe(n,i,g)}else o.current=null}function dy(n){var i=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(g){Xe(n,n.return,g)}}function Id(n,i,o){try{var u=n.stateNode;bA(u,n.type,o,i),u[en]=i}catch(g){Xe(n,n.return,g)}}function hy(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ws(n.type)||n.tag===4}function zd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||hy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ws(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Fd(n,i,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(n),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Hl));else if(u!==4&&(u===27&&Ws(n.type)&&(o=n.stateNode,i=null),n=n.child,n!==null))for(Fd(n,i,o),n=n.sibling;n!==null;)Fd(n,i,o),n=n.sibling}function Ml(n,i,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?o.insertBefore(n,i):o.appendChild(n);else if(u!==4&&(u===27&&Ws(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Ml(n,i,o),n=n.sibling;n!==null;)Ml(n,i,o),n=n.sibling}function fy(n){var i=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);Bt(i,u,o),i[qt]=n,i[en]=o}catch(y){Xe(n,n.return,y)}}var ys=!1,ft=!1,Ud=!1,my=typeof WeakSet=="function"?WeakSet:Set,jt=null;function Z1(n,i){if(n=n.containerInfo,uh=Wl,n=_p(n),zu(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var g=u.anchorOffset,y=u.focusNode;u=u.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var E=0,T=-1,F=-1,W=0,se=0,ae=n,K=null;t:for(;;){for(var Z;ae!==o||g!==0&&ae.nodeType!==3||(T=E+g),ae!==y||u!==0&&ae.nodeType!==3||(F=E+u),ae.nodeType===3&&(E+=ae.nodeValue.length),(Z=ae.firstChild)!==null;)K=ae,ae=Z;for(;;){if(ae===n)break t;if(K===o&&++W===g&&(T=E),K===y&&++se===u&&(F=E),(Z=ae.nextSibling)!==null)break;ae=K,K=ae.parentNode}ae=Z}o=T===-1||F===-1?null:{start:T,end:F}}else o=null}o=o||{start:0,end:0}}else o=null;for(dh={focusedElem:n,selectionRange:o},Wl=!1,jt=i;jt!==null;)if(i=jt,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,jt=n;else for(;jt!==null;){switch(i=jt,y=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&y!==null){n=void 0,o=i,g=y.memoizedProps,y=y.memoizedState,u=o.stateNode;try{var Se=Ai(o.type,g,o.elementType===o.type);n=u.getSnapshotBeforeUpdate(Se,y),u.__reactInternalSnapshotBeforeUpdate=n}catch(xe){Xe(o,o.return,xe)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,o=n.nodeType,o===9)mh(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":mh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,jt=n;break}jt=i.return}}function py(n,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Hs(n,o),u&4&&Rr(5,o);break;case 1:if(Hs(n,o),u&4)if(n=o.stateNode,i===null)try{n.componentDidMount()}catch(E){Xe(o,o.return,E)}else{var g=Ai(o.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(g,i,n.__reactInternalSnapshotBeforeUpdate)}catch(E){Xe(o,o.return,E)}}u&64&&cy(o),u&512&&Mr(o,o.return);break;case 3:if(Hs(n,o),u&64&&(n=o.updateQueue,n!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Kp(n,i)}catch(E){Xe(o,o.return,E)}}break;case 27:i===null&&u&4&&fy(o);case 26:case 5:Hs(n,o),i===null&&u&4&&dy(o),u&512&&Mr(o,o.return);break;case 12:Hs(n,o);break;case 13:Hs(n,o),u&4&&by(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=oA.bind(null,o),_A(n,o))));break;case 22:if(u=o.memoizedState!==null||ys,!u){i=i!==null&&i.memoizedState!==null||ft,g=ys;var y=ft;ys=u,(ft=i)&&!y?Gs(n,o,(o.subtreeFlags&8772)!==0):Hs(n,o),ys=g,ft=y}break;case 30:break;default:Hs(n,o)}}function gy(n){var i=n.alternate;i!==null&&(n.alternate=null,gy(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&vu(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ze=null,sn=!1;function bs(n,i,o){for(o=o.child;o!==null;)yy(n,i,o),o=o.sibling}function yy(n,i,o){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(oi,o)}catch{}switch(o.tag){case 26:ft||Yn(o,i),bs(n,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ft||Yn(o,i);var u=Ze,g=sn;Ws(o.type)&&(Ze=o.stateNode,sn=!1),bs(n,i,o),Ur(o.stateNode),Ze=u,sn=g;break;case 5:ft||Yn(o,i);case 6:if(u=Ze,g=sn,Ze=null,bs(n,i,o),Ze=u,sn=g,Ze!==null)if(sn)try{(Ze.nodeType===9?Ze.body:Ze.nodeName==="HTML"?Ze.ownerDocument.body:Ze).removeChild(o.stateNode)}catch(y){Xe(o,i,y)}else try{Ze.removeChild(o.stateNode)}catch(y){Xe(o,i,y)}break;case 18:Ze!==null&&(sn?(n=Ze,ab(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Xr(n)):ab(Ze,o.stateNode));break;case 4:u=Ze,g=sn,Ze=o.stateNode.containerInfo,sn=!0,bs(n,i,o),Ze=u,sn=g;break;case 0:case 11:case 14:case 15:ft||Bs(2,o,i),ft||Bs(4,o,i),bs(n,i,o);break;case 1:ft||(Yn(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&uy(o,i,u)),bs(n,i,o);break;case 21:bs(n,i,o);break;case 22:ft=(u=ft)||o.memoizedState!==null,bs(n,i,o),ft=u;break;default:bs(n,i,o)}}function by(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Xr(n)}catch(o){Xe(i,i.return,o)}}function J1(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new my),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new my),i;default:throw Error(s(435,n.tag))}}function Bd(n,i){var o=J1(n);i.forEach(function(u){var g=lA.bind(null,n,u);o.has(u)||(o.add(u),u.then(g,g))})}function fn(n,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var g=o[u],y=n,E=i,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(Ws(T.type)){Ze=T.stateNode,sn=!1;break e}break;case 5:Ze=T.stateNode,sn=!1;break e;case 3:case 4:Ze=T.stateNode.containerInfo,sn=!0;break e}T=T.return}if(Ze===null)throw Error(s(160));yy(y,E,g),Ze=null,sn=!1,y=g.alternate,y!==null&&(y.return=null),g.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)vy(i,n),i=i.sibling}var On=null;function vy(n,i){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:fn(i,n),mn(n),u&4&&(Bs(3,n,n.return),Rr(3,n),Bs(5,n,n.return));break;case 1:fn(i,n),mn(n),u&512&&(ft||o===null||Yn(o,o.return)),u&64&&ys&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var g=On;if(fn(i,n),mn(n),u&512&&(ft||o===null||Yn(o,o.return)),u&4){var y=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":y=g.getElementsByTagName("title")[0],(!y||y[tr]||y[qt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=g.createElement(u),g.head.insertBefore(y,g.querySelector("head > title"))),Bt(y,u,o),y[qt]=n,Mt(y),u=y;break e;case"link":var E=fb("link","href",g).get(u+(o.href||""));if(E){for(var T=0;T<E.length;T++)if(y=E[T],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(T,1);break t}}y=g.createElement(u),Bt(y,u,o),g.head.appendChild(y);break;case"meta":if(E=fb("meta","content",g).get(u+(o.content||""))){for(T=0;T<E.length;T++)if(y=E[T],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(T,1);break t}}y=g.createElement(u),Bt(y,u,o),g.head.appendChild(y);break;default:throw Error(s(468,u))}y[qt]=n,Mt(y),u=y}n.stateNode=u}else mb(g,n.type,n.stateNode);else n.stateNode=hb(g,u,n.memoizedProps);else y!==u?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,u===null?mb(g,n.type,n.stateNode):hb(g,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Id(n,n.memoizedProps,o.memoizedProps)}break;case 27:fn(i,n),mn(n),u&512&&(ft||o===null||Yn(o,o.return)),o!==null&&u&4&&Id(n,n.memoizedProps,o.memoizedProps);break;case 5:if(fn(i,n),mn(n),u&512&&(ft||o===null||Yn(o,o.return)),n.flags&32){g=n.stateNode;try{Ji(g,"")}catch(Z){Xe(n,n.return,Z)}}u&4&&n.stateNode!=null&&(g=n.memoizedProps,Id(n,g,o!==null?o.memoizedProps:g)),u&1024&&(Ud=!0);break;case 6:if(fn(i,n),mn(n),u&4){if(n.stateNode===null)throw Error(s(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(Z){Xe(n,n.return,Z)}}break;case 3:if($l=null,g=On,On=ql(i.containerInfo),fn(i,n),On=g,mn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Xr(i.containerInfo)}catch(Z){Xe(n,n.return,Z)}Ud&&(Ud=!1,xy(n));break;case 4:u=On,On=ql(n.stateNode.containerInfo),fn(i,n),mn(n),On=u;break;case 12:fn(i,n),mn(n);break;case 13:fn(i,n),mn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Yd=zt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Bd(n,u)));break;case 22:g=n.memoizedState!==null;var F=o!==null&&o.memoizedState!==null,W=ys,se=ft;if(ys=W||g,ft=se||F,fn(i,n),ft=se,ys=W,mn(n),u&8192)e:for(i=n.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(o===null||F||ys||ft||Si(n)),o=null,i=n;;){if(i.tag===5||i.tag===26){if(o===null){F=o=i;try{if(y=F.stateNode,g)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=F.stateNode;var ae=F.memoizedProps.style,K=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;T.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Z){Xe(F,F.return,Z)}}}else if(i.tag===6){if(o===null){F=i;try{F.stateNode.nodeValue=g?"":F.memoizedProps}catch(Z){Xe(F,F.return,Z)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Bd(n,o))));break;case 19:fn(i,n),mn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Bd(n,u)));break;case 30:break;case 21:break;default:fn(i,n),mn(n)}}function mn(n){var i=n.flags;if(i&2){try{for(var o,u=n.return;u!==null;){if(hy(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var g=o.stateNode,y=zd(n);Ml(n,y,g);break;case 5:var E=o.stateNode;o.flags&32&&(Ji(E,""),o.flags&=-33);var T=zd(n);Ml(n,T,E);break;case 3:case 4:var F=o.stateNode.containerInfo,W=zd(n);Fd(n,W,F);break;default:throw Error(s(161))}}catch(se){Xe(n,n.return,se)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function xy(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;xy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Hs(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)py(n,i.alternate,i),i=i.sibling}function Si(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Bs(4,i,i.return),Si(i);break;case 1:Yn(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&uy(i,i.return,o),Si(i);break;case 27:Ur(i.stateNode);case 26:case 5:Yn(i,i.return),Si(i);break;case 22:i.memoizedState===null&&Si(i);break;case 30:Si(i);break;default:Si(i)}n=n.sibling}}function Gs(n,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,g=n,y=i,E=y.flags;switch(y.tag){case 0:case 11:case 15:Gs(g,y,o),Rr(4,y);break;case 1:if(Gs(g,y,o),u=y,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(W){Xe(u,u.return,W)}if(u=y,g=u.updateQueue,g!==null){var T=u.stateNode;try{var F=g.shared.hiddenCallbacks;if(F!==null)for(g.shared.hiddenCallbacks=null,g=0;g<F.length;g++)Wp(F[g],T)}catch(W){Xe(u,u.return,W)}}o&&E&64&&cy(y),Mr(y,y.return);break;case 27:fy(y);case 26:case 5:Gs(g,y,o),o&&u===null&&E&4&&dy(y),Mr(y,y.return);break;case 12:Gs(g,y,o);break;case 13:Gs(g,y,o),o&&E&4&&by(g,y);break;case 22:y.memoizedState===null&&Gs(g,y,o),Mr(y,y.return);break;case 30:break;default:Gs(g,y,o)}i=i.sibling}}function Hd(n,i){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&gr(o))}function Gd(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&gr(n))}function Xn(n,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)wy(n,i,o,u),i=i.sibling}function wy(n,i,o,u){var g=i.flags;switch(i.tag){case 0:case 11:case 15:Xn(n,i,o,u),g&2048&&Rr(9,i);break;case 1:Xn(n,i,o,u);break;case 3:Xn(n,i,o,u),g&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&gr(n)));break;case 12:if(g&2048){Xn(n,i,o,u),n=i.stateNode;try{var y=i.memoizedProps,E=y.id,T=y.onPostCommit;typeof T=="function"&&T(E,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(F){Xe(i,i.return,F)}}else Xn(n,i,o,u);break;case 13:Xn(n,i,o,u);break;case 23:break;case 22:y=i.stateNode,E=i.alternate,i.memoizedState!==null?y._visibility&2?Xn(n,i,o,u):Dr(n,i):y._visibility&2?Xn(n,i,o,u):(y._visibility|=2,ba(n,i,o,u,(i.subtreeFlags&10256)!==0)),g&2048&&Hd(E,i);break;case 24:Xn(n,i,o,u),g&2048&&Gd(i.alternate,i);break;default:Xn(n,i,o,u)}}function ba(n,i,o,u,g){for(g=g&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var y=n,E=i,T=o,F=u,W=E.flags;switch(E.tag){case 0:case 11:case 15:ba(y,E,T,F,g),Rr(8,E);break;case 23:break;case 22:var se=E.stateNode;E.memoizedState!==null?se._visibility&2?ba(y,E,T,F,g):Dr(y,E):(se._visibility|=2,ba(y,E,T,F,g)),g&&W&2048&&Hd(E.alternate,E);break;case 24:ba(y,E,T,F,g),g&&W&2048&&Gd(E.alternate,E);break;default:ba(y,E,T,F,g)}i=i.sibling}}function Dr(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=n,u=i,g=u.flags;switch(u.tag){case 22:Dr(o,u),g&2048&&Hd(u.alternate,u);break;case 24:Dr(o,u),g&2048&&Gd(u.alternate,u);break;default:Dr(o,u)}i=i.sibling}}var jr=8192;function va(n){if(n.subtreeFlags&jr)for(n=n.child;n!==null;)Ay(n),n=n.sibling}function Ay(n){switch(n.tag){case 26:va(n),n.flags&jr&&n.memoizedState!==null&&zA(On,n.memoizedState,n.memoizedProps);break;case 5:va(n);break;case 3:case 4:var i=On;On=ql(n.stateNode.containerInfo),va(n),On=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=jr,jr=16777216,va(n),jr=i):va(n));break;default:va(n)}}function Sy(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Pr(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];jt=u,_y(u,n)}Sy(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ey(n),n=n.sibling}function Ey(n){switch(n.tag){case 0:case 11:case 15:Pr(n),n.flags&2048&&Bs(9,n,n.return);break;case 3:Pr(n);break;case 12:Pr(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Dl(n)):Pr(n);break;default:Pr(n)}}function Dl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];jt=u,_y(u,n)}Sy(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Bs(8,i,i.return),Dl(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,Dl(i));break;default:Dl(i)}n=n.sibling}}function _y(n,i){for(;jt!==null;){var o=jt;switch(o.tag){case 0:case 11:case 15:Bs(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:gr(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,jt=u;else e:for(o=n;jt!==null;){u=jt;var g=u.sibling,y=u.return;if(gy(u),u===o){jt=null;break e}if(g!==null){g.return=y,jt=g;break e}jt=y}}}var eA={getCacheForType:function(n){var i=Vt(Tt),o=i.data.get(n);return o===void 0&&(o=n(),i.data.set(n,o)),o}},tA=typeof WeakMap=="function"?WeakMap:Map,Be=0,Ke=null,De=null,Ie=0,He=0,pn=null,qs=!1,xa=!1,qd=!1,vs=0,ut=0,Vs=0,Ei=0,Vd=0,Rn=0,wa=0,Lr=null,an=null,$d=!1,Yd=0,jl=1/0,Pl=null,$s=null,Ut=0,Ys=null,Aa=null,Sa=0,Xd=0,Wd=null,Cy=null,Or=0,Kd=null;function gn(){if((Be&2)!==0&&Ie!==0)return Ie&-Ie;if(j.T!==null){var n=ua;return n!==0?n:sh()}return Hm()}function Ty(){Rn===0&&(Rn=(Ie&536870912)===0||Ue?zm():536870912);var n=kn.current;return n!==null&&(n.flags|=32),Rn}function yn(n,i,o){(n===Ke&&(He===2||He===9)||n.cancelPendingCommit!==null)&&(Ea(n,0),Xs(n,Ie,Rn,!1)),er(n,o),((Be&2)===0||n!==Ke)&&(n===Ke&&((Be&2)===0&&(Ei|=o),ut===4&&Xs(n,Ie,Rn,!1)),Wn(n))}function Ny(n,i,o){if((Be&6)!==0)throw Error(s(327));var u=!o&&(i&124)===0&&(i&n.expiredLanes)===0||Ja(n,i),g=u?iA(n,i):Jd(n,i,!0),y=u;do{if(g===0){xa&&!u&&Xs(n,i,0,!1);break}else{if(o=n.current.alternate,y&&!nA(o)){g=Jd(n,i,!1),y=!1;continue}if(g===2){if(y=i,n.errorRecoveryDisabledLanes&y)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var T=n;g=Lr;var F=T.current.memoizedState.isDehydrated;if(F&&(Ea(T,E).flags|=256),E=Jd(T,E,!1),E!==2){if(qd&&!F){T.errorRecoveryDisabledLanes|=y,Ei|=y,g=4;break e}y=an,an=g,y!==null&&(an===null?an=y:an.push.apply(an,y))}g=E}if(y=!1,g!==2)continue}}if(g===1){Ea(n,0),Xs(n,i,0,!0);break}e:{switch(u=n,y=g,y){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Xs(u,i,Rn,!qs);break e;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(g=Yd+300-zt(),10<g)){if(Xs(u,i,Rn,!qs),Vo(u,0,!0)!==0)break e;u.timeoutHandle=sb(ky.bind(null,u,o,an,Pl,$d,i,Rn,Ei,wa,qs,y,2,-0,0),g);break e}ky(u,o,an,Pl,$d,i,Rn,Ei,wa,qs,y,0,-0,0)}}break}while(!0);Wn(n)}function ky(n,i,o,u,g,y,E,T,F,W,se,ae,K,Z){if(n.timeoutHandle=-1,ae=i.subtreeFlags,(ae&8192||(ae&16785408)===16785408)&&(Gr={stylesheets:null,count:0,unsuspend:IA},Ay(i),ae=FA(),ae!==null)){n.cancelPendingCommit=ae(Oy.bind(null,n,i,y,o,u,g,E,T,F,se,1,K,Z)),Xs(n,y,E,!W);return}Oy(n,i,y,o,u,g,E,T,F)}function nA(n){for(var i=n;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var g=o[u],y=g.getSnapshot;g=g.value;try{if(!dn(y(),g))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Xs(n,i,o,u){i&=~Vd,i&=~Ei,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var g=i;0<g;){var y=31-lt(g),E=1<<y;u[y]=-1,g&=~E}o!==0&&Um(n,o,i)}function Ll(){return(Be&6)===0?(Ir(0),!1):!0}function Qd(){if(De!==null){if(He===0)var n=De.return;else n=De,ds=bi=null,md(n),ga=null,Tr=0,n=De;for(;n!==null;)ly(n.alternate,n),n=n.return;De=null}}function Ea(n,i){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,xA(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Qd(),Ke=n,De=o=ls(n.current,null),Ie=i,He=0,pn=null,qs=!1,xa=Ja(n,i),qd=!1,wa=Rn=Vd=Ei=Vs=ut=0,an=Lr=null,$d=!1,(i&8)!==0&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var g=31-lt(u),y=1<<g;i|=n[g],u&=~y}return vs=i,sl(),o}function Ry(n,i){ke=null,j.H=Al,i===br||i===hl?(i=Yp(),He=3):i===qp?(i=Yp(),He=4):He=i===Xg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,pn=i,De===null&&(ut=1,Tl(n,_n(i,n.current)))}function My(){var n=j.H;return j.H=Al,n===null?Al:n}function Dy(){var n=j.A;return j.A=eA,n}function Zd(){ut=4,qs||(Ie&4194048)!==Ie&&kn.current!==null||(xa=!0),(Vs&134217727)===0&&(Ei&134217727)===0||Ke===null||Xs(Ke,Ie,Rn,!1)}function Jd(n,i,o){var u=Be;Be|=2;var g=My(),y=Dy();(Ke!==n||Ie!==i)&&(Pl=null,Ea(n,i)),i=!1;var E=ut;e:do try{if(He!==0&&De!==null){var T=De,F=pn;switch(He){case 8:Qd(),E=6;break e;case 3:case 2:case 9:case 6:kn.current===null&&(i=!0);var W=He;if(He=0,pn=null,_a(n,T,F,W),o&&xa){E=0;break e}break;default:W=He,He=0,pn=null,_a(n,T,F,W)}}sA(),E=ut;break}catch(se){Ry(n,se)}while(!0);return i&&n.shellSuspendCounter++,ds=bi=null,Be=u,j.H=g,j.A=y,De===null&&(Ke=null,Ie=0,sl()),E}function sA(){for(;De!==null;)jy(De)}function iA(n,i){var o=Be;Be|=2;var u=My(),g=Dy();Ke!==n||Ie!==i?(Pl=null,jl=zt()+500,Ea(n,i)):xa=Ja(n,i);e:do try{if(He!==0&&De!==null){i=De;var y=pn;t:switch(He){case 1:He=0,pn=null,_a(n,i,y,1);break;case 2:case 9:if(Vp(y)){He=0,pn=null,Py(i);break}i=function(){He!==2&&He!==9||Ke!==n||(He=7),Wn(n)},y.then(i,i);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:Vp(y)?(He=0,pn=null,Py(i)):(He=0,pn=null,_a(n,i,y,7));break;case 5:var E=null;switch(De.tag){case 26:E=De.memoizedState;case 5:case 27:var T=De;if(!E||pb(E)){He=0,pn=null;var F=T.sibling;if(F!==null)De=F;else{var W=T.return;W!==null?(De=W,Ol(W)):De=null}break t}}He=0,pn=null,_a(n,i,y,5);break;case 6:He=0,pn=null,_a(n,i,y,6);break;case 8:Qd(),ut=6;break e;default:throw Error(s(462))}}aA();break}catch(se){Ry(n,se)}while(!0);return ds=bi=null,j.H=u,j.A=g,Be=o,De!==null?0:(Ke=null,Ie=0,sl(),ut)}function aA(){for(;De!==null&&!dt();)jy(De)}function jy(n){var i=ry(n.alternate,n,vs);n.memoizedProps=n.pendingProps,i===null?Ol(n):De=i}function Py(n){var i=n,o=i.alternate;switch(i.tag){case 15:case 0:i=ey(o,i,i.pendingProps,i.type,void 0,Ie);break;case 11:i=ey(o,i,i.pendingProps,i.type.render,i.ref,Ie);break;case 5:md(i);default:ly(o,i),i=De=Lp(i,vs),i=ry(o,i,vs)}n.memoizedProps=n.pendingProps,i===null?Ol(n):De=i}function _a(n,i,o,u){ds=bi=null,md(i),ga=null,Tr=0;var g=i.return;try{if(X1(n,g,i,o,Ie)){ut=1,Tl(n,_n(o,n.current)),De=null;return}}catch(y){if(g!==null)throw De=g,y;ut=1,Tl(n,_n(o,n.current)),De=null;return}i.flags&32768?(Ue||u===1?n=!0:xa||(Ie&536870912)!==0?n=!1:(qs=n=!0,(u===2||u===9||u===3||u===6)&&(u=kn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Ly(i,n)):Ol(i)}function Ol(n){var i=n;do{if((i.flags&32768)!==0){Ly(i,qs);return}n=i.return;var o=K1(i.alternate,i,vs);if(o!==null){De=o;return}if(i=i.sibling,i!==null){De=i;return}De=i=n}while(i!==null);ut===0&&(ut=5)}function Ly(n,i){do{var o=Q1(n.alternate,n);if(o!==null){o.flags&=32767,De=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(n=n.sibling,n!==null)){De=n;return}De=n=o}while(n!==null);ut=6,De=null}function Oy(n,i,o,u,g,y,E,T,F){n.cancelPendingCommit=null;do Il();while(Ut!==0);if((Be&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(y=i.lanes|i.childLanes,y|=Gu,Iw(n,o,y,E,T,F),n===Ke&&(De=Ke=null,Ie=0),Aa=i,Ys=n,Sa=o,Xd=y,Wd=g,Cy=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,cA(as,function(){return By(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=j.T,j.T=null,g=B.p,B.p=2,E=Be,Be|=4;try{Z1(n,i,o)}finally{Be=E,B.p=g,j.T=u}}Ut=1,Iy(),zy(),Fy()}}function Iy(){if(Ut===1){Ut=0;var n=Ys,i=Aa,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=j.T,j.T=null;var u=B.p;B.p=2;var g=Be;Be|=4;try{vy(i,n);var y=dh,E=_p(n.containerInfo),T=y.focusedElem,F=y.selectionRange;if(E!==T&&T&&T.ownerDocument&&Ep(T.ownerDocument.documentElement,T)){if(F!==null&&zu(T)){var W=F.start,se=F.end;if(se===void 0&&(se=W),"selectionStart"in T)T.selectionStart=W,T.selectionEnd=Math.min(se,T.value.length);else{var ae=T.ownerDocument||document,K=ae&&ae.defaultView||window;if(K.getSelection){var Z=K.getSelection(),Se=T.textContent.length,xe=Math.min(F.start,Se),$e=F.end===void 0?xe:Math.min(F.end,Se);!Z.extend&&xe>$e&&(E=$e,$e=xe,xe=E);var G=Sp(T,xe),U=Sp(T,$e);if(G&&U&&(Z.rangeCount!==1||Z.anchorNode!==G.node||Z.anchorOffset!==G.offset||Z.focusNode!==U.node||Z.focusOffset!==U.offset)){var X=ae.createRange();X.setStart(G.node,G.offset),Z.removeAllRanges(),xe>$e?(Z.addRange(X),Z.extend(U.node,U.offset)):(X.setEnd(U.node,U.offset),Z.addRange(X))}}}}for(ae=[],Z=T;Z=Z.parentNode;)Z.nodeType===1&&ae.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ae.length;T++){var ie=ae[T];ie.element.scrollLeft=ie.left,ie.element.scrollTop=ie.top}}Wl=!!uh,dh=uh=null}finally{Be=g,B.p=u,j.T=o}}n.current=i,Ut=2}}function zy(){if(Ut===2){Ut=0;var n=Ys,i=Aa,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=j.T,j.T=null;var u=B.p;B.p=2;var g=Be;Be|=4;try{py(n,i.alternate,i)}finally{Be=g,B.p=u,j.T=o}}Ut=3}}function Fy(){if(Ut===4||Ut===3){Ut=0,wt();var n=Ys,i=Aa,o=Sa,u=Cy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ut=5:(Ut=0,Aa=Ys=null,Uy(n,n.pendingLanes));var g=n.pendingLanes;if(g===0&&($s=null),yu(o),i=i.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(oi,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=j.T,g=B.p,B.p=2,j.T=null;try{for(var y=n.onRecoverableError,E=0;E<u.length;E++){var T=u[E];y(T.value,{componentStack:T.stack})}}finally{j.T=i,B.p=g}}(Sa&3)!==0&&Il(),Wn(n),g=n.pendingLanes,(o&4194090)!==0&&(g&42)!==0?n===Kd?Or++:(Or=0,Kd=n):Or=0,Ir(0)}}function Uy(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,gr(i)))}function Il(n){return Iy(),zy(),Fy(),By()}function By(){if(Ut!==5)return!1;var n=Ys,i=Xd;Xd=0;var o=yu(Sa),u=j.T,g=B.p;try{B.p=32>o?32:o,j.T=null,o=Wd,Wd=null;var y=Ys,E=Sa;if(Ut=0,Aa=Ys=null,Sa=0,(Be&6)!==0)throw Error(s(331));var T=Be;if(Be|=4,Ey(y.current),wy(y,y.current,E,o),Be=T,Ir(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(oi,y)}catch{}return!0}finally{B.p=g,j.T=u,Uy(n,i)}}function Hy(n,i,o){i=_n(o,i),i=Nd(n.stateNode,i,2),n=Is(n,i,2),n!==null&&(er(n,2),Wn(n))}function Xe(n,i,o){if(n.tag===3)Hy(n,n,o);else for(;i!==null;){if(i.tag===3){Hy(i,n,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&($s===null||!$s.has(u))){n=_n(o,n),o=$g(2),u=Is(i,o,2),u!==null&&(Yg(o,u,i,n),er(u,2),Wn(u));break}}i=i.return}}function eh(n,i,o){var u=n.pingCache;if(u===null){u=n.pingCache=new tA;var g=new Set;u.set(i,g)}else g=u.get(i),g===void 0&&(g=new Set,u.set(i,g));g.has(o)||(qd=!0,g.add(o),n=rA.bind(null,n,i,o),i.then(n,n))}function rA(n,i,o){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Ke===n&&(Ie&o)===o&&(ut===4||ut===3&&(Ie&62914560)===Ie&&300>zt()-Yd?(Be&2)===0&&Ea(n,0):Vd|=o,wa===Ie&&(wa=0)),Wn(n)}function Gy(n,i){i===0&&(i=Fm()),n=ra(n,i),n!==null&&(er(n,i),Wn(n))}function oA(n){var i=n.memoizedState,o=0;i!==null&&(o=i.retryLane),Gy(n,o)}function lA(n,i){var o=0;switch(n.tag){case 13:var u=n.stateNode,g=n.memoizedState;g!==null&&(o=g.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),Gy(n,o)}function cA(n,i){return Oe(n,i)}var zl=null,Ca=null,th=!1,Fl=!1,nh=!1,_i=0;function Wn(n){n!==Ca&&n.next===null&&(Ca===null?zl=Ca=n:Ca=Ca.next=n),Fl=!0,th||(th=!0,dA())}function Ir(n,i){if(!nh&&Fl){nh=!0;do for(var o=!1,u=zl;u!==null;){if(n!==0){var g=u.pendingLanes;if(g===0)var y=0;else{var E=u.suspendedLanes,T=u.pingedLanes;y=(1<<31-lt(42|n)+1)-1,y&=g&~(E&~T),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Yy(u,y))}else y=Ie,y=Vo(u,u===Ke?y:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(y&3)===0||Ja(u,y)||(o=!0,Yy(u,y));u=u.next}while(o);nh=!1}}function uA(){qy()}function qy(){Fl=th=!1;var n=0;_i!==0&&(vA()&&(n=_i),_i=0);for(var i=zt(),o=null,u=zl;u!==null;){var g=u.next,y=Vy(u,i);y===0?(u.next=null,o===null?zl=g:o.next=g,g===null&&(Ca=o)):(o=u,(n!==0||(y&3)!==0)&&(Fl=!0)),u=g}Ir(n)}function Vy(n,i){for(var o=n.suspendedLanes,u=n.pingedLanes,g=n.expirationTimes,y=n.pendingLanes&-62914561;0<y;){var E=31-lt(y),T=1<<E,F=g[E];F===-1?((T&o)===0||(T&u)!==0)&&(g[E]=Ow(T,i)):F<=i&&(n.expiredLanes|=T),y&=~T}if(i=Ke,o=Ie,o=Vo(n,n===i?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===i&&(He===2||He===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Ge(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Ja(n,o)){if(i=o&-o,i===n.callbackPriority)return i;switch(u!==null&&Ge(u),yu(o)){case 2:case 8:o=Bo;break;case 32:o=as;break;case 268435456:o=Ho;break;default:o=as}return u=$y.bind(null,n),o=Oe(o,u),n.callbackPriority=i,n.callbackNode=o,i}return u!==null&&u!==null&&Ge(u),n.callbackPriority=2,n.callbackNode=null,2}function $y(n,i){if(Ut!==0&&Ut!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Il()&&n.callbackNode!==o)return null;var u=Ie;return u=Vo(n,n===Ke?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Ny(n,u,i),Vy(n,zt()),n.callbackNode!=null&&n.callbackNode===o?$y.bind(null,n):null)}function Yy(n,i){if(Il())return null;Ny(n,i,!0)}function dA(){wA(function(){(Be&6)!==0?Oe(Vi,uA):qy()})}function sh(){return _i===0&&(_i=zm()),_i}function Xy(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ko(""+n)}function Wy(n,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,n.id&&o.setAttribute("form",n.id),i.parentNode.insertBefore(o,i),n=new FormData(n),o.parentNode.removeChild(o),n}function hA(n,i,o,u,g){if(i==="submit"&&o&&o.stateNode===g){var y=Xy((g[en]||null).action),E=u.submitter;E&&(i=(i=E[en]||null)?Xy(i.formAction):E.getAttribute("formAction"),i!==null&&(y=i,E=null));var T=new el("action","action",null,u,g);n.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(_i!==0){var F=E?Wy(g,E):new FormData(g);Sd(o,{pending:!0,data:F,method:g.method,action:y},null,F)}}else typeof y=="function"&&(T.preventDefault(),F=E?Wy(g,E):new FormData(g),Sd(o,{pending:!0,data:F,method:g.method,action:y},y,F))},currentTarget:g}]})}}for(var ih=0;ih<Hu.length;ih++){var ah=Hu[ih],fA=ah.toLowerCase(),mA=ah[0].toUpperCase()+ah.slice(1);Ln(fA,"on"+mA)}Ln(Np,"onAnimationEnd"),Ln(kp,"onAnimationIteration"),Ln(Rp,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(M1,"onTransitionRun"),Ln(D1,"onTransitionStart"),Ln(j1,"onTransitionCancel"),Ln(Mp,"onTransitionEnd"),Ki("onMouseEnter",["mouseout","mouseover"]),Ki("onMouseLeave",["mouseout","mouseover"]),Ki("onPointerEnter",["pointerout","pointerover"]),Ki("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(zr));function Ky(n,i){i=(i&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],g=u.event;u=u.listeners;e:{var y=void 0;if(i)for(var E=u.length-1;0<=E;E--){var T=u[E],F=T.instance,W=T.currentTarget;if(T=T.listener,F!==y&&g.isPropagationStopped())break e;y=T,g.currentTarget=W;try{y(g)}catch(se){Cl(se)}g.currentTarget=null,y=F}else for(E=0;E<u.length;E++){if(T=u[E],F=T.instance,W=T.currentTarget,T=T.listener,F!==y&&g.isPropagationStopped())break e;y=T,g.currentTarget=W;try{y(g)}catch(se){Cl(se)}g.currentTarget=null,y=F}}}}function je(n,i){var o=i[bu];o===void 0&&(o=i[bu]=new Set);var u=n+"__bubble";o.has(u)||(Qy(i,n,2,!1),o.add(u))}function rh(n,i,o){var u=0;i&&(u|=4),Qy(o,n,u,i)}var Ul="_reactListening"+Math.random().toString(36).slice(2);function oh(n){if(!n[Ul]){n[Ul]=!0,qm.forEach(function(o){o!=="selectionchange"&&(pA.has(o)||rh(o,!1,n),rh(o,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Ul]||(i[Ul]=!0,rh("selectionchange",!1,i))}}function Qy(n,i,o,u){switch(wb(i)){case 2:var g=HA;break;case 8:g=GA;break;default:g=wh}o=g.bind(null,i,o,n),g=void 0,!ku||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),u?g!==void 0?n.addEventListener(i,o,{capture:!0,passive:g}):n.addEventListener(i,o,!0):g!==void 0?n.addEventListener(i,o,{passive:g}):n.addEventListener(i,o,!1)}function lh(n,i,o,u,g){var y=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var T=u.stateNode.containerInfo;if(T===g)break;if(E===4)for(E=u.return;E!==null;){var F=E.tag;if((F===3||F===4)&&E.stateNode.containerInfo===g)return;E=E.return}for(;T!==null;){if(E=Yi(T),E===null)return;if(F=E.tag,F===5||F===6||F===26||F===27){u=y=E;continue e}T=T.parentNode}}u=u.return}ip(function(){var W=y,se=Tu(o),ae=[];e:{var K=Dp.get(n);if(K!==void 0){var Z=el,Se=n;switch(n){case"keypress":if(Zo(o)===0)break e;case"keydown":case"keyup":Z=c1;break;case"focusin":Se="focus",Z=ju;break;case"focusout":Se="blur",Z=ju;break;case"beforeblur":case"afterblur":Z=ju;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=op;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Qw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=h1;break;case Np:case kp:case Rp:Z=e1;break;case Mp:Z=m1;break;case"scroll":case"scrollend":Z=Ww;break;case"wheel":Z=g1;break;case"copy":case"cut":case"paste":Z=n1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=cp;break;case"toggle":case"beforetoggle":Z=b1}var xe=(i&4)!==0,$e=!xe&&(n==="scroll"||n==="scrollend"),G=xe?K!==null?K+"Capture":null:K;xe=[];for(var U=W,X;U!==null;){var ie=U;if(X=ie.stateNode,ie=ie.tag,ie!==5&&ie!==26&&ie!==27||X===null||G===null||(ie=sr(U,G),ie!=null&&xe.push(Fr(U,ie,X))),$e)break;U=U.return}0<xe.length&&(K=new Z(K,Se,null,o,se),ae.push({event:K,listeners:xe}))}}if((i&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",Z=n==="mouseout"||n==="pointerout",K&&o!==Cu&&(Se=o.relatedTarget||o.fromElement)&&(Yi(Se)||Se[$i]))break e;if((Z||K)&&(K=se.window===se?se:(K=se.ownerDocument)?K.defaultView||K.parentWindow:window,Z?(Se=o.relatedTarget||o.toElement,Z=W,Se=Se?Yi(Se):null,Se!==null&&($e=l(Se),xe=Se.tag,Se!==$e||xe!==5&&xe!==27&&xe!==6)&&(Se=null)):(Z=null,Se=W),Z!==Se)){if(xe=op,ie="onMouseLeave",G="onMouseEnter",U="mouse",(n==="pointerout"||n==="pointerover")&&(xe=cp,ie="onPointerLeave",G="onPointerEnter",U="pointer"),$e=Z==null?K:nr(Z),X=Se==null?K:nr(Se),K=new xe(ie,U+"leave",Z,o,se),K.target=$e,K.relatedTarget=X,ie=null,Yi(se)===W&&(xe=new xe(G,U+"enter",Se,o,se),xe.target=X,xe.relatedTarget=$e,ie=xe),$e=ie,Z&&Se)t:{for(xe=Z,G=Se,U=0,X=xe;X;X=Ta(X))U++;for(X=0,ie=G;ie;ie=Ta(ie))X++;for(;0<U-X;)xe=Ta(xe),U--;for(;0<X-U;)G=Ta(G),X--;for(;U--;){if(xe===G||G!==null&&xe===G.alternate)break t;xe=Ta(xe),G=Ta(G)}xe=null}else xe=null;Z!==null&&Zy(ae,K,Z,xe,!1),Se!==null&&$e!==null&&Zy(ae,$e,Se,xe,!0)}}e:{if(K=W?nr(W):window,Z=K.nodeName&&K.nodeName.toLowerCase(),Z==="select"||Z==="input"&&K.type==="file")var he=yp;else if(pp(K))if(bp)he=N1;else{he=C1;var Me=_1}else Z=K.nodeName,!Z||Z.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?W&&_u(W.elementType)&&(he=yp):he=T1;if(he&&(he=he(n,W))){gp(ae,he,o,se);break e}Me&&Me(n,K,W),n==="focusout"&&W&&K.type==="number"&&W.memoizedProps.value!=null&&Eu(K,"number",K.value)}switch(Me=W?nr(W):window,n){case"focusin":(pp(Me)||Me.contentEditable==="true")&&(sa=Me,Fu=W,dr=null);break;case"focusout":dr=Fu=sa=null;break;case"mousedown":Uu=!0;break;case"contextmenu":case"mouseup":case"dragend":Uu=!1,Cp(ae,o,se);break;case"selectionchange":if(R1)break;case"keydown":case"keyup":Cp(ae,o,se)}var ge;if(Lu)e:{switch(n){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else na?fp(n,o)&&(we="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(we="onCompositionStart");we&&(up&&o.locale!=="ko"&&(na||we!=="onCompositionStart"?we==="onCompositionEnd"&&na&&(ge=ap()):(js=se,Ru="value"in js?js.value:js.textContent,na=!0)),Me=Bl(W,we),0<Me.length&&(we=new lp(we,n,null,o,se),ae.push({event:we,listeners:Me}),ge?we.data=ge:(ge=mp(o),ge!==null&&(we.data=ge)))),(ge=x1?w1(n,o):A1(n,o))&&(we=Bl(W,"onBeforeInput"),0<we.length&&(Me=new lp("onBeforeInput","beforeinput",null,o,se),ae.push({event:Me,listeners:we}),Me.data=ge)),hA(ae,n,W,o,se)}Ky(ae,i)})}function Fr(n,i,o){return{instance:n,listener:i,currentTarget:o}}function Bl(n,i){for(var o=i+"Capture",u=[];n!==null;){var g=n,y=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||y===null||(g=sr(n,o),g!=null&&u.unshift(Fr(n,g,y)),g=sr(n,i),g!=null&&u.push(Fr(n,g,y))),n.tag===3)return u;n=n.return}return[]}function Ta(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Zy(n,i,o,u,g){for(var y=i._reactName,E=[];o!==null&&o!==u;){var T=o,F=T.alternate,W=T.stateNode;if(T=T.tag,F!==null&&F===u)break;T!==5&&T!==26&&T!==27||W===null||(F=W,g?(W=sr(o,y),W!=null&&E.unshift(Fr(o,W,F))):g||(W=sr(o,y),W!=null&&E.push(Fr(o,W,F)))),o=o.return}E.length!==0&&n.push({event:i,listeners:E})}var gA=/\r\n?/g,yA=/\u0000|\uFFFD/g;function Jy(n){return(typeof n=="string"?n:""+n).replace(gA,`
`).replace(yA,"")}function eb(n,i){return i=Jy(i),Jy(n)===i}function Hl(){}function Ve(n,i,o,u,g,y){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Ji(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Ji(n,""+u);break;case"className":Yo(n,"class",u);break;case"tabIndex":Yo(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Yo(n,o,u);break;case"style":np(n,u,y);break;case"data":if(i!=="object"){Yo(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Ko(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(i!=="input"&&Ve(n,i,"name",g.name,g,null),Ve(n,i,"formEncType",g.formEncType,g,null),Ve(n,i,"formMethod",g.formMethod,g,null),Ve(n,i,"formTarget",g.formTarget,g,null)):(Ve(n,i,"encType",g.encType,g,null),Ve(n,i,"method",g.method,g,null),Ve(n,i,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Ko(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=Hl);break;case"onScroll":u!=null&&je("scroll",n);break;case"onScrollEnd":u!=null&&je("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(g.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Ko(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":je("beforetoggle",n),je("toggle",n),$o(n,"popover",u);break;case"xlinkActuate":rs(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":rs(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":rs(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":rs(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":rs(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":rs(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":rs(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":rs(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":rs(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":$o(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Yw.get(o)||o,$o(n,o,u))}}function ch(n,i,o,u,g,y){switch(o){case"style":np(n,u,y);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(g.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"children":typeof u=="string"?Ji(n,u):(typeof u=="number"||typeof u=="bigint")&&Ji(n,""+u);break;case"onScroll":u!=null&&je("scroll",n);break;case"onScrollEnd":u!=null&&je("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Hl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vm.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(g=o.endsWith("Capture"),i=o.slice(2,g?o.length-7:void 0),y=n[en]||null,y=y!=null?y[o]:null,typeof y=="function"&&n.removeEventListener(i,y,g),typeof u=="function")){typeof y!="function"&&y!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(i,u,g);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):$o(n,o,u)}}}function Bt(n,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",n),je("load",n);var u=!1,g=!1,y;for(y in o)if(o.hasOwnProperty(y)){var E=o[y];if(E!=null)switch(y){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ve(n,i,y,E,o,null)}}g&&Ve(n,i,"srcSet",o.srcSet,o,null),u&&Ve(n,i,"src",o.src,o,null);return;case"input":je("invalid",n);var T=y=E=g=null,F=null,W=null;for(u in o)if(o.hasOwnProperty(u)){var se=o[u];if(se!=null)switch(u){case"name":g=se;break;case"type":E=se;break;case"checked":F=se;break;case"defaultChecked":W=se;break;case"value":y=se;break;case"defaultValue":T=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(s(137,i));break;default:Ve(n,i,u,se,o,null)}}Zm(n,y,T,F,W,E,g,!1),Xo(n);return;case"select":je("invalid",n),u=E=y=null;for(g in o)if(o.hasOwnProperty(g)&&(T=o[g],T!=null))switch(g){case"value":y=T;break;case"defaultValue":E=T;break;case"multiple":u=T;default:Ve(n,i,g,T,o,null)}i=y,o=E,n.multiple=!!u,i!=null?Zi(n,!!u,i,!1):o!=null&&Zi(n,!!u,o,!0);return;case"textarea":je("invalid",n),y=g=u=null;for(E in o)if(o.hasOwnProperty(E)&&(T=o[E],T!=null))switch(E){case"value":u=T;break;case"defaultValue":g=T;break;case"children":y=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ve(n,i,E,T,o,null)}ep(n,u,g,y),Xo(n);return;case"option":for(F in o)if(o.hasOwnProperty(F)&&(u=o[F],u!=null))switch(F){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ve(n,i,F,u,o,null)}return;case"dialog":je("beforetoggle",n),je("toggle",n),je("cancel",n),je("close",n);break;case"iframe":case"object":je("load",n);break;case"video":case"audio":for(u=0;u<zr.length;u++)je(zr[u],n);break;case"image":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"embed":case"source":case"link":je("error",n),je("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(u=o[W],u!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ve(n,i,W,u,o,null)}return;default:if(_u(i)){for(se in o)o.hasOwnProperty(se)&&(u=o[se],u!==void 0&&ch(n,i,se,u,o,void 0));return}}for(T in o)o.hasOwnProperty(T)&&(u=o[T],u!=null&&Ve(n,i,T,u,o,null))}function bA(n,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,y=null,E=null,T=null,F=null,W=null,se=null;for(Z in o){var ae=o[Z];if(o.hasOwnProperty(Z)&&ae!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":F=ae;default:u.hasOwnProperty(Z)||Ve(n,i,Z,null,u,ae)}}for(var K in u){var Z=u[K];if(ae=o[K],u.hasOwnProperty(K)&&(Z!=null||ae!=null))switch(K){case"type":y=Z;break;case"name":g=Z;break;case"checked":W=Z;break;case"defaultChecked":se=Z;break;case"value":E=Z;break;case"defaultValue":T=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,i));break;default:Z!==ae&&Ve(n,i,K,Z,u,ae)}}Su(n,E,T,F,W,se,y,g);return;case"select":Z=E=T=K=null;for(y in o)if(F=o[y],o.hasOwnProperty(y)&&F!=null)switch(y){case"value":break;case"multiple":Z=F;default:u.hasOwnProperty(y)||Ve(n,i,y,null,u,F)}for(g in u)if(y=u[g],F=o[g],u.hasOwnProperty(g)&&(y!=null||F!=null))switch(g){case"value":K=y;break;case"defaultValue":T=y;break;case"multiple":E=y;default:y!==F&&Ve(n,i,g,y,u,F)}i=T,o=E,u=Z,K!=null?Zi(n,!!o,K,!1):!!u!=!!o&&(i!=null?Zi(n,!!o,i,!0):Zi(n,!!o,o?[]:"",!1));return;case"textarea":Z=K=null;for(T in o)if(g=o[T],o.hasOwnProperty(T)&&g!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ve(n,i,T,null,u,g)}for(E in u)if(g=u[E],y=o[E],u.hasOwnProperty(E)&&(g!=null||y!=null))switch(E){case"value":K=g;break;case"defaultValue":Z=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==y&&Ve(n,i,E,g,u,y)}Jm(n,K,Z);return;case"option":for(var Se in o)if(K=o[Se],o.hasOwnProperty(Se)&&K!=null&&!u.hasOwnProperty(Se))switch(Se){case"selected":n.selected=!1;break;default:Ve(n,i,Se,null,u,K)}for(F in u)if(K=u[F],Z=o[F],u.hasOwnProperty(F)&&K!==Z&&(K!=null||Z!=null))switch(F){case"selected":n.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Ve(n,i,F,K,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in o)K=o[xe],o.hasOwnProperty(xe)&&K!=null&&!u.hasOwnProperty(xe)&&Ve(n,i,xe,null,u,K);for(W in u)if(K=u[W],Z=o[W],u.hasOwnProperty(W)&&K!==Z&&(K!=null||Z!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:Ve(n,i,W,K,u,Z)}return;default:if(_u(i)){for(var $e in o)K=o[$e],o.hasOwnProperty($e)&&K!==void 0&&!u.hasOwnProperty($e)&&ch(n,i,$e,void 0,u,K);for(se in u)K=u[se],Z=o[se],!u.hasOwnProperty(se)||K===Z||K===void 0&&Z===void 0||ch(n,i,se,K,u,Z);return}}for(var G in o)K=o[G],o.hasOwnProperty(G)&&K!=null&&!u.hasOwnProperty(G)&&Ve(n,i,G,null,u,K);for(ae in u)K=u[ae],Z=o[ae],!u.hasOwnProperty(ae)||K===Z||K==null&&Z==null||Ve(n,i,ae,K,u,Z)}var uh=null,dh=null;function Gl(n){return n.nodeType===9?n:n.ownerDocument}function tb(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function nb(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function hh(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var fh=null;function vA(){var n=window.event;return n&&n.type==="popstate"?n===fh?!1:(fh=n,!0):(fh=null,!1)}var sb=typeof setTimeout=="function"?setTimeout:void 0,xA=typeof clearTimeout=="function"?clearTimeout:void 0,ib=typeof Promise=="function"?Promise:void 0,wA=typeof queueMicrotask=="function"?queueMicrotask:typeof ib<"u"?function(n){return ib.resolve(null).then(n).catch(AA)}:sb;function AA(n){setTimeout(function(){throw n})}function Ws(n){return n==="head"}function ab(n,i){var o=i,u=0,g=0;do{var y=o.nextSibling;if(n.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<u&&8>u){o=u;var E=n.ownerDocument;if(o&1&&Ur(E.documentElement),o&2&&Ur(E.body),o&4)for(o=E.head,Ur(o),E=o.firstChild;E;){var T=E.nextSibling,F=E.nodeName;E[tr]||F==="SCRIPT"||F==="STYLE"||F==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=T}}if(g===0){n.removeChild(y),Xr(i);return}g--}else o==="$"||o==="$?"||o==="$!"?g++:u=o.charCodeAt(0)-48;else u=0;o=y}while(o);Xr(i)}function mh(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":mh(o),vu(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function SA(n,i,o,u){for(;n.nodeType===1;){var g=o;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[tr])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(y=n.getAttribute("rel"),y==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(y!==g.rel||n.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||n.getAttribute("title")!==(g.title==null?null:g.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(y=n.getAttribute("src"),(y!==(g.src==null?null:g.src)||n.getAttribute("type")!==(g.type==null?null:g.type)||n.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&y&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var y=g.name==null?null:""+g.name;if(g.type==="hidden"&&n.getAttribute("name")===y)return n}else return n;if(n=In(n.nextSibling),n===null)break}return null}function EA(n,i,o){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=In(n.nextSibling),n===null))return null;return n}function ph(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function _A(n,i){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function In(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var gh=null;function rb(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return n;i--}else o==="/$"&&i++}n=n.previousSibling}return null}function ob(n,i,o){switch(i=Gl(o),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Ur(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);vu(n)}var Mn=new Map,lb=new Set;function ql(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var xs=B.d;B.d={f:CA,r:TA,D:NA,C:kA,L:RA,m:MA,X:jA,S:DA,M:PA};function CA(){var n=xs.f(),i=Ll();return n||i}function TA(n){var i=Xi(n);i!==null&&i.tag===5&&i.type==="form"?Ng(i):xs.r(n)}var Na=typeof document>"u"?null:document;function cb(n,i,o){var u=Na;if(u&&typeof i=="string"&&i){var g=En(i);g='link[rel="'+n+'"][href="'+g+'"]',typeof o=="string"&&(g+='[crossorigin="'+o+'"]'),lb.has(g)||(lb.add(g),n={rel:n,crossOrigin:o,href:i},u.querySelector(g)===null&&(i=u.createElement("link"),Bt(i,"link",n),Mt(i),u.head.appendChild(i)))}}function NA(n){xs.D(n),cb("dns-prefetch",n,null)}function kA(n,i){xs.C(n,i),cb("preconnect",n,i)}function RA(n,i,o){xs.L(n,i,o);var u=Na;if(u&&n&&i){var g='link[rel="preload"][as="'+En(i)+'"]';i==="image"&&o&&o.imageSrcSet?(g+='[imagesrcset="'+En(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(g+='[imagesizes="'+En(o.imageSizes)+'"]')):g+='[href="'+En(n)+'"]';var y=g;switch(i){case"style":y=ka(n);break;case"script":y=Ra(n)}Mn.has(y)||(n=p({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:n,as:i},o),Mn.set(y,n),u.querySelector(g)!==null||i==="style"&&u.querySelector(Br(y))||i==="script"&&u.querySelector(Hr(y))||(i=u.createElement("link"),Bt(i,"link",n),Mt(i),u.head.appendChild(i)))}}function MA(n,i){xs.m(n,i);var o=Na;if(o&&n){var u=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+En(u)+'"][href="'+En(n)+'"]',y=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Ra(n)}if(!Mn.has(y)&&(n=p({rel:"modulepreload",href:n},i),Mn.set(y,n),o.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Hr(y)))return}u=o.createElement("link"),Bt(u,"link",n),Mt(u),o.head.appendChild(u)}}}function DA(n,i,o){xs.S(n,i,o);var u=Na;if(u&&n){var g=Wi(u).hoistableStyles,y=ka(n);i=i||"default";var E=g.get(y);if(!E){var T={loading:0,preload:null};if(E=u.querySelector(Br(y)))T.loading=5;else{n=p({rel:"stylesheet",href:n,"data-precedence":i},o),(o=Mn.get(y))&&yh(n,o);var F=E=u.createElement("link");Mt(F),Bt(F,"link",n),F._p=new Promise(function(W,se){F.onload=W,F.onerror=se}),F.addEventListener("load",function(){T.loading|=1}),F.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Vl(E,i,u)}E={type:"stylesheet",instance:E,count:1,state:T},g.set(y,E)}}}function jA(n,i){xs.X(n,i);var o=Na;if(o&&n){var u=Wi(o).hoistableScripts,g=Ra(n),y=u.get(g);y||(y=o.querySelector(Hr(g)),y||(n=p({src:n,async:!0},i),(i=Mn.get(g))&&bh(n,i),y=o.createElement("script"),Mt(y),Bt(y,"link",n),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function PA(n,i){xs.M(n,i);var o=Na;if(o&&n){var u=Wi(o).hoistableScripts,g=Ra(n),y=u.get(g);y||(y=o.querySelector(Hr(g)),y||(n=p({src:n,async:!0,type:"module"},i),(i=Mn.get(g))&&bh(n,i),y=o.createElement("script"),Mt(y),Bt(y,"link",n),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},u.set(g,y))}}function ub(n,i,o,u){var g=(g=J.current)?ql(g):null;if(!g)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=ka(o.href),o=Wi(g).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=ka(o.href);var y=Wi(g).hoistableStyles,E=y.get(n);if(E||(g=g.ownerDocument||g,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(n,E),(y=g.querySelector(Br(n)))&&!y._p&&(E.instance=y,E.state.loading=5),Mn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Mn.set(n,o),y||LA(g,n,o,E.state))),i&&u===null)throw Error(s(528,""));return E}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ra(o),o=Wi(g).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function ka(n){return'href="'+En(n)+'"'}function Br(n){return'link[rel="stylesheet"]['+n+"]"}function db(n){return p({},n,{"data-precedence":n.precedence,precedence:null})}function LA(n,i,o,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Bt(i,"link",o),Mt(i),n.head.appendChild(i))}function Ra(n){return'[src="'+En(n)+'"]'}function Hr(n){return"script[async]"+n}function hb(n,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+En(o.href)+'"]');if(u)return i.instance=u,Mt(u),u;var g=p({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Mt(u),Bt(u,"style",g),Vl(u,o.precedence,n),i.instance=u;case"stylesheet":g=ka(o.href);var y=n.querySelector(Br(g));if(y)return i.state.loading|=4,i.instance=y,Mt(y),y;u=db(o),(g=Mn.get(g))&&yh(u,g),y=(n.ownerDocument||n).createElement("link"),Mt(y);var E=y;return E._p=new Promise(function(T,F){E.onload=T,E.onerror=F}),Bt(y,"link",u),i.state.loading|=4,Vl(y,o.precedence,n),i.instance=y;case"script":return y=Ra(o.src),(g=n.querySelector(Hr(y)))?(i.instance=g,Mt(g),g):(u=o,(g=Mn.get(y))&&(u=p({},o),bh(u,g)),n=n.ownerDocument||n,g=n.createElement("script"),Mt(g),Bt(g,"link",u),n.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,Vl(u,o.precedence,n));return i.instance}function Vl(n,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,y=g,E=0;E<u.length;E++){var T=u[E];if(T.dataset.precedence===i)y=T;else if(y!==g)break}y?y.parentNode.insertBefore(n,y.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(n,i.firstChild))}function yh(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function bh(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var $l=null;function fb(n,i,o){if($l===null){var u=new Map,g=$l=new Map;g.set(o,u)}else g=$l,u=g.get(o),u||(u=new Map,g.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),g=0;g<o.length;g++){var y=o[g];if(!(y[tr]||y[qt]||n==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(i)||"";E=n+E;var T=u.get(E);T?T.push(y):u.set(E,[y])}}return u}function mb(n,i,o){n=n.ownerDocument||n,n.head.insertBefore(o,i==="title"?n.querySelector("head > title"):null)}function OA(n,i,o){if(o===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function pb(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Gr=null;function IA(){}function zA(n,i,o){if(Gr===null)throw Error(s(475));var u=Gr;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var g=ka(o.href),y=n.querySelector(Br(g));if(y){n=y._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Yl.bind(u),n.then(u,u)),i.state.loading|=4,i.instance=y,Mt(y);return}y=n.ownerDocument||n,o=db(o),(g=Mn.get(g))&&yh(o,g),y=y.createElement("link"),Mt(y);var E=y;E._p=new Promise(function(T,F){E.onload=T,E.onerror=F}),Bt(y,"link",o),i.instance=y}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=Yl.bind(u),n.addEventListener("load",i),n.addEventListener("error",i))}}function FA(){if(Gr===null)throw Error(s(475));var n=Gr;return n.stylesheets&&n.count===0&&vh(n,n.stylesheets),0<n.count?function(i){var o=setTimeout(function(){if(n.stylesheets&&vh(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(o)}}:null}function Yl(){if(this.count--,this.count===0){if(this.stylesheets)vh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Xl=null;function vh(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Xl=new Map,i.forEach(UA,n),Xl=null,Yl.call(n))}function UA(n,i){if(!(i.state.loading&4)){var o=Xl.get(n);if(o)var u=o.get(null);else{o=new Map,Xl.set(n,o);for(var g=n.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<g.length;y++){var E=g[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}g=i.instance,E=g.getAttribute("data-precedence"),y=o.get(E)||u,y===u&&o.set(null,g),o.set(E,g),this.count++,u=Yl.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),y?y.parentNode.insertBefore(g,y.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(g,n.firstChild)),i.state.loading|=4}}var qr={$$typeof:N,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function BA(n,i,o,u,g,y,E,T){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pu(0),this.hiddenUpdates=pu(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function gb(n,i,o,u,g,y,E,T,F,W,se,ae){return n=new BA(n,i,o,E,T,F,W,ae),i=1,y===!0&&(i|=24),y=hn(3,null,null,i),n.current=y,y.stateNode=n,i=ed(),i.refCount++,n.pooledCache=i,i.refCount++,y.memoizedState={element:u,isDehydrated:o,cache:i},id(y),n}function yb(n){return n?(n=oa,n):oa}function bb(n,i,o,u,g,y){g=yb(g),u.context===null?u.context=g:u.pendingContext=g,u=Os(i),u.payload={element:o},y=y===void 0?null:y,y!==null&&(u.callback=y),o=Is(n,u,i),o!==null&&(yn(o,n,i),xr(o,n,i))}function vb(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<i?o:i}}function xh(n,i){vb(n,i),(n=n.alternate)&&vb(n,i)}function xb(n){if(n.tag===13){var i=ra(n,67108864);i!==null&&yn(i,n,67108864),xh(n,67108864)}}var Wl=!0;function HA(n,i,o,u){var g=j.T;j.T=null;var y=B.p;try{B.p=2,wh(n,i,o,u)}finally{B.p=y,j.T=g}}function GA(n,i,o,u){var g=j.T;j.T=null;var y=B.p;try{B.p=8,wh(n,i,o,u)}finally{B.p=y,j.T=g}}function wh(n,i,o,u){if(Wl){var g=Ah(u);if(g===null)lh(n,i,u,Kl,o),Ab(n,u);else if(VA(g,n,i,o,u))u.stopPropagation();else if(Ab(n,u),i&4&&-1<qA.indexOf(n)){for(;g!==null;){var y=Xi(g);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=li(y.pendingLanes);if(E!==0){var T=y;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var F=1<<31-lt(E);T.entanglements[1]|=F,E&=~F}Wn(y),(Be&6)===0&&(jl=zt()+500,Ir(0))}}break;case 13:T=ra(y,2),T!==null&&yn(T,y,2),Ll(),xh(y,2)}if(y=Ah(u),y===null&&lh(n,i,u,Kl,o),y===g)break;g=y}g!==null&&u.stopPropagation()}else lh(n,i,u,null,o)}}function Ah(n){return n=Tu(n),Sh(n)}var Kl=null;function Sh(n){if(Kl=null,n=Yi(n),n!==null){var i=l(n);if(i===null)n=null;else{var o=i.tag;if(o===13){if(n=c(i),n!==null)return n;n=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Kl=n,null}function wb(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ri()){case Vi:return 2;case Bo:return 8;case as:case hu:return 32;case Ho:return 268435456;default:return 32}default:return 32}}var Eh=!1,Ks=null,Qs=null,Zs=null,Vr=new Map,$r=new Map,Js=[],qA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ab(n,i){switch(n){case"focusin":case"focusout":Ks=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":Vr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":$r.delete(i.pointerId)}}function Yr(n,i,o,u,g,y){return n===null||n.nativeEvent!==y?(n={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:y,targetContainers:[g]},i!==null&&(i=Xi(i),i!==null&&xb(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),n)}function VA(n,i,o,u,g){switch(i){case"focusin":return Ks=Yr(Ks,n,i,o,u,g),!0;case"dragenter":return Qs=Yr(Qs,n,i,o,u,g),!0;case"mouseover":return Zs=Yr(Zs,n,i,o,u,g),!0;case"pointerover":var y=g.pointerId;return Vr.set(y,Yr(Vr.get(y)||null,n,i,o,u,g)),!0;case"gotpointercapture":return y=g.pointerId,$r.set(y,Yr($r.get(y)||null,n,i,o,u,g)),!0}return!1}function Sb(n){var i=Yi(n.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=c(o),i!==null){n.blockedOn=i,zw(n.priority,function(){if(o.tag===13){var u=gn();u=gu(u);var g=ra(o,u);g!==null&&yn(g,o,u),xh(o,u)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ql(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var o=Ah(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Cu=u,o.target.dispatchEvent(u),Cu=null}else return i=Xi(o),i!==null&&xb(i),n.blockedOn=o,!1;i.shift()}return!0}function Eb(n,i,o){Ql(n)&&o.delete(i)}function $A(){Eh=!1,Ks!==null&&Ql(Ks)&&(Ks=null),Qs!==null&&Ql(Qs)&&(Qs=null),Zs!==null&&Ql(Zs)&&(Zs=null),Vr.forEach(Eb),$r.forEach(Eb)}function Zl(n,i){n.blockedOn===i&&(n.blockedOn=null,Eh||(Eh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,$A)))}var Jl=null;function _b(n){Jl!==n&&(Jl=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Jl===n&&(Jl=null);for(var i=0;i<n.length;i+=3){var o=n[i],u=n[i+1],g=n[i+2];if(typeof u!="function"){if(Sh(u||o)===null)continue;break}var y=Xi(o);y!==null&&(n.splice(i,3),i-=3,Sd(y,{pending:!0,data:g,method:o.method,action:u},u,g))}}))}function Xr(n){function i(F){return Zl(F,n)}Ks!==null&&Zl(Ks,n),Qs!==null&&Zl(Qs,n),Zs!==null&&Zl(Zs,n),Vr.forEach(i),$r.forEach(i);for(var o=0;o<Js.length;o++){var u=Js[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Js.length&&(o=Js[0],o.blockedOn===null);)Sb(o),o.blockedOn===null&&Js.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var g=o[u],y=o[u+1],E=g[en]||null;if(typeof y=="function")E||_b(o);else if(E){var T=null;if(y&&y.hasAttribute("formAction")){if(g=y,E=y[en]||null)T=E.formAction;else if(Sh(g)!==null)continue}else T=E.action;typeof T=="function"?o[u+1]=T:(o.splice(u,3),u-=3),_b(o)}}}function _h(n){this._internalRoot=n}ec.prototype.render=_h.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,u=gn();bb(o,u,n,i,null,null)},ec.prototype.unmount=_h.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;bb(n.current,2,null,n,null,null),Ll(),i[$i]=null}};function ec(n){this._internalRoot=n}ec.prototype.unstable_scheduleHydration=function(n){if(n){var i=Hm();n={blockedOn:null,target:n,priority:i};for(var o=0;o<Js.length&&i!==0&&i<Js[o].priority;o++);Js.splice(o,0,n),o===0&&Sb(n)}};var Cb=e.version;if(Cb!=="19.1.1")throw Error(s(527,Cb,"19.1.1"));B.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=h(i),n=n!==null?f(n):null,n=n===null?null:n.stateNode,n};var YA={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tc.isDisabled&&tc.supportsFiber)try{oi=tc.inject(YA),ot=tc}catch{}}return Kr.createRoot=function(n,i){if(!a(n))throw Error(s(299));var o=!1,u="",g=Hg,y=Gg,E=qg,T=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(y=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=gb(n,1,!1,null,null,o,u,g,y,E,T,null),n[$i]=i.current,oh(n),new _h(i)},Kr.hydrateRoot=function(n,i,o){if(!a(n))throw Error(s(299));var u=!1,g="",y=Hg,E=Gg,T=qg,F=null,W=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(g=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(F=o.unstable_transitionCallbacks),o.formState!==void 0&&(W=o.formState)),i=gb(n,1,!0,i,o??null,u,g,y,E,T,F,W),i.context=yb(null),o=i.current,u=gn(),u=gu(u),g=Os(u),g.callback=null,Is(o,g,u),o=u,i.current.lanes=o,er(i,o),Wn(i),n[$i]=i.current,oh(n),new ec(i)},Kr.version="19.1.1",Kr}var zb;function iS(){if(zb)return kh.exports;zb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),kh.exports=sS(),kh.exports}var aS=iS();const rS=Bc(aS);/**
 * react-router v7.9.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Fb="popstate";function oS(r={}){function e(s,a){let{pathname:l,search:c,hash:d}=s.location;return uf("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){return typeof a=="string"?a:fo(a)}return cS(e,t,null,r)}function nt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Un(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lS(){return Math.random().toString(36).substring(2,10)}function Ub(r,e){return{usr:r.state,key:r.key,idx:e}}function uf(r,e,t=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?qa(e):e,state:t,key:e&&e.key||s||lS()}}function fo({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function qa(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function cS(r,e,t,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",h=null,f=p();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function p(){return(c.state||{idx:null}).idx}function b(){d="POP";let _=p(),C=_==null?null:_-f;f=_,h&&h({action:d,location:A.location,delta:C})}function v(_,C){d="PUSH";let k=uf(A.location,_,C);f=p()+1;let N=Ub(k,f),M=A.createHref(k);try{c.pushState(N,"",M)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;a.location.assign(M)}l&&h&&h({action:d,location:A.location,delta:1})}function x(_,C){d="REPLACE";let k=uf(A.location,_,C);f=p();let N=Ub(k,f),M=A.createHref(k);c.replaceState(N,"",M),l&&h&&h({action:d,location:A.location,delta:0})}function w(_){return uS(_)}let A={get action(){return d},get location(){return r(a,c)},listen(_){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(Fb,b),h=_,()=>{a.removeEventListener(Fb,b),h=null}},createHref(_){return e(a,_)},createURL:w,encodeLocation(_){let C=w(_);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:v,replace:x,go(_){return c.go(_)}};return A}function uS(r,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),nt(t,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:fo(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function e0(r,e,t="/"){return dS(r,e,t,!1)}function dS(r,e,t,s){let a=typeof e=="string"?qa(e):e,l=Cs(a.pathname||"/",t);if(l==null)return null;let c=t0(r);hS(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let f=SS(l);d=wS(c[h],f,s)}return d}function t0(r,e=[],t=[],s="",a=!1){let l=(c,d,h=a,f)=>{let p={relativePath:f===void 0?c.path||"":f,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(s)&&h)return;nt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length)}let b=Es([s,p.relativePath]),v=t.concat(p);c.children&&c.children.length>0&&(nt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),t0(c.children,e,v,b,h)),!(c.path==null&&!c.index)&&e.push({path:b,score:vS(b,c.index),routesMeta:v})};return r.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let h of n0(c.path))l(c,d,!0,h)}),e}function n0(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=n0(s.join("/")),d=[];return d.push(...c.map(h=>h===""?l:[l,h].join("/"))),a&&d.push(...c),d.map(h=>r.startsWith("/")&&h===""?"/":h)}function hS(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:xS(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var fS=/^:[\w-]+$/,mS=3,pS=2,gS=1,yS=10,bS=-2,Bb=r=>r==="*";function vS(r,e){let t=r.split("/"),s=t.length;return t.some(Bb)&&(s+=bS),e&&(s+=pS),t.filter(a=>!Bb(a)).reduce((a,l)=>a+(fS.test(l)?mS:l===""?gS:yS),s)}function xS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,a)=>s===e[a])?r[r.length-1]-e[e.length-1]:0}function wS(r,e,t=!1){let{routesMeta:s}=r,a={},l="/",c=[];for(let d=0;d<s.length;++d){let h=s[d],f=d===s.length-1,p=l==="/"?e:e.slice(l.length)||"/",b=Cc({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},p),v=h.route;if(!b&&f&&t&&!s[s.length-1].route.index&&(b=Cc({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},p)),!b)return null;Object.assign(a,b.params),c.push({params:a,pathname:Es([l,b.pathname]),pathnameBase:TS(Es([l,b.pathnameBase])),route:v}),b.pathnameBase!=="/"&&(l=Es([l,b.pathnameBase]))}return c}function Cc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=AS(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((f,{paramName:p,isOptional:b},v)=>{if(p==="*"){let w=d[v]||"";c=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const x=d[v];return b&&!x?f[p]=void 0:f[p]=(x||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:c,pattern:r}}function AS(r,e=!1,t=!0){Un(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(s.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function SS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Un(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Cs(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function ES(r,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof r=="string"?qa(r):r;return{pathname:t?t.startsWith("/")?t:_S(t,e):e,search:NS(s),hash:kS(a)}}function _S(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function jh(r,e,t,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CS(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ff(r){let e=CS(r);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function Uf(r,e,t,s=!1){let a;typeof r=="string"?a=qa(r):(a={...r},nt(!a.pathname||!a.pathname.includes("?"),jh("?","pathname","search",a)),nt(!a.pathname||!a.pathname.includes("#"),jh("#","pathname","hash",a)),nt(!a.search||!a.search.includes("#"),jh("#","search","hash",a)));let l=r===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let b=e.length-1;if(!s&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),b-=1;a.pathname=v.join("/")}d=b>=0?e[b]:"/"}let h=ES(a,d),f=c&&c!=="/"&&c.endsWith("/"),p=(l||c===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||p)&&(h.pathname+="/"),h}var Es=r=>r.join("/").replace(/\/\/+/g,"/"),TS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),NS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,kS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function RS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var s0=["POST","PUT","PATCH","DELETE"];new Set(s0);var MS=["GET",...s0];new Set(MS);var Va=S.createContext(null);Va.displayName="DataRouter";var Gc=S.createContext(null);Gc.displayName="DataRouterState";S.createContext(!1);var i0=S.createContext({isTransitioning:!1});i0.displayName="ViewTransition";var DS=S.createContext(new Map);DS.displayName="Fetchers";var jS=S.createContext(null);jS.displayName="Await";var Hn=S.createContext(null);Hn.displayName="Navigation";var Co=S.createContext(null);Co.displayName="Location";var Gn=S.createContext({outlet:null,matches:[],isDataRoute:!1});Gn.displayName="Route";var Bf=S.createContext(null);Bf.displayName="RouteError";function PS(r,{relative:e}={}){nt($a(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=S.useContext(Hn),{hash:a,pathname:l,search:c}=To(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Es([t,l])),s.createHref({pathname:d,search:c,hash:a})}function $a(){return S.useContext(Co)!=null}function Rs(){return nt($a(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(Co).location}var a0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function r0(r){S.useContext(Hn).static||S.useLayoutEffect(r)}function Hi(){let{isDataRoute:r}=S.useContext(Gn);return r?WS():LS()}function LS(){nt($a(),"useNavigate() may be used only in the context of a <Router> component.");let r=S.useContext(Va),{basename:e,navigator:t}=S.useContext(Hn),{matches:s}=S.useContext(Gn),{pathname:a}=Rs(),l=JSON.stringify(Ff(s)),c=S.useRef(!1);return r0(()=>{c.current=!0}),S.useCallback((h,f={})=>{if(Un(c.current,a0),!c.current)return;if(typeof h=="number"){t.go(h);return}let p=Uf(h,JSON.parse(l),a,f.relative==="path");r==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Es([e,p.pathname])),(f.replace?t.replace:t.push)(p,f.state,f)},[e,t,l,a,r])}var OS=S.createContext(null);function IS(r){let e=S.useContext(Gn).outlet;return e&&S.createElement(OS.Provider,{value:r},e)}function To(r,{relative:e}={}){let{matches:t}=S.useContext(Gn),{pathname:s}=Rs(),a=JSON.stringify(Ff(t));return S.useMemo(()=>Uf(r,JSON.parse(a),s,e==="path"),[r,a,s,e])}function zS(r,e){return o0(r,e)}function o0(r,e,t,s,a){nt($a(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=S.useContext(Hn),{matches:c}=S.useContext(Gn),d=c[c.length-1],h=d?d.params:{},f=d?d.pathname:"/",p=d?d.pathnameBase:"/",b=d&&d.route;{let k=b&&b.path||"";l0(f,!b||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let v=Rs(),x;if(e){let k=typeof e=="string"?qa(e):e;nt(p==="/"||k.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${k.pathname}" was given in the \`location\` prop.`),x=k}else x=v;let w=x.pathname||"/",A=w;if(p!=="/"){let k=p.replace(/^\//,"").split("/");A="/"+w.replace(/^\//,"").split("/").slice(k.length).join("/")}let _=e0(r,{pathname:A});Un(b||_!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Un(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=GS(_&&_.map(k=>Object.assign({},k,{params:Object.assign({},h,k.params),pathname:Es([p,l.encodeLocation?l.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:Es([p,l.encodeLocation?l.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),c,t,s,a);return e&&C?S.createElement(Co.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},C):C}function FS(){let r=XS(),e=RS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:l},"ErrorBoundary")," or"," ",S.createElement("code",{style:l},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),t?S.createElement("pre",{style:a},t):null,c)}var US=S.createElement(FS,null),BS=class extends S.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?S.createElement(Gn.Provider,{value:this.props.routeContext},S.createElement(Bf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HS({routeContext:r,match:e,children:t}){let s=S.useContext(Va);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Gn.Provider,{value:r},t)}function GS(r,e=[],t=null,s=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let l=r,c=t?.errors;if(c!=null){let f=l.findIndex(p=>p.route.id&&c?.[p.route.id]!==void 0);nt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,f+1))}let d=!1,h=-1;if(t)for(let f=0;f<l.length;f++){let p=l[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:b,errors:v}=t,x=p.route.loader&&!b.hasOwnProperty(p.route.id)&&(!v||v[p.route.id]===void 0);if(p.route.lazy||x){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((f,p,b)=>{let v,x=!1,w=null,A=null;t&&(v=c&&p.route.id?c[p.route.id]:void 0,w=p.route.errorElement||US,d&&(h<0&&b===0?(l0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,A=null):h===b&&(x=!0,A=p.route.hydrateFallbackElement||null)));let _=e.concat(l.slice(0,b+1)),C=()=>{let k;return v?k=w:x?k=A:p.route.Component?k=S.createElement(p.route.Component,null):p.route.element?k=p.route.element:k=f,S.createElement(HS,{match:p,routeContext:{outlet:f,matches:_,isDataRoute:t!=null},children:k})};return t&&(p.route.ErrorBoundary||p.route.errorElement||b===0)?S.createElement(BS,{location:t.location,revalidation:t.revalidation,component:w,error:v,children:C(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:s}):C()},null)}function Hf(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qS(r){let e=S.useContext(Va);return nt(e,Hf(r)),e}function VS(r){let e=S.useContext(Gc);return nt(e,Hf(r)),e}function $S(r){let e=S.useContext(Gn);return nt(e,Hf(r)),e}function Gf(r){let e=$S(r),t=e.matches[e.matches.length-1];return nt(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function YS(){return Gf("useRouteId")}function XS(){let r=S.useContext(Bf),e=VS("useRouteError"),t=Gf("useRouteError");return r!==void 0?r:e.errors?.[t]}function WS(){let{router:r}=qS("useNavigate"),e=Gf("useNavigate"),t=S.useRef(!1);return r0(()=>{t.current=!0}),S.useCallback(async(a,l={})=>{Un(t.current,a0),t.current&&(typeof a=="number"?r.navigate(a):await r.navigate(a,{fromRouteId:e,...l}))},[r,e])}var Hb={};function l0(r,e,t){!e&&!Hb[r]&&(Hb[r]=!0,Un(!1,t))}S.memo(KS);function KS({routes:r,future:e,state:t,unstable_onError:s}){return o0(r,void 0,t,s,e)}function c0({to:r,replace:e,state:t,relative:s}){nt($a(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=S.useContext(Hn);Un(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=S.useContext(Gn),{pathname:c}=Rs(),d=Hi(),h=Uf(r,Ff(l),c,s==="path"),f=JSON.stringify(h);return S.useEffect(()=>{d(JSON.parse(f),{replace:e,state:t,relative:s})},[d,f,s,e,t]),null}function QS(r){return IS(r.context)}function et(r){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ZS({basename:r="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:l=!1}){nt(!$a(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),d=S.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=qa(t));let{pathname:h="/",search:f="",hash:p="",state:b=null,key:v="default"}=t,x=S.useMemo(()=>{let w=Cs(h,c);return w==null?null:{location:{pathname:w,search:f,hash:p,state:b,key:v},navigationType:s}},[c,h,f,p,b,v,s]);return Un(x!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:S.createElement(Hn.Provider,{value:d},S.createElement(Co.Provider,{children:e,value:x}))}function JS({children:r,location:e}){return zS(df(r),e)}function df(r,e=[]){let t=[];return S.Children.forEach(r,(s,a)=>{if(!S.isValidElement(s))return;let l=[...e,a];if(s.type===S.Fragment){t.push.apply(t,df(s.props.children,l));return}nt(s.type===et,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=df(s.props.children,l)),t.push(c)}),t}var yc="get",bc="application/x-www-form-urlencoded";function qc(r){return r!=null&&typeof r.tagName=="string"}function eE(r){return qc(r)&&r.tagName.toLowerCase()==="button"}function tE(r){return qc(r)&&r.tagName.toLowerCase()==="form"}function nE(r){return qc(r)&&r.tagName.toLowerCase()==="input"}function sE(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function iE(r,e){return r.button===0&&(!e||e==="_self")&&!sE(r)}var nc=null;function aE(){if(nc===null)try{new FormData(document.createElement("form"),0),nc=!1}catch{nc=!0}return nc}var rE=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ph(r){return r!=null&&!rE.has(r)?(Un(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bc}"`),null):r}function oE(r,e){let t,s,a,l,c;if(tE(r)){let d=r.getAttribute("action");s=d?Cs(d,e):null,t=r.getAttribute("method")||yc,a=Ph(r.getAttribute("enctype"))||bc,l=new FormData(r)}else if(eE(r)||nE(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=r.getAttribute("formaction")||d.getAttribute("action");if(s=h?Cs(h,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||yc,a=Ph(r.getAttribute("formenctype"))||Ph(d.getAttribute("enctype"))||bc,l=new FormData(d,r),!aE()){let{name:f,type:p,value:b}=r;if(p==="image"){let v=f?`${f}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else f&&l.append(f,b)}}else{if(qc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=yc,s=null,a=bc,c=r}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qf(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function lE(r,e,t){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Cs(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function cE(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uE(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function dE(r,e,t){let s=await Promise.all(r.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await cE(l,t);return c.links?c.links():[]}return[]}));return pE(s.flat(1).filter(uE).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Gb(r,e,t,s,a,l){let c=(h,f)=>t[f]?h.route.id!==t[f].route.id:!0,d=(h,f)=>t[f].pathname!==h.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==h.params["*"];return l==="assets"?e.filter((h,f)=>c(h,f)||d(h,f)):l==="data"?e.filter((h,f)=>{let p=s.routes[h.route.id];if(!p||!p.hasLoader)return!1;if(c(h,f)||d(h,f))return!0;if(h.route.shouldRevalidate){let b=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function hE(r,e,{includeHydrateFallback:t}={}){return fE(r.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function fE(r){return[...new Set(r)]}function mE(r){let e={},t=Object.keys(r).sort();for(let s of t)e[s]=r[s];return e}function pE(r,e){let t=new Set;return new Set(e),r.reduce((s,a)=>{let l=JSON.stringify(mE(a));return t.has(l)||(t.add(l),s.push({key:l,link:a})),s},[])}function u0(){let r=S.useContext(Va);return qf(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function gE(){let r=S.useContext(Gc);return qf(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Vf=S.createContext(void 0);Vf.displayName="FrameworkContext";function d0(){let r=S.useContext(Vf);return qf(r,"You must render this element inside a <HydratedRouter> element"),r}function yE(r,e){let t=S.useContext(Vf),[s,a]=S.useState(!1),[l,c]=S.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:f,onMouseLeave:p,onTouchStart:b}=e,v=S.useRef(null);S.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let A=C=>{C.forEach(k=>{c(k.isIntersecting)})},_=new IntersectionObserver(A,{threshold:.5});return v.current&&_.observe(v.current),()=>{_.disconnect()}}},[r]),S.useEffect(()=>{if(s){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[s]);let x=()=>{a(!0)},w=()=>{a(!1),c(!1)};return t?r!=="intent"?[l,v,{}]:[l,v,{onFocus:Qr(d,x),onBlur:Qr(h,w),onMouseEnter:Qr(f,x),onMouseLeave:Qr(p,w),onTouchStart:Qr(b,x)}]:[!1,v,{}]}function Qr(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function bE({page:r,...e}){let{router:t}=u0(),s=S.useMemo(()=>e0(t.routes,r,t.basename),[t.routes,r,t.basename]);return s?S.createElement(xE,{page:r,matches:s,...e}):null}function vE(r){let{manifest:e,routeModules:t}=d0(),[s,a]=S.useState([]);return S.useEffect(()=>{let l=!1;return dE(r,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[r,e,t]),s}function xE({page:r,matches:e,...t}){let s=Rs(),{manifest:a,routeModules:l}=d0(),{basename:c}=u0(),{loaderData:d,matches:h}=gE(),f=S.useMemo(()=>Gb(r,e,h,a,s,"data"),[r,e,h,a,s]),p=S.useMemo(()=>Gb(r,e,h,a,s,"assets"),[r,e,h,a,s]),b=S.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let w=new Set,A=!1;if(e.forEach(C=>{let k=a.routes[C.route.id];!k||!k.hasLoader||(!f.some(N=>N.route.id===C.route.id)&&C.route.id in d&&l[C.route.id]?.shouldRevalidate||k.hasClientLoader?A=!0:w.add(C.route.id))}),w.size===0)return[];let _=lE(r,c,"data");return A&&w.size>0&&_.searchParams.set("_routes",e.filter(C=>w.has(C.route.id)).map(C=>C.route.id).join(",")),[_.pathname+_.search]},[c,d,s,a,f,e,r,l]),v=S.useMemo(()=>hE(p,a),[p,a]),x=vE(p);return S.createElement(S.Fragment,null,b.map(w=>S.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...t})),v.map(w=>S.createElement("link",{key:w,rel:"modulepreload",href:w,...t})),x.map(({key:w,link:A})=>S.createElement("link",{key:w,nonce:t.nonce,...A})))}function wE(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var h0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{h0&&(window.__reactRouterVersion="7.9.1")}catch{}function AE({basename:r,children:e,window:t}){let s=S.useRef();s.current==null&&(s.current=oS({window:t,v5Compat:!0}));let a=s.current,[l,c]=S.useState({action:a.action,location:a.location}),d=S.useCallback(h=>{S.startTransition(()=>c(h))},[c]);return S.useLayoutEffect(()=>a.listen(d),[a,d]),S.createElement(ZS,{basename:r,children:e,location:l.location,navigationType:l.action,navigator:a})}var f0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vc=S.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:h,to:f,preventScrollReset:p,viewTransition:b,...v},x){let{basename:w}=S.useContext(Hn),A=typeof f=="string"&&f0.test(f),_,C=!1;if(typeof f=="string"&&A&&(_=f,h0))try{let Y=new URL(window.location.href),te=f.startsWith("//")?new URL(Y.protocol+f):new URL(f),H=Cs(te.pathname,w);te.origin===Y.origin&&H!=null?f=H+te.search+te.hash:C=!0}catch{Un(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=PS(f,{relative:a}),[N,M,R]=yE(s,v),P=CE(f,{replace:c,state:d,target:h,preventScrollReset:p,relative:a,viewTransition:b});function O(Y){e&&e(Y),Y.defaultPrevented||P(Y)}let D=S.createElement("a",{...v,...R,href:_||k,onClick:C||l?e:O,ref:wE(x,M),target:h,"data-discover":!A&&t==="render"?"true":void 0});return N&&!A?S.createElement(S.Fragment,null,D,S.createElement(bE,{page:k})):D});Vc.displayName="Link";var SE=S.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:h,...f},p){let b=To(c,{relative:f.relative}),v=Rs(),x=S.useContext(Gc),{navigator:w,basename:A}=S.useContext(Hn),_=x!=null&&ME(b)&&d===!0,C=w.encodeLocation?w.encodeLocation(b).pathname:b.pathname,k=v.pathname,N=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;t||(k=k.toLowerCase(),N=N?N.toLowerCase():null,C=C.toLowerCase()),N&&A&&(N=Cs(N,A)||N);const M=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let R=k===C||!a&&k.startsWith(C)&&k.charAt(M)==="/",P=N!=null&&(N===C||!a&&N.startsWith(C)&&N.charAt(C.length)==="/"),O={isActive:R,isPending:P,isTransitioning:_},D=R?e:void 0,Y;typeof s=="function"?Y=s(O):Y=[s,R?"active":null,P?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let te=typeof l=="function"?l(O):l;return S.createElement(Vc,{...f,"aria-current":D,className:Y,ref:p,style:te,to:c,viewTransition:d},typeof h=="function"?h(O):h)});SE.displayName="NavLink";var EE=S.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:l,method:c=yc,action:d,onSubmit:h,relative:f,preventScrollReset:p,viewTransition:b,...v},x)=>{let w=kE(),A=RE(d,{relative:f}),_=c.toLowerCase()==="get"?"get":"post",C=typeof d=="string"&&f0.test(d),k=N=>{if(h&&h(N),N.defaultPrevented)return;N.preventDefault();let M=N.nativeEvent.submitter,R=M?.getAttribute("formmethod")||c;w(M||N.currentTarget,{fetcherKey:e,method:R,navigate:t,replace:a,state:l,relative:f,preventScrollReset:p,viewTransition:b})};return S.createElement("form",{ref:x,method:_,action:A,onSubmit:s?h:k,...v,"data-discover":!C&&r==="render"?"true":void 0})});EE.displayName="Form";function _E(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function m0(r){let e=S.useContext(Va);return nt(e,_E(r)),e}function CE(r,{target:e,replace:t,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=Hi(),h=Rs(),f=To(r,{relative:l});return S.useCallback(p=>{if(iE(p,e)){p.preventDefault();let b=t!==void 0?t:fo(h)===fo(f);d(r,{replace:b,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[h,d,f,t,s,e,r,a,l,c])}var TE=0,NE=()=>`__${String(++TE)}__`;function kE(){let{router:r}=m0("useSubmit"),{basename:e}=S.useContext(Hn),t=YS();return S.useCallback(async(s,a={})=>{let{action:l,method:c,encType:d,formData:h,body:f}=oE(s,e);if(a.navigate===!1){let p=a.fetcherKey||NE();await r.fetch(p,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:h,body:f,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await r.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:h,body:f,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,e,t])}function RE(r,{relative:e}={}){let{basename:t}=S.useContext(Hn),s=S.useContext(Gn);nt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...To(r||".",{relative:e})},c=Rs();if(r==null){l.search=c.search;let d=new URLSearchParams(l.search),h=d.getAll("index");if(h.some(p=>p==="")){d.delete("index"),h.filter(b=>b).forEach(b=>d.append("index",b));let p=d.toString();l.search=p?`?${p}`:""}}return(!r||r===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Es([t,l.pathname])),fo(l)}function ME(r,{relative:e}={}){let t=S.useContext(i0);nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=m0("useViewTransitionState"),a=To(r,{relative:e});if(!t.isTransitioning)return!1;let l=Cs(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=Cs(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Cc(a.pathname,c)!=null||Cc(a.pathname,l)!=null}var $f=Jv();const DE=Bc($f);var Lh={exports:{}},Oh={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qb;function jE(){if(qb)return Oh;qb=1;var r=Hc();function e(h,f){return h===f&&(h!==0||1/h===1/f)||h!==h&&f!==f}var t=typeof Object.is=="function"?Object.is:e,s=r.useSyncExternalStore,a=r.useRef,l=r.useEffect,c=r.useMemo,d=r.useDebugValue;return Oh.useSyncExternalStoreWithSelector=function(h,f,p,b,v){var x=a(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=c(function(){function _(R){if(!C){if(C=!0,k=R,R=b(R),v!==void 0&&w.hasValue){var P=w.value;if(v(P,R))return N=P}return N=R}if(P=N,t(k,R))return P;var O=b(R);return v!==void 0&&v(P,O)?(k=R,P):(k=R,N=O)}var C=!1,k,N,M=p===void 0?null:p;return[function(){return _(f())},M===null?void 0:function(){return _(M())}]},[f,p,b,v]);var A=s(h,x[0],x[1]);return l(function(){w.hasValue=!0,w.value=A},[A]),d(A),A},Oh}var Vb;function PE(){return Vb||(Vb=1,Lh.exports=jE()),Lh.exports}var LE=PE();function OE(r){r()}function IE(){let r=null,e=null;return{clear(){r=null,e=null},notify(){OE(()=>{let t=r;for(;t;)t.callback(),t=t.next})},get(){const t=[];let s=r;for(;s;)t.push(s),s=s.next;return t},subscribe(t){let s=!0;const a=e={callback:t,next:null,prev:e};return a.prev?a.prev.next=a:r=a,function(){!s||r===null||(s=!1,a.next?a.next.prev=a.prev:e=a.prev,a.prev?a.prev.next=a.next:r=a.next)}}}}var $b={notify(){},get:()=>[]};function zE(r,e){let t,s=$b,a=0,l=!1;function c(A){p();const _=s.subscribe(A);let C=!1;return()=>{C||(C=!0,_(),b())}}function d(){s.notify()}function h(){w.onStateChange&&w.onStateChange()}function f(){return l}function p(){a++,t||(t=r.subscribe(h),s=IE())}function b(){a--,t&&a===0&&(t(),t=void 0,s.clear(),s=$b)}function v(){l||(l=!0,p())}function x(){l&&(l=!1,b())}const w={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:h,isSubscribed:f,trySubscribe:v,tryUnsubscribe:x,getListeners:()=>s};return w}var FE=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UE=FE(),BE=()=>typeof navigator<"u"&&navigator.product==="ReactNative",HE=BE(),GE=()=>UE||HE?S.useLayoutEffect:S.useEffect,qE=GE(),VE=Symbol.for("react-redux-context"),$E=typeof globalThis<"u"?globalThis:{};function YE(){if(!S.createContext)return{};const r=$E[VE]??=new Map;let e=r.get(S.createContext);return e||(e=S.createContext(null),r.set(S.createContext,e)),e}var ii=YE();function XE(r){const{children:e,context:t,serverState:s,store:a}=r,l=S.useMemo(()=>{const h=zE(a);return{store:a,subscription:h,getServerState:s?()=>s:void 0}},[a,s]),c=S.useMemo(()=>a.getState(),[a]);qE(()=>{const{subscription:h}=l;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),c!==a.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[l,c]);const d=t||ii;return S.createElement(d.Provider,{value:l},e)}var WE=XE;function Yf(r=ii){return function(){return S.useContext(r)}}var p0=Yf();function g0(r=ii){const e=r===ii?p0:Yf(r),t=()=>{const{store:s}=e();return s};return Object.assign(t,{withTypes:()=>t}),t}var KE=g0();function QE(r=ii){const e=r===ii?KE:g0(r),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var ZE=QE(),JE=(r,e)=>r===e;function e_(r=ii){const e=r===ii?p0:Yf(r),t=(s,a={})=>{const{equalityFn:l=JE}=typeof a=="function"?{equalityFn:a}:a,c=e(),{store:d,subscription:h,getServerState:f}=c;S.useRef(!0);const p=S.useCallback({[s.name](v){return s(v)}}[s.name],[s]),b=LE.useSyncExternalStoreWithSelector(h.addNestedSub,d.getState,f||d.getState,p,l);return S.useDebugValue(b),b};return Object.assign(t,{withTypes:()=>t}),t}var t_=e_();function Ht(r){return`Minified Redux error #${r}; visit https://redux.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}var n_=typeof Symbol=="function"&&Symbol.observable||"@@observable",Yb=n_,Ih=()=>Math.random().toString(36).substring(7).split("").join("."),s_={INIT:`@@redux/INIT${Ih()}`,REPLACE:`@@redux/REPLACE${Ih()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ih()}`},Tc=s_;function Xf(r){if(typeof r!="object"||r===null)return!1;let e=r;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(r)===e||Object.getPrototypeOf(r)===null}function y0(r,e,t){if(typeof r!="function")throw new Error(Ht(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Ht(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Ht(1));return t(y0)(r,e)}let s=r,a=e,l=new Map,c=l,d=0,h=!1;function f(){c===l&&(c=new Map,l.forEach((_,C)=>{c.set(C,_)}))}function p(){if(h)throw new Error(Ht(3));return a}function b(_){if(typeof _!="function")throw new Error(Ht(4));if(h)throw new Error(Ht(5));let C=!0;f();const k=d++;return c.set(k,_),function(){if(C){if(h)throw new Error(Ht(6));C=!1,f(),c.delete(k),l=null}}}function v(_){if(!Xf(_))throw new Error(Ht(7));if(typeof _.type>"u")throw new Error(Ht(8));if(typeof _.type!="string")throw new Error(Ht(17));if(h)throw new Error(Ht(9));try{h=!0,a=s(a,_)}finally{h=!1}return(l=c).forEach(k=>{k()}),_}function x(_){if(typeof _!="function")throw new Error(Ht(10));s=_,v({type:Tc.REPLACE})}function w(){const _=b;return{subscribe(C){if(typeof C!="object"||C===null)throw new Error(Ht(11));function k(){const M=C;M.next&&M.next(p())}return k(),{unsubscribe:_(k)}},[Yb](){return this}}}return v({type:Tc.INIT}),{dispatch:v,subscribe:b,getState:p,replaceReducer:x,[Yb]:w}}function i_(r){Object.keys(r).forEach(e=>{const t=r[e];if(typeof t(void 0,{type:Tc.INIT})>"u")throw new Error(Ht(12));if(typeof t(void 0,{type:Tc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ht(13))})}function a_(r){const e=Object.keys(r),t={};for(let l=0;l<e.length;l++){const c=e[l];typeof r[c]=="function"&&(t[c]=r[c])}const s=Object.keys(t);let a;try{i_(t)}catch(l){a=l}return function(c={},d){if(a)throw a;let h=!1;const f={};for(let p=0;p<s.length;p++){const b=s[p],v=t[b],x=c[b],w=v(x,d);if(typeof w>"u")throw d&&d.type,new Error(Ht(14));f[b]=w,h=h||w!==x}return h=h||s.length!==Object.keys(c).length,h?f:c}}function Nc(...r){return r.length===0?e=>e:r.length===1?r[0]:r.reduce((e,t)=>(...s)=>e(t(...s)))}function r_(...r){return e=>(t,s)=>{const a=e(t,s);let l=()=>{throw new Error(Ht(15))};const c={getState:a.getState,dispatch:(h,...f)=>l(h,...f)},d=r.map(h=>h(c));return l=Nc(...d)(a.dispatch),{...a,dispatch:l}}}function o_(r){return Xf(r)&&"type"in r&&typeof r.type=="string"}var b0=Symbol.for("immer-nothing"),Xb=Symbol.for("immer-draftable"),An=Symbol.for("immer-state");function Fn(r,...e){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var Ba=Object.getPrototypeOf;function Pi(r){return!!r&&!!r[An]}function Ts(r){return r?v0(r)||Array.isArray(r)||!!r[Xb]||!!r.constructor?.[Xb]||No(r)||Yc(r):!1}var l_=Object.prototype.constructor.toString();function v0(r){if(!r||typeof r!="object")return!1;const e=Ba(r);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===l_}function kc(r,e){$c(r)===0?Reflect.ownKeys(r).forEach(t=>{e(t,r[t],r)}):r.forEach((t,s)=>e(s,t,r))}function $c(r){const e=r[An];return e?e.type_:Array.isArray(r)?1:No(r)?2:Yc(r)?3:0}function hf(r,e){return $c(r)===2?r.has(e):Object.prototype.hasOwnProperty.call(r,e)}function x0(r,e,t){const s=$c(r);s===2?r.set(e,t):s===3?r.add(t):r[e]=t}function c_(r,e){return r===e?r!==0||1/r===1/e:r!==r&&e!==e}function No(r){return r instanceof Map}function Yc(r){return r instanceof Set}function Ni(r){return r.copy_||r.base_}function ff(r,e){if(No(r))return new Map(r);if(Yc(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);const t=v0(r);if(e===!0||e==="class_only"&&!t){const s=Object.getOwnPropertyDescriptors(r);delete s[An];let a=Reflect.ownKeys(s);for(let l=0;l<a.length;l++){const c=a[l],d=s[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(s[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:r[c]})}return Object.create(Ba(r),s)}else{const s=Ba(r);if(s!==null&&t)return{...r};const a=Object.create(s);return Object.assign(a,r)}}function Wf(r,e=!1){return Xc(r)||Pi(r)||!Ts(r)||($c(r)>1&&Object.defineProperties(r,{set:{value:sc},add:{value:sc},clear:{value:sc},delete:{value:sc}}),Object.freeze(r),e&&Object.values(r).forEach(t=>Wf(t,!0))),r}function sc(){Fn(2)}function Xc(r){return Object.isFrozen(r)}var u_={};function Li(r){const e=u_[r];return e||Fn(0,r),e}var mo;function w0(){return mo}function d_(r,e){return{drafts_:[],parent_:r,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Wb(r,e){e&&(Li("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=e)}function mf(r){pf(r),r.drafts_.forEach(h_),r.drafts_=null}function pf(r){r===mo&&(mo=r.parent_)}function Kb(r){return mo=d_(mo,r)}function h_(r){const e=r[An];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Qb(r,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return r!==void 0&&r!==t?(t[An].modified_&&(mf(e),Fn(4)),Ts(r)&&(r=Rc(e,r),e.parent_||Mc(e,r)),e.patches_&&Li("Patches").generateReplacementPatches_(t[An].base_,r,e.patches_,e.inversePatches_)):r=Rc(e,t,[]),mf(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),r!==b0?r:void 0}function Rc(r,e,t){if(Xc(e))return e;const s=e[An];if(!s)return kc(e,(a,l)=>Zb(r,s,e,a,l,t)),e;if(s.scope_!==r)return e;if(!s.modified_)return Mc(r,s.base_,!0),s.base_;if(!s.finalized_){s.finalized_=!0,s.scope_.unfinalizedDrafts_--;const a=s.copy_;let l=a,c=!1;s.type_===3&&(l=new Set(a),a.clear(),c=!0),kc(l,(d,h)=>Zb(r,s,a,d,h,t,c)),Mc(r,a,!1),t&&r.patches_&&Li("Patches").generatePatches_(s,t,r.patches_,r.inversePatches_)}return s.copy_}function Zb(r,e,t,s,a,l,c){if(Pi(a)){const d=l&&e&&e.type_!==3&&!hf(e.assigned_,s)?l.concat(s):void 0,h=Rc(r,a,d);if(x0(t,s,h),Pi(h))r.canAutoFreeze_=!1;else return}else c&&t.add(a);if(Ts(a)&&!Xc(a)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;Rc(r,a),(!e||!e.scope_.parent_)&&typeof s!="symbol"&&(No(t)?t.has(s):Object.prototype.propertyIsEnumerable.call(t,s))&&Mc(r,a)}}function Mc(r,e,t=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&Wf(e,t)}function f_(r,e){const t=Array.isArray(r),s={type_:t?1:0,scope_:e?e.scope_:w0(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=s,l=Kf;t&&(a=[s],l=po);const{revoke:c,proxy:d}=Proxy.revocable(a,l);return s.draft_=d,s.revoke_=c,d}var Kf={get(r,e){if(e===An)return r;const t=Ni(r);if(!hf(t,e))return m_(r,t,e);const s=t[e];return r.finalized_||!Ts(s)?s:s===zh(r.base_,e)?(Fh(r),r.copy_[e]=yf(s,r)):s},has(r,e){return e in Ni(r)},ownKeys(r){return Reflect.ownKeys(Ni(r))},set(r,e,t){const s=A0(Ni(r),e);if(s?.set)return s.set.call(r.draft_,t),!0;if(!r.modified_){const a=zh(Ni(r),e),l=a?.[An];if(l&&l.base_===t)return r.copy_[e]=t,r.assigned_[e]=!1,!0;if(c_(t,a)&&(t!==void 0||hf(r.base_,e)))return!0;Fh(r),gf(r)}return r.copy_[e]===t&&(t!==void 0||e in r.copy_)||Number.isNaN(t)&&Number.isNaN(r.copy_[e])||(r.copy_[e]=t,r.assigned_[e]=!0),!0},deleteProperty(r,e){return zh(r.base_,e)!==void 0||e in r.base_?(r.assigned_[e]=!1,Fh(r),gf(r)):delete r.assigned_[e],r.copy_&&delete r.copy_[e],!0},getOwnPropertyDescriptor(r,e){const t=Ni(r),s=Reflect.getOwnPropertyDescriptor(t,e);return s&&{writable:!0,configurable:r.type_!==1||e!=="length",enumerable:s.enumerable,value:t[e]}},defineProperty(){Fn(11)},getPrototypeOf(r){return Ba(r.base_)},setPrototypeOf(){Fn(12)}},po={};kc(Kf,(r,e)=>{po[r]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});po.deleteProperty=function(r,e){return po.set.call(this,r,e,void 0)};po.set=function(r,e,t){return Kf.set.call(this,r[0],e,t,r[0])};function zh(r,e){const t=r[An];return(t?Ni(t):r)[e]}function m_(r,e,t){const s=A0(e,t);return s?"value"in s?s.value:s.get?.call(r.draft_):void 0}function A0(r,e){if(!(e in r))return;let t=Ba(r);for(;t;){const s=Object.getOwnPropertyDescriptor(t,e);if(s)return s;t=Ba(t)}}function gf(r){r.modified_||(r.modified_=!0,r.parent_&&gf(r.parent_))}function Fh(r){r.copy_||(r.copy_=ff(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var p_=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,s)=>{if(typeof e=="function"&&typeof t!="function"){const l=t;t=e;const c=this;return function(h=l,...f){return c.produce(h,p=>t.call(this,p,...f))}}typeof t!="function"&&Fn(6),s!==void 0&&typeof s!="function"&&Fn(7);let a;if(Ts(e)){const l=Kb(this),c=yf(e,void 0);let d=!0;try{a=t(c),d=!1}finally{d?mf(l):pf(l)}return Wb(l,s),Qb(a,l)}else if(!e||typeof e!="object"){if(a=t(e),a===void 0&&(a=e),a===b0&&(a=void 0),this.autoFreeze_&&Wf(a,!0),s){const l=[],c=[];Li("Patches").generateReplacementPatches_(e,a,l,c),s(l,c)}return a}else Fn(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,h=>e(h,...d));let s,a;return[this.produce(e,t,(c,d)=>{s=c,a=d}),s,a]},typeof r?.autoFreeze=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof r?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){Ts(r)||Fn(8),Pi(r)&&(r=g_(r));const e=Kb(this),t=yf(r,void 0);return t[An].isManual_=!0,pf(e),t}finishDraft(r,e){const t=r&&r[An];(!t||!t.isManual_)&&Fn(9);const{scope_:s}=t;return Wb(s,e),Qb(void 0,s)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,e){let t;for(t=e.length-1;t>=0;t--){const a=e[t];if(a.path.length===0&&a.op==="replace"){r=a.value;break}}t>-1&&(e=e.slice(t+1));const s=Li("Patches").applyPatches_;return Pi(r)?s(r,e):this.produce(r,a=>s(a,e))}};function yf(r,e){const t=No(r)?Li("MapSet").proxyMap_(r,e):Yc(r)?Li("MapSet").proxySet_(r,e):f_(r,e);return(e?e.scope_:w0()).drafts_.push(t),t}function g_(r){return Pi(r)||Fn(10,r),S0(r)}function S0(r){if(!Ts(r)||Xc(r))return r;const e=r[An];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=ff(r,e.scope_.immer_.useStrictShallowCopy_)}else t=ff(r,!0);return kc(t,(s,a)=>{x0(t,s,S0(a))}),e&&(e.finalized_=!1),t}var y_=new p_,E0=y_.produce;function _0(r){return({dispatch:t,getState:s})=>a=>l=>typeof l=="function"?l(t,s,r):a(l)}var b_=_0(),v_=_0,x_=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Nc:Nc.apply(null,arguments)},w_=r=>r&&typeof r.match=="function";function oo(r,e){function t(...s){if(e){let a=e(...s);if(!a)throw new Error(_s(0));return{type:r,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:r,payload:s[0]}}return t.toString=()=>`${r}`,t.type=r,t.match=s=>o_(s)&&s.type===r,t}var C0=class so extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,so.prototype)}static get[Symbol.species](){return so}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new so(...e[0].concat(this)):new so(...e.concat(this))}};function Jb(r){return Ts(r)?E0(r,()=>{}):r}function ic(r,e,t){return r.has(e)?r.get(e):r.set(e,t(e)).get(e)}function A_(r){return typeof r=="boolean"}var S_=()=>function(e){const{thunk:t=!0,immutableCheck:s=!0,serializableCheck:a=!0,actionCreatorCheck:l=!0}=e??{};let c=new C0;return t&&(A_(t)?c.push(b_):c.push(v_(t.extraArgument))),c},E_="RTK_autoBatch",ev=r=>e=>{setTimeout(e,r)},__=(r={type:"raf"})=>e=>(...t)=>{const s=e(...t);let a=!0,l=!1,c=!1;const d=new Set,h=r.type==="tick"?queueMicrotask:r.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:ev(10):r.type==="callback"?r.queueNotification:ev(r.timeout),f=()=>{c=!1,l&&(l=!1,d.forEach(p=>p()))};return Object.assign({},s,{subscribe(p){const b=()=>a&&p(),v=s.subscribe(b);return d.add(p),()=>{v(),d.delete(p)}},dispatch(p){try{return a=!p?.meta?.[E_],l=!a,l&&(c||(c=!0,h(f))),s.dispatch(p)}finally{a=!0}}})},C_=r=>function(t){const{autoBatch:s=!0}=t??{};let a=new C0(r);return s&&a.push(__(typeof s=="object"?s:void 0)),a};function T_(r){const e=S_(),{reducer:t=void 0,middleware:s,devTools:a=!0,preloadedState:l=void 0,enhancers:c=void 0}=r||{};let d;if(typeof t=="function")d=t;else if(Xf(t))d=a_(t);else throw new Error(_s(1));let h;typeof s=="function"?h=s(e):h=e();let f=Nc;a&&(f=x_({trace:!1,...typeof a=="object"&&a}));const p=r_(...h),b=C_(p);let v=typeof c=="function"?c(b):b();const x=f(...v);return y0(d,l,x)}function T0(r){const e={},t=[];let s;const a={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(_s(28));if(d in e)throw new Error(_s(29));return e[d]=c,a},addAsyncThunk(l,c){return c.pending&&(e[l.pending.type]=c.pending),c.rejected&&(e[l.rejected.type]=c.rejected),c.fulfilled&&(e[l.fulfilled.type]=c.fulfilled),c.settled&&t.push({matcher:l.settled,reducer:c.settled}),a},addMatcher(l,c){return t.push({matcher:l,reducer:c}),a},addDefaultCase(l){return s=l,a}};return r(a),[e,t,s]}function N_(r){return typeof r=="function"}function k_(r,e){let[t,s,a]=T0(e),l;if(N_(r))l=()=>Jb(r());else{const d=Jb(r);l=()=>d}function c(d=l(),h){let f=[t[h.type],...s.filter(({matcher:p})=>p(h)).map(({reducer:p})=>p)];return f.filter(p=>!!p).length===0&&(f=[a]),f.reduce((p,b)=>{if(b)if(Pi(p)){const x=b(p,h);return x===void 0?p:x}else{if(Ts(p))return E0(p,v=>b(v,h));{const v=b(p,h);if(v===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return p},d)}return c.getInitialState=l,c}var R_=(r,e)=>w_(r)?r.match(e):r(e);function M_(...r){return e=>r.some(t=>R_(t,e))}var D_="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",j_=(r=21)=>{let e="",t=r;for(;t--;)e+=D_[Math.random()*64|0];return e},P_=["name","message","stack","code"],Uh=class{constructor(r,e){this.payload=r,this.meta=e}_type},tv=class{constructor(r,e){this.payload=r,this.meta=e}_type},L_=r=>{if(typeof r=="object"&&r!==null){const e={};for(const t of P_)typeof r[t]=="string"&&(e[t]=r[t]);return e}return{message:String(r)}},nv="External signal was aborted",Ms=(()=>{function r(e,t,s){const a=oo(e+"/fulfilled",(h,f,p,b)=>({payload:h,meta:{...b||{},arg:p,requestId:f,requestStatus:"fulfilled"}})),l=oo(e+"/pending",(h,f,p)=>({payload:void 0,meta:{...p||{},arg:f,requestId:h,requestStatus:"pending"}})),c=oo(e+"/rejected",(h,f,p,b,v)=>({payload:b,error:(s&&s.serializeError||L_)(h||"Rejected"),meta:{...v||{},arg:p,requestId:f,rejectedWithValue:!!b,requestStatus:"rejected",aborted:h?.name==="AbortError",condition:h?.name==="ConditionError"}}));function d(h,{signal:f}={}){return(p,b,v)=>{const x=s?.idGenerator?s.idGenerator(h):j_(),w=new AbortController;let A,_;function C(N){_=N,w.abort()}f&&(f.aborted?C(nv):f.addEventListener("abort",()=>C(nv),{once:!0}));const k=(async function(){let N;try{let R=s?.condition?.(h,{getState:b,extra:v});if(I_(R)&&(R=await R),R===!1||w.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const P=new Promise((O,D)=>{A=()=>{D({name:"AbortError",message:_||"Aborted"})},w.signal.addEventListener("abort",A)});p(l(x,h,s?.getPendingMeta?.({requestId:x,arg:h},{getState:b,extra:v}))),N=await Promise.race([P,Promise.resolve(t(h,{dispatch:p,getState:b,extra:v,requestId:x,signal:w.signal,abort:C,rejectWithValue:(O,D)=>new Uh(O,D),fulfillWithValue:(O,D)=>new tv(O,D)})).then(O=>{if(O instanceof Uh)throw O;return O instanceof tv?a(O.payload,x,h,O.meta):a(O,x,h)})])}catch(R){N=R instanceof Uh?c(null,x,h,R.payload,R.meta):c(R,x,h)}finally{A&&w.signal.removeEventListener("abort",A)}return s&&!s.dispatchConditionRejection&&c.match(N)&&N.meta.condition||p(N),N})();return Object.assign(k,{abort:C,requestId:x,arg:h,unwrap(){return k.then(O_)}})}}return Object.assign(d,{pending:l,rejected:c,fulfilled:a,settled:M_(c,a),typePrefix:e})}return r.withTypes=()=>r,r})();function O_(r){if(r.meta&&r.meta.rejectedWithValue)throw r.payload;if(r.error)throw r.error;return r.payload}function I_(r){return r!==null&&typeof r=="object"&&typeof r.then=="function"}var z_=Symbol.for("rtk-slice-createasyncthunk");function F_(r,e){return`${r}/${e}`}function U_({creators:r}={}){const e=r?.asyncThunk?.[z_];return function(s){const{name:a,reducerPath:l=a}=s;if(!a)throw new Error(_s(11));const c=(typeof s.reducers=="function"?s.reducers(H_()):s.reducers)||{},d=Object.keys(c),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(N,M){const R=typeof N=="string"?N:N.type;if(!R)throw new Error(_s(12));if(R in h.sliceCaseReducersByType)throw new Error(_s(13));return h.sliceCaseReducersByType[R]=M,f},addMatcher(N,M){return h.sliceMatchers.push({matcher:N,reducer:M}),f},exposeAction(N,M){return h.actionCreators[N]=M,f},exposeCaseReducer(N,M){return h.sliceCaseReducersByName[N]=M,f}};d.forEach(N=>{const M=c[N],R={reducerName:N,type:F_(a,N),createNotation:typeof s.reducers=="function"};q_(M)?$_(R,M,f,e):G_(R,M,f)});function p(){const[N={},M=[],R=void 0]=typeof s.extraReducers=="function"?T0(s.extraReducers):[s.extraReducers],P={...N,...h.sliceCaseReducersByType};return k_(s.initialState,O=>{for(let D in P)O.addCase(D,P[D]);for(let D of h.sliceMatchers)O.addMatcher(D.matcher,D.reducer);for(let D of M)O.addMatcher(D.matcher,D.reducer);R&&O.addDefaultCase(R)})}const b=N=>N,v=new Map,x=new WeakMap;let w;function A(N,M){return w||(w=p()),w(N,M)}function _(){return w||(w=p()),w.getInitialState()}function C(N,M=!1){function R(O){let D=O[N];return typeof D>"u"&&M&&(D=ic(x,R,_)),D}function P(O=b){const D=ic(v,M,()=>new WeakMap);return ic(D,O,()=>{const Y={};for(const[te,H]of Object.entries(s.selectors??{}))Y[te]=B_(H,O,()=>ic(x,O,_),M);return Y})}return{reducerPath:N,getSelectors:P,get selectors(){return P(R)},selectSlice:R}}const k={name:a,reducer:A,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:_,...C(l),injectInto(N,{reducerPath:M,...R}={}){const P=M??l;return N.inject({reducerPath:P,reducer:A},R),{...k,...C(P,!0)}}};return k}}function B_(r,e,t,s){function a(l,...c){let d=e(l);return typeof d>"u"&&s&&(d=t()),r(d,...c)}return a.unwrapped=r,a}var N0=U_();function H_(){function r(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return r.withTypes=()=>r,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:r}}function G_({type:r,reducerName:e,createNotation:t},s,a){let l,c;if("reducer"in s){if(t&&!V_(s))throw new Error(_s(17));l=s.reducer,c=s.prepare}else l=s;a.addCase(r,l).exposeCaseReducer(e,l).exposeAction(e,c?oo(r,c):oo(r))}function q_(r){return r._reducerDefinitionType==="asyncThunk"}function V_(r){return r._reducerDefinitionType==="reducerWithPrepare"}function $_({type:r,reducerName:e},t,s,a){if(!a)throw new Error(_s(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:h,settled:f,options:p}=t,b=a(r,l,p);s.exposeAction(e,b),c&&s.addCase(b.fulfilled,c),d&&s.addCase(b.pending,d),h&&s.addCase(b.rejected,h),f&&s.addMatcher(b.settled,f),s.exposeCaseReducer(e,{fulfilled:c||ac,pending:d||ac,rejected:h||ac,settled:f||ac})}function ac(){}function _s(r){return`Minified Redux Toolkit error #${r}; visit https://redux-toolkit.js.org/Errors?code=${r} for the full message or use the non-minified dev environment for full errors. `}const Y_="http://localhost:3000";class Ot extends Error{constructor(e,t){super(e),this.name="ApiError",this.status=t}}class X_{constructor(){this.token=null,this.tokenExpiry=null,this.baseURL=Y_,this.token=localStorage.getItem("token"),this.tokenExpiry=this.getStoredTokenExpiry()}async request(e,t={}){const s=`${this.baseURL}${e}`,a={headers:{"Content-Type":"application/json",...this.token&&{Authorization:`Bearer ${this.token}`},...t.headers},...t},l=await fetch(s,a);if(!l.ok){const c=await l.json().catch(()=>({}));throw new Ot(c.message||`HTTP error! status: ${l.status}`,l.status)}return await l.json()}setTokenExpiry(){const e=Date.now()+864e5;this.tokenExpiry=e,localStorage.setItem("tokenExpiry",e.toString())}getStoredTokenExpiry(){const e=localStorage.getItem("tokenExpiry");return e?parseInt(e,10):null}isTokenExpired(){return this.tokenExpiry?Date.now()>=this.tokenExpiry:!0}async login(e){if(!e.email||!e.password)throw new Ot("Invalid credentials",400);const t={id:"local-user",username:e.email.split("@")[0],email:e.email,role:"Free",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},s="local-dev-token";return this.token=s,localStorage.setItem("token",s),localStorage.setItem("user",JSON.stringify(t)),this.setTokenExpiry(),{token:s,user:t}}async register(e){if(!e.email||!e.password||!e.username)throw new Ot("Missing registration fields",400);const t={id:"local-user",username:e.username,email:e.email,firstName:e.firstName,lastName:e.lastName,role:"Free",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},s="local-dev-token";return this.token=s,localStorage.setItem("token",s),localStorage.setItem("user",JSON.stringify(t)),this.setTokenExpiry(),{token:s,user:t}}async logout(){this.token=null,this.tokenExpiry=null,localStorage.removeItem("token"),localStorage.removeItem("tokenExpiry"),localStorage.removeItem("user")}async getCurrentUser(){if(!this.token||this.isTokenExpired())throw new Ot("Not authenticated",401);const e=localStorage.getItem("user");if(e)try{return JSON.parse(e)}catch{}return{id:"local-user",username:"local",email:"local@dev",role:"Free",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()}}async updateProfile(e){return this.request("/api/auth/profile",{method:"PUT",body:JSON.stringify(e)})}async getUsers(){return(await this.request("/api/users")).users||[]}async getUserById(e){return this.request(`/api/users/${e}`)}async createUser(e){return this.request("/api/users",{method:"POST",body:JSON.stringify(e)})}async updateUser(e,t){return this.request(`/api/users/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteUser(e){return this.request(`/api/users/${e}`,{method:"DELETE"})}isAuthenticated(){return!!this.token&&!this.isTokenExpired()}getToken(){return this.token}getTokenExpiry(){return this.tokenExpiry}getTimeUntilExpiry(){return this.tokenExpiry?Math.max(0,this.tokenExpiry-Date.now()):0}isTokenAboutToExpire(){return this.getTimeUntilExpiry()<=300*1e3}}const _t=new X_,W_={user:null,token:localStorage.getItem("token"),loading:!1,error:null,isAuthenticated:!1},vc=Ms("auth/login",async(r,{rejectWithValue:e})=>{try{const t=await _t.login(r);return localStorage.setItem("token",t.token),t}catch(t){const s=t instanceof Ot?t.message:"Login failed";return e(s)}}),xc=Ms("auth/register",async(r,{rejectWithValue:e})=>{try{const t=await _t.register(r);return localStorage.setItem("token",t.token),t}catch(t){const s=t instanceof Ot?t.message:"Registration failed";return e(s)}}),Bh=Ms("auth/getCurrentUser",async(r,{rejectWithValue:e})=>{try{return await _t.getCurrentUser()}catch(t){const s=t instanceof Ot?t.message:"Failed to get user";return e(s)}}),Hh=Ms("auth/updateProfile",async(r,{rejectWithValue:e})=>{try{return(await _t.updateProfile(r)).user}catch(t){const s=t instanceof Ot?t.message:"Profile update failed";return e(s)}}),k0=N0({name:"auth",initialState:W_,reducers:{logout:r=>{r.user=null,r.token=null,r.isAuthenticated=!1,r.error=null,localStorage.removeItem("token")},clearError:r=>{r.error=null},setUser:(r,e)=>{r.user=e.payload,r.isAuthenticated=!0}},extraReducers:r=>{r.addCase(vc.pending,e=>{e.loading=!0,e.error=null}).addCase(vc.fulfilled,(e,t)=>{e.loading=!1,e.user=t.payload.user,e.token=t.payload.token,e.isAuthenticated=!0,e.error=null}).addCase(vc.rejected,(e,t)=>{e.loading=!1,e.error=t.payload,e.isAuthenticated=!1}).addCase(xc.pending,e=>{e.loading=!0,e.error=null}).addCase(xc.fulfilled,(e,t)=>{e.loading=!1,e.user=t.payload.user,e.token=t.payload.token,e.isAuthenticated=!0,e.error=null}).addCase(xc.rejected,(e,t)=>{e.loading=!1,e.error=t.payload,e.isAuthenticated=!1}).addCase(Bh.pending,e=>{e.loading=!0}).addCase(Bh.fulfilled,(e,t)=>{e.loading=!1,e.user=t.payload,e.isAuthenticated=!0,e.error=null}).addCase(Bh.rejected,(e,t)=>{e.loading=!1,e.error=t.payload,e.isAuthenticated=!1,e.token=null,localStorage.removeItem("token")}).addCase(Hh.pending,e=>{e.loading=!0,e.error=null}).addCase(Hh.fulfilled,(e,t)=>{e.loading=!1,e.user=t.payload,e.error=null}).addCase(Hh.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{logout:UD,clearError:R0,setUser:BD}=k0.actions,K_=k0.reducer,Q_={users:[],selectedUser:null,loading:!1,error:null},Gh=Ms("user/fetchUsers",async(r,{rejectWithValue:e})=>{try{return await _t.getUsers()}catch(t){const s=t instanceof Ot?t.message:"Failed to fetch users";return e(s)}}),qh=Ms("user/fetchUserById",async(r,{rejectWithValue:e})=>{try{return await _t.getUserById(r)}catch(t){const s=t instanceof Ot?t.message:"Failed to fetch user";return e(s)}}),Vh=Ms("user/createUser",async(r,{rejectWithValue:e})=>{try{return await _t.createUser(r)}catch(t){const s=t instanceof Ot?t.message:"Failed to create user";return e(s)}}),$h=Ms("user/updateUser",async({userId:r,userData:e},{rejectWithValue:t})=>{try{return await _t.updateUser(r,e)}catch(s){const a=s instanceof Ot?s.message:"Failed to update user";return t(a)}}),Yh=Ms("user/deleteUser",async(r,{rejectWithValue:e})=>{try{return await _t.deleteUser(r),r}catch(t){const s=t instanceof Ot?t.message:"Failed to delete user";return e(s)}}),M0=N0({name:"user",initialState:Q_,reducers:{clearError:r=>{r.error=null},setSelectedUser:(r,e)=>{r.selectedUser=e.payload}},extraReducers:r=>{r.addCase(Gh.pending,e=>{e.loading=!0,e.error=null}).addCase(Gh.fulfilled,(e,t)=>{e.loading=!1,e.users=t.payload,e.error=null}).addCase(Gh.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(qh.pending,e=>{e.loading=!0,e.error=null}).addCase(qh.fulfilled,(e,t)=>{e.loading=!1,e.selectedUser=t.payload,e.error=null}).addCase(qh.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(Vh.pending,e=>{e.loading=!0,e.error=null}).addCase(Vh.fulfilled,(e,t)=>{e.loading=!1,e.users.push(t.payload),e.error=null}).addCase(Vh.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase($h.pending,e=>{e.loading=!0,e.error=null}).addCase($h.fulfilled,(e,t)=>{e.loading=!1;const s=e.users.findIndex(a=>a.id===t.payload.id);s!==-1&&(e.users[s]=t.payload),e.selectedUser?.id===t.payload.id&&(e.selectedUser=t.payload),e.error=null}).addCase($h.rejected,(e,t)=>{e.loading=!1,e.error=t.payload}).addCase(Yh.pending,e=>{e.loading=!0,e.error=null}).addCase(Yh.fulfilled,(e,t)=>{e.loading=!1,e.users=e.users.filter(s=>s.id!==t.payload),e.selectedUser?.id===t.payload&&(e.selectedUser=null),e.error=null}).addCase(Yh.rejected,(e,t)=>{e.loading=!1,e.error=t.payload})}}),{clearError:HD,setSelectedUser:GD}=M0.actions,Z_=M0.reducer,J_=T_({reducer:{auth:K_,user:Z_}}),D0=S.createContext(void 0),e2=()=>{const r=S.useContext(D0);if(r===void 0)throw new Error("useTheme must be used within a ThemeProvider");return r},t2=({children:r})=>{const[e,t]=S.useState(()=>localStorage.getItem("signmenow-theme")||"system"),[s,a]=S.useState("light");S.useEffect(()=>{const c=()=>{if(e==="system"){const d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a(d)}else a(e)};if(c(),e==="system"){const d=window.matchMedia("(prefers-color-scheme: dark)"),h=()=>c();return d.addEventListener("change",h),()=>d.removeEventListener("change",h)}},[e]),S.useEffect(()=>{localStorage.setItem("signmenow-theme",e),s==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[s,e]);const l={theme:e,setTheme:t,actualTheme:s};return m.jsx(D0.Provider,{value:l,children:r})},n2={translation:{common:{loading:"Loading...",error:"Error",success:"Success",cancel:"Cancel",save:"Save",delete:"Delete",edit:"Edit",create:"Create",update:"Update",search:"Search",filter:"Filter",refresh:"Refresh",logout:"Logout",signOut:"Sign Out",signIn:"Sign In",signUp:"Sign Up",email:"Email",password:"Password",username:"Username",firstName:"First Name",lastName:"Last Name",confirmPassword:"Confirm Password",showPassword:"Show Password",hidePassword:"Hide Password",signMeNow:"SignMeNow",required:"*",enterYour:"Enter your",confirmYour:"Confirm your",usernameRequired:"Username *",emailRequired:"Email *",passwordRequired:"Password *",confirmPasswordRequired:"Confirm Password *",enterUsername:"Enter your username",enterEmail:"Enter your email",enterPassword:"Enter your password",confirmPasswordPlaceholder:"Confirm your password"},nav:{dashboard:"Dashboard",library:"Library",inbox:"Inbox",outbox:"Outbox",archive:"Archive",workspace:"Workspace",settings:"Settings",myProfile:"My Profile",messages:"Messages",usage:"Usage",invoices:"Invoices",addressBook:"Address Book",documents:"Documents",templates:"Templates",analysis:"AI Analysis",chat:"Chat Assistant",analytics:"Analytics",users:"Users"},auth:{welcomeBack:"Welcome Back",signInToAccount:"Sign in to your account to continue",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?",createAccount:"Create Account",signUpDescription:"Sign up for a new account to get started with AI-powered e-signatures",loginSuccess:"Logged in successfully!",registerSuccess:"Account created successfully!",loginFailed:"Login failed",registerFailed:"Registration failed",sessionExpiresIn:"Auto-logout:",continueWithGoogle:"Continue with Google",orContinueWith:"Or continue with",basicInformation:"Basic Information",profileInformation:"Profile Information",addressInformation:"Address Information",companyInformation:"Company Information",googleLoginComingSoon:"Google login feature coming soon!"},dashboard:{title:"Dashboard",welcome:"Welcome to SignMeNow",recentDocuments:"Recent Documents",quickActions:"Quick Actions",statistics:"Statistics",goodMorning:"Good morning",goodAfternoon:"Good afternoon",goodEvening:"Good evening",documentsSigned:"Documents Signed",awaitingSignature:"Awaiting Signature"},users:{title:"Team Members",subtitle:"Manage team members and their signing permissions",addMember:"Add Team Member",noMembersFound:"No team members found",tryAdjustingSearch:"Try adjusting your search terms.",getStartedAdding:"Get started by adding a new team member.",searchPlaceholder:"Search by name, username, or email...",loadingMembers:"Loading team members...",userCreated:"User created successfully",userUpdated:"User updated successfully",userDeleted:"User deleted successfully",failedToCreate:"Failed to create user",failedToUpdate:"Failed to update user",failedToDelete:"Failed to delete user",deleteConfirm:"Are you sure you want to delete this user?"},documents:{title:"Documents",noDocuments:"No documents found",uploadDocument:"Upload Document",createDocument:"Create Document"},templates:{title:"Templates",noTemplates:"No templates found",createTemplate:"Create Template"},analysis:{title:"AI Analysis",analyzeDocument:"Analyze Document"},chat:{title:"Chat Assistant",typeMessage:"Type your message...",send:"Send"},analytics:{title:"Analytics",overview:"Overview",performance:"Performance"},settings:{title:"Settings",profile:"Profile",preferences:"Preferences",security:"Security",language:"Language"}}},s2={translation:{common:{loading:"Ldt...",error:"Fehler",success:"Erfolg",cancel:"Abbrechen",save:"Speichern",delete:"Lschen",edit:"Bearbeiten",create:"Erstellen",update:"Aktualisieren",search:"Suchen",filter:"Filtern",refresh:"Aktualisieren",logout:"Abmelden",signOut:"Abmelden",signIn:"Anmelden",signUp:"Registrieren",email:"E-Mail",password:"Passwort",username:"Benutzername",firstName:"Vorname",lastName:"Nachname",confirmPassword:"Passwort besttigen",showPassword:"Passwort anzeigen",hidePassword:"Passwort verbergen",signMeNow:"SignMeNow",required:"*",enterYour:"Geben Sie Ihr",confirmYour:"Besttigen Sie Ihr",usernameRequired:"Benutzername *",emailRequired:"E-Mail *",passwordRequired:"Passwort *",confirmPasswordRequired:"Passwort besttigen *",enterUsername:"Geben Sie Ihren Benutzernamen ein",enterEmail:"Geben Sie Ihre E-Mail ein",enterPassword:"Geben Sie Ihr Passwort ein",confirmPasswordPlaceholder:"Besttigen Sie Ihr Passwort"},nav:{dashboard:"Dashboard",library:"Bibliothek",inbox:"Posteingang",outbox:"Postausgang",archive:"Archiv",workspace:"Arbeitsbereich",settings:"Einstellungen",myProfile:"Mein Profil",messages:"Nachrichten",usage:"Nutzung",invoices:"Rechnungen",addressBook:"Adressbuch",documents:"Dokumente",templates:"Vorlagen",analysis:"KI-Analyse",chat:"Chat-Assistent",analytics:"Analytik",users:"Benutzer"},auth:{welcomeBack:"Willkommen zurck",signInToAccount:"Melden Sie sich in Ihrem Konto an, um fortzufahren",dontHaveAccount:"Haben Sie noch kein Konto?",alreadyHaveAccount:"Haben Sie bereits ein Konto?",createAccount:"Konto erstellen",signUpDescription:"Registrieren Sie sich fr ein neues Konto, um mit KI-gesttzten E-Signaturen zu beginnen",loginSuccess:"Erfolgreich angemeldet!",registerSuccess:"Konto erfolgreich erstellt!",loginFailed:"Anmeldung fehlgeschlagen",registerFailed:"Registrierung fehlgeschlagen",sessionExpiresIn:"Auto-Abmeldung:",continueWithGoogle:"Mit Google fortfahren",orContinueWith:"Oder fortfahren mit",basicInformation:"Grundinformationen",profileInformation:"Profilinformationen",addressInformation:"Adressinformationen",companyInformation:"Firmeninformationen",googleLoginComingSoon:"Google-Login-Funktion kommt bald!"},dashboard:{title:"Dashboard",welcome:"Willkommen bei SignMeNow",recentDocuments:"Aktuelle Dokumente",quickActions:"Schnellaktionen",statistics:"Statistiken",goodMorning:"Guten Morgen",goodAfternoon:"Guten Tag",goodEvening:"Guten Abend",documentsSigned:"Unterzeichnete Dokumente",awaitingSignature:"Warten auf Unterschrift"},users:{title:"Teammitglieder",subtitle:"Verwalten Sie Teammitglieder und ihre Signaturberechtigungen",addMember:"Teammitglied hinzufgen",noMembersFound:"Keine Teammitglieder gefunden",tryAdjustingSearch:"Versuchen Sie, Ihre Suchbegriffe anzupassen.",getStartedAdding:"Beginnen Sie mit dem Hinzufgen eines neuen Teammitglieds.",searchPlaceholder:"Nach Name, Benutzername oder E-Mail suchen...",loadingMembers:"Lade Teammitglieder...",userCreated:"Benutzer erfolgreich erstellt",userUpdated:"Benutzer erfolgreich aktualisiert",userDeleted:"Benutzer erfolgreich gelscht",failedToCreate:"Benutzer konnte nicht erstellt werden",failedToUpdate:"Benutzer konnte nicht aktualisiert werden",failedToDelete:"Benutzer konnte nicht gelscht werden",deleteConfirm:"Sind Sie sicher, dass Sie diesen Benutzer lschen mchten?"},documents:{title:"Dokumente",noDocuments:"Keine Dokumente gefunden",uploadDocument:"Dokument hochladen",createDocument:"Dokument erstellen"},templates:{title:"Vorlagen",noTemplates:"Keine Vorlagen gefunden",createTemplate:"Vorlage erstellen"},analysis:{title:"KI-Analyse",analyzeDocument:"Dokument analysieren"},chat:{title:"Chat-Assistent",typeMessage:"Geben Sie Ihre Nachricht ein...",send:"Senden"},analytics:{title:"Analytik",overview:"bersicht",performance:"Leistung"},settings:{title:"Einstellungen",profile:"Profil",preferences:"Einstellungen",security:"Sicherheit",language:"Sprache"}}},i2={translation:{common:{loading:"Se ncarc...",error:"Eroare",success:"Succes",cancel:"Anuleaz",save:"Salveaz",delete:"terge",edit:"Editeaz",create:"Creeaz",update:"Actualizeaz",search:"Caut",filter:"Filtreaz",refresh:"Remprospteaz",logout:"Deconectare",signOut:"Deconectare",signIn:"Conectare",signUp:"nregistrare",email:"Email",password:"Parol",username:"Nume utilizator",firstName:"Prenume",lastName:"Nume de familie",confirmPassword:"Confirm parola",showPassword:"Arat parola",hidePassword:"Ascunde parola",signMeNow:"SignMeNow",required:"*",enterYour:"Introducei",confirmYour:"Confirmai",usernameRequired:"Nume utilizator *",emailRequired:"Email *",passwordRequired:"Parol *",confirmPasswordRequired:"Confirm parola *",enterUsername:"Introducei numele de utilizator",enterEmail:"Introducei emailul",enterPassword:"Introducei parola",confirmPasswordPlaceholder:"Confirmai parola"},nav:{dashboard:"Panou de control",library:"Bibliotec",inbox:"Inbox",outbox:"Outbox",archive:"Arhiv",workspace:"Spaiu de lucru",settings:"Setri",myProfile:"Profilul meu",messages:"Mesaje",usage:"Utilizare",invoices:"Facturi",addressBook:"Agend",documents:"Documente",templates:"abloane",analysis:"Analiz IA",chat:"Chat asistent",analytics:"Analitic",users:"Utilizatori"},auth:{welcomeBack:"Bine ai revenit",signInToAccount:"Conecteaz-te la contul tu pentru a continua",dontHaveAccount:"Nu ai un cont?",alreadyHaveAccount:"Ai deja un cont?",createAccount:"Creeaz cont",signUpDescription:"nregistreaz-te pentru un cont nou pentru a ncepe cu semnturile electronice alimentate de IA",loginSuccess:"Conectat cu succes!",registerSuccess:"Cont creat cu succes!",loginFailed:"Conectare euat",registerFailed:"nregistrare euat",sessionExpiresIn:"Deconectare automat:",continueWithGoogle:"Continu cu Google",orContinueWith:"Sau continu cu",basicInformation:"Informaii de baz",profileInformation:"Informaii profil",addressInformation:"Informaii adres",companyInformation:"Informaii companie",googleLoginComingSoon:"Funcia de conectare Google vine n curnd!"},dashboard:{title:"Panou de control",welcome:"Bine ai venit la SignMeNow",recentDocuments:"Documente recente",quickActions:"Aciuni rapide",statistics:"Statistici",goodMorning:"Bun dimineaa",goodAfternoon:"Bun ziua",goodEvening:"Bun seara",documentsSigned:"Documente semnate",awaitingSignature:"Ateapt semntur"},users:{title:"Membri echip",subtitle:"Gestioneaz membrii echipei i permisiunile lor de semnare",addMember:"Adaug membru echip",noMembersFound:"Nu s-au gsit membri echip",tryAdjustingSearch:"ncearc s ajustezi termenii de cutare.",getStartedAdding:"ncepe prin adugarea unui nou membru echip.",searchPlaceholder:"Caut dup nume, nume utilizator sau email...",loadingMembers:"Se ncarc membrii echipei...",userCreated:"Utilizator creat cu succes",userUpdated:"Utilizator actualizat cu succes",userDeleted:"Utilizator ters cu succes",failedToCreate:"Nu s-a putut crea utilizatorul",failedToUpdate:"Nu s-a putut actualiza utilizatorul",failedToDelete:"Nu s-a putut terge utilizatorul",deleteConfirm:"Eti sigur c vrei s tergi acest utilizator?"},documents:{title:"Documente",noDocuments:"Nu s-au gsit documente",uploadDocument:"ncarc document",createDocument:"Creeaz document"},templates:{title:"abloane",noTemplates:"Nu s-au gsit abloane",createTemplate:"Creeaz ablon"},analysis:{title:"Analiz IA",analyzeDocument:"Analizeaz document"},chat:{title:"Chat asistent",typeMessage:"Scrie mesajul tu...",send:"Trimite"},analytics:{title:"Analitic",overview:"Prezentare general",performance:"Performan"},settings:{title:"Setri",profile:"Profil",preferences:"Preferine",security:"Securitate",language:"Limb"}}},a2={translation:{common:{loading:"Chargement...",error:"Erreur",success:"Succs",cancel:"Annuler",save:"Enregistrer",delete:"Supprimer",edit:"Modifier",create:"Crer",update:"Mettre  jour",search:"Rechercher",filter:"Filtrer",refresh:"Actualiser",logout:"Dconnexion",signOut:"Se dconnecter",signIn:"Se connecter",signUp:"S'inscrire",email:"Email",password:"Mot de passe",username:"Nom d'utilisateur",firstName:"Prnom",lastName:"Nom de famille",confirmPassword:"Confirmer le mot de passe",showPassword:"Afficher le mot de passe",hidePassword:"Masquer le mot de passe",signMeNow:"SignMeNow",required:"*",enterYour:"Entrez votre",confirmYour:"Confirmez votre",usernameRequired:"Nom d'utilisateur *",emailRequired:"Email *",passwordRequired:"Mot de passe *",confirmPasswordRequired:"Confirmer le mot de passe *",enterUsername:"Entrez votre nom d'utilisateur",enterEmail:"Entrez votre email",enterPassword:"Entrez votre mot de passe",confirmPasswordPlaceholder:"Confirmez votre mot de passe"},nav:{dashboard:"Tableau de bord",library:"Bibliothque",inbox:"Bote de rception",outbox:"Bote d'envoi",archive:"Archive",workspace:"Espace de travail",settings:"Paramtres",myProfile:"Mon profil",messages:"Messages",usage:"Utilisation",invoices:"Factures",addressBook:"Carnet d'adresses",documents:"Documents",templates:"Modles",analysis:"Analyse IA",chat:"Chat assistant",analytics:"Analytique",users:"Utilisateurs"},auth:{welcomeBack:"Bienvenue de retour",signInToAccount:"Connectez-vous  votre compte pour continuer",dontHaveAccount:"Vous n'avez pas de compte ?",alreadyHaveAccount:"Vous avez dj un compte ?",createAccount:"Crer un compte",signUpDescription:"Inscrivez-vous pour un nouveau compte pour commencer avec les signatures lectroniques alimentes par IA",loginSuccess:"Connect avec succs !",registerSuccess:"Compte cr avec succs !",loginFailed:"chec de la connexion",registerFailed:"chec de l'inscription",sessionExpiresIn:"Dconnexion automatique :",continueWithGoogle:"Continuer avec Google",orContinueWith:"Ou continuer avec",basicInformation:"Informations de base",profileInformation:"Informations de profil",addressInformation:"Informations d'adresse",companyInformation:"Informations d'entreprise",googleLoginComingSoon:"La fonctionnalit de connexion Google arrive bientt !"},dashboard:{title:"Tableau de bord",welcome:"Bienvenue sur SignMeNow",recentDocuments:"Documents rcents",quickActions:"Actions rapides",statistics:"Statistiques",goodMorning:"Bonjour",goodAfternoon:"Bon aprs-midi",goodEvening:"Bonsoir",documentsSigned:"Documents signs",awaitingSignature:"En attente de signature"},users:{title:"Membres de l'quipe",subtitle:"Grer les membres de l'quipe et leurs autorisations de signature",addMember:"Ajouter un membre d'quipe",noMembersFound:"Aucun membre d'quipe trouv",tryAdjustingSearch:"Essayez d'ajuster vos termes de recherche.",getStartedAdding:"Commencez par ajouter un nouveau membre d'quipe.",searchPlaceholder:"Rechercher par nom, nom d'utilisateur ou email...",loadingMembers:"Chargement des membres de l'quipe...",userCreated:"Utilisateur cr avec succs",userUpdated:"Utilisateur mis  jour avec succs",userDeleted:"Utilisateur supprim avec succs",failedToCreate:"chec de la cration de l'utilisateur",failedToUpdate:"chec de la mise  jour de l'utilisateur",failedToDelete:"chec de la suppression de l'utilisateur",deleteConfirm:"tes-vous sr de vouloir supprimer cet utilisateur ?"},documents:{title:"Documents",noDocuments:"Aucun document trouv",uploadDocument:"Tlcharger un document",createDocument:"Crer un document"},templates:{title:"Modles",noTemplates:"Aucun modle trouv",createTemplate:"Crer un modle"},analysis:{title:"Analyse IA",analyzeDocument:"Analyser le document"},chat:{title:"Chat assistant",typeMessage:"Tapez votre message...",send:"Envoyer"},analytics:{title:"Analytique",overview:"Aperu",performance:"Performance"},settings:{title:"Paramtres",profile:"Profil",preferences:"Prfrences",security:"Scurit",language:"Langue"}}},r2={translation:{common:{loading:"Cargando...",error:"Error",success:"xito",cancel:"Cancelar",save:"Guardar",delete:"Eliminar",edit:"Editar",create:"Crear",update:"Actualizar",search:"Buscar",filter:"Filtrar",refresh:"Actualizar",logout:"Cerrar sesin",signOut:"Cerrar sesin",signIn:"Iniciar sesin",signUp:"Registrarse",email:"Correo electrnico",password:"Contrasea",username:"Nombre de usuario",firstName:"Nombre",lastName:"Apellido",confirmPassword:"Confirmar contrasea",showPassword:"Mostrar contrasea",hidePassword:"Ocultar contrasea",signMeNow:"SignMeNow",required:"*",enterYour:"Ingresa tu",confirmYour:"Confirma tu",usernameRequired:"Nombre de usuario *",emailRequired:"Correo electrnico *",passwordRequired:"Contrasea *",confirmPasswordRequired:"Confirmar contrasea *",enterUsername:"Ingresa tu nombre de usuario",enterEmail:"Ingresa tu correo electrnico",enterPassword:"Ingresa tu contrasea",confirmPasswordPlaceholder:"Confirma tu contrasea"},nav:{dashboard:"Panel de control",library:"Biblioteca",inbox:"Bandeja de entrada",outbox:"Bandeja de salida",archive:"Archivo",workspace:"Espacio de trabajo",settings:"Configuracin",myProfile:"Mi perfil",messages:"Mensajes",usage:"Uso",invoices:"Facturas",addressBook:"Libreta de direcciones",documents:"Documentos",templates:"Plantillas",analysis:"Anlisis IA",chat:"Chat asistente",analytics:"Analtica",users:"Usuarios"},auth:{welcomeBack:"Bienvenido de vuelta",signInToAccount:"Inicia sesin en tu cuenta para continuar",dontHaveAccount:"No tienes una cuenta?",alreadyHaveAccount:"Ya tienes una cuenta?",createAccount:"Crear cuenta",signUpDescription:"Regstrate para una nueva cuenta para comenzar con firmas electrnicas impulsadas por IA",loginSuccess:"Iniciado sesin con xito!",registerSuccess:"Cuenta creada con xito!",loginFailed:"Error al iniciar sesin",registerFailed:"Error al registrarse",sessionExpiresIn:"Cierre de sesin automtico:",continueWithGoogle:"Continuar con Google",orContinueWith:"O continuar con",basicInformation:"Informacin bsica",profileInformation:"Informacin de perfil",addressInformation:"Informacin de direccin",companyInformation:"Informacin de empresa",googleLoginComingSoon:"La funcin de inicio de sesin con Google viene pronto!"},dashboard:{title:"Panel de control",welcome:"Bienvenido a SignMeNow",recentDocuments:"Documentos recientes",quickActions:"Acciones rpidas",statistics:"Estadsticas",goodMorning:"Buenos das",goodAfternoon:"Buenas tardes",goodEvening:"Buenas noches",documentsSigned:"Documentos firmados",awaitingSignature:"Esperando firma"},users:{title:"Miembros del equipo",subtitle:"Gestionar miembros del equipo y sus permisos de firma",addMember:"Agregar miembro del equipo",noMembersFound:"No se encontraron miembros del equipo",tryAdjustingSearch:"Intenta ajustar tus trminos de bsqueda.",getStartedAdding:"Comienza agregando un nuevo miembro del equipo.",searchPlaceholder:"Buscar por nombre, nombre de usuario o correo electrnico...",loadingMembers:"Cargando miembros del equipo...",userCreated:"Usuario creado con xito",userUpdated:"Usuario actualizado con xito",userDeleted:"Usuario eliminado con xito",failedToCreate:"Error al crear el usuario",failedToUpdate:"Error al actualizar el usuario",failedToDelete:"Error al eliminar el usuario",deleteConfirm:"Ests seguro de que quieres eliminar este usuario?"},documents:{title:"Documentos",noDocuments:"No se encontraron documentos",uploadDocument:"Subir documento",createDocument:"Crear documento"},templates:{title:"Plantillas",noTemplates:"No se encontraron plantillas",createTemplate:"Crear plantilla"},analysis:{title:"Anlisis IA",analyzeDocument:"Analizar documento"},chat:{title:"Chat asistente",typeMessage:"Escribe tu mensaje...",send:"Enviar"},analytics:{title:"Analtica",overview:"Resumen",performance:"Rendimiento"},settings:{title:"Configuracin",profile:"Perfil",preferences:"Preferencias",security:"Seguridad",language:"Idioma"}}},o2={translation:{common:{loading:"Caricamento...",error:"Errore",success:"Successo",cancel:"Annulla",save:"Salva",delete:"Elimina",edit:"Modifica",create:"Crea",update:"Aggiorna",search:"Cerca",filter:"Filtra",refresh:"Aggiorna",logout:"Disconnetti",signOut:"Disconnetti",signIn:"Accedi",signUp:"Registrati",email:"Email",password:"Password",username:"Nome utente",firstName:"Nome",lastName:"Cognome",confirmPassword:"Conferma password",showPassword:"Mostra password",hidePassword:"Nascondi password",signMeNow:"SignMeNow",required:"*",enterYour:"Inserisci il tuo",confirmYour:"Conferma il tuo",usernameRequired:"Nome utente *",emailRequired:"Email *",passwordRequired:"Password *",confirmPasswordRequired:"Conferma password *",enterUsername:"Inserisci il tuo nome utente",enterEmail:"Inserisci la tua email",enterPassword:"Inserisci la tua password",confirmPasswordPlaceholder:"Conferma la tua password"},nav:{dashboard:"Pannello di controllo",library:"Libreria",inbox:"Posta in arrivo",outbox:"Posta in uscita",archive:"Archivio",workspace:"Spazio di lavoro",settings:"Impostazioni",myProfile:"Il mio profilo",messages:"Messaggi",usage:"Utilizzo",invoices:"Fatture",addressBook:"Rubrica",documents:"Documenti",templates:"Modelli",analysis:"Analisi IA",chat:"Chat assistente",analytics:"Analitica",users:"Utenti"},auth:{welcomeBack:"Bentornato",signInToAccount:"Accedi al tuo account per continuare",dontHaveAccount:"Non hai un account?",alreadyHaveAccount:"Hai gi un account?",createAccount:"Crea account",signUpDescription:"Registrati per un nuovo account per iniziare con le firme elettroniche alimentate da IA",loginSuccess:"Accesso effettuato con successo!",registerSuccess:"Account creato con successo!",loginFailed:"Accesso fallito",registerFailed:"Registrazione fallita",sessionExpiresIn:"Disconnessione automatica:",continueWithGoogle:"Continua con Google",orContinueWith:"O continua con",basicInformation:"Informazioni di base",profileInformation:"Informazioni profilo",addressInformation:"Informazioni indirizzo",companyInformation:"Informazioni azienda",googleLoginComingSoon:"La funzione di accesso Google arriva presto!"},dashboard:{title:"Pannello di controllo",welcome:"Benvenuto su SignMeNow",recentDocuments:"Documenti recenti",quickActions:"Azioni rapide",statistics:"Statistiche",goodMorning:"Buongiorno",goodAfternoon:"Buon pomeriggio",goodEvening:"Buonasera",documentsSigned:"Documenti firmati",awaitingSignature:"In attesa di firma"},users:{title:"Membri del team",subtitle:"Gestisci i membri del team e i loro permessi di firma",addMember:"Aggiungi membro del team",noMembersFound:"Nessun membro del team trovato",tryAdjustingSearch:"Prova a regolare i termini di ricerca.",getStartedAdding:"Inizia aggiungendo un nuovo membro del team.",searchPlaceholder:"Cerca per nome, nome utente o email...",loadingMembers:"Caricamento membri del team...",userCreated:"Utente creato con successo",userUpdated:"Utente aggiornato con successo",userDeleted:"Utente eliminato con successo",failedToCreate:"Impossibile creare l'utente",failedToUpdate:"Impossibile aggiornare l'utente",failedToDelete:"Impossibile eliminare l'utente",deleteConfirm:"Sei sicuro di voler eliminare questo utente?"},documents:{title:"Documenti",noDocuments:"Nessun documento trovato",uploadDocument:"Carica documento",createDocument:"Crea documento"},templates:{title:"Modelli",noTemplates:"Nessun modello trovato",createTemplate:"Crea modello"},analysis:{title:"Analisi IA",analyzeDocument:"Analizza documento"},chat:{title:"Chat assistente",typeMessage:"Scrivi il tuo messaggio...",send:"Invia"},analytics:{title:"Analitica",overview:"Panoramica",performance:"Performance"},settings:{title:"Impostazioni",profile:"Profilo",preferences:"Preferenze",security:"Sicurezza",language:"Lingua"}}},l2={translation:{common:{loading:"Carregando...",error:"Erro",success:"Sucesso",cancel:"Cancelar",save:"Salvar",delete:"Excluir",edit:"Editar",create:"Criar",update:"Atualizar",search:"Buscar",filter:"Filtrar",refresh:"Atualizar",logout:"Sair",signOut:"Sair",signIn:"Entrar",signUp:"Cadastrar",email:"Email",password:"Senha",username:"Nome de usurio",firstName:"Nome",lastName:"Sobrenome",confirmPassword:"Confirmar senha",showPassword:"Mostrar senha",hidePassword:"Ocultar senha",signMeNow:"SignMeNow",required:"*",enterYour:"Digite seu",confirmYour:"Confirme sua",usernameRequired:"Nome de usurio *",emailRequired:"Email *",passwordRequired:"Senha *",confirmPasswordRequired:"Confirmar senha *",enterUsername:"Digite seu nome de usurio",enterEmail:"Digite seu email",enterPassword:"Digite sua senha",confirmPasswordPlaceholder:"Confirme sua senha"},nav:{dashboard:"Painel de controle",library:"Biblioteca",inbox:"Caixa de entrada",outbox:"Caixa de sada",archive:"Arquivo",workspace:"Espao de trabalho",settings:"Configuraes",myProfile:"Meu perfil",messages:"Mensagens",usage:"Uso",invoices:"Faturas",addressBook:"Agenda",documents:"Documentos",templates:"Modelos",analysis:"Anlise IA",chat:"Chat assistente",analytics:"Analtica",users:"Usurios"},auth:{welcomeBack:"Bem-vindo de volta",signInToAccount:"Entre na sua conta para continuar",dontHaveAccount:"No tem uma conta?",alreadyHaveAccount:"J tem uma conta?",createAccount:"Criar conta",signUpDescription:"Cadastre-se para uma nova conta para comear com assinaturas eletrnicas alimentadas por IA",loginSuccess:"Logado com sucesso!",registerSuccess:"Conta criada com sucesso!",loginFailed:"Falha no login",registerFailed:"Falha no cadastro",sessionExpiresIn:"Logout automtico:",continueWithGoogle:"Continuar com Google",orContinueWith:"Ou continuar com",basicInformation:"Informaes bsicas",profileInformation:"Informaes de perfil",addressInformation:"Informaes de endereo",companyInformation:"Informaes da empresa",googleLoginComingSoon:"O recurso de login do Google vem em breve!"},dashboard:{title:"Painel de controle",welcome:"Bem-vindo ao SignMeNow",recentDocuments:"Documentos recentes",quickActions:"Aes rpidas",statistics:"Estatsticas",goodMorning:"Bom dia",goodAfternoon:"Boa tarde",goodEvening:"Boa noite",documentsSigned:"Documentos assinados",awaitingSignature:"Aguardando assinatura"},users:{title:"Membros da equipe",subtitle:"Gerenciar membros da equipe e suas permisses de assinatura",addMember:"Adicionar membro da equipe",noMembersFound:"Nenhum membro da equipe encontrado",tryAdjustingSearch:"Tente ajustar seus termos de pesquisa.",getStartedAdding:"Comece adicionando um novo membro da equipe.",searchPlaceholder:"Buscar por nome, nome de usurio ou email...",loadingMembers:"Carregando membros da equipe...",userCreated:"Usurio criado com sucesso",userUpdated:"Usurio atualizado com sucesso",userDeleted:"Usurio excludo com sucesso",failedToCreate:"Falha ao criar usurio",failedToUpdate:"Falha ao atualizar usurio",failedToDelete:"Falha ao excluir usurio",deleteConfirm:"Tem certeza de que deseja excluir este usurio?"},documents:{title:"Documentos",noDocuments:"Nenhum documento encontrado",uploadDocument:"Fazer upload de documento",createDocument:"Criar documento"},templates:{title:"Modelos",noTemplates:"Nenhum modelo encontrado",createTemplate:"Criar modelo"},analysis:{title:"Anlise IA",analyzeDocument:"Analisar documento"},chat:{title:"Chat assistente",typeMessage:"Digite sua mensagem...",send:"Enviar"},analytics:{title:"Analtica",overview:"Viso geral",performance:"Performance"},settings:{title:"Configuraes",profile:"Perfil",preferences:"Preferncias",security:"Segurana",language:"Idioma"}}},c2={translation:{common:{loading:"Laden...",error:"Fout",success:"Succes",cancel:"Annuleren",save:"Opslaan",delete:"Verwijderen",edit:"Bewerken",create:"Aanmaken",update:"Bijwerken",search:"Zoeken",filter:"Filteren",refresh:"Vernieuwen",logout:"Uitloggen",signOut:"Uitloggen",signIn:"Inloggen",signUp:"Aanmelden",email:"E-mail",password:"Wachtwoord",username:"Gebruikersnaam",firstName:"Voornaam",lastName:"Achternaam",confirmPassword:"Wachtwoord bevestigen",showPassword:"Wachtwoord tonen",hidePassword:"Wachtwoord verbergen",signMeNow:"SignMeNow",required:"*",enterYour:"Voer uw",confirmYour:"Bevestig uw",usernameRequired:"Gebruikersnaam *",emailRequired:"E-mail *",passwordRequired:"Wachtwoord *",confirmPasswordRequired:"Wachtwoord bevestigen *",enterUsername:"Voer uw gebruikersnaam in",enterEmail:"Voer uw e-mail in",enterPassword:"Voer uw wachtwoord in",confirmPasswordPlaceholder:"Bevestig uw wachtwoord"},nav:{dashboard:"Dashboard",library:"Bibliotheek",inbox:"Inbox",outbox:"Outbox",archive:"Archief",workspace:"Werkruimte",settings:"Instellingen",myProfile:"Mijn profiel",messages:"Berichten",usage:"Gebruik",invoices:"Facturen",addressBook:"Adresboek",documents:"Documenten",templates:"Sjablonen",analysis:"AI Analyse",chat:"Chat assistent",analytics:"Analytiek",users:"Gebruikers"},auth:{welcomeBack:"Welkom terug",signInToAccount:"Log in op uw account om door te gaan",dontHaveAccount:"Heeft u nog geen account?",alreadyHaveAccount:"Heeft u al een account?",createAccount:"Account aanmaken",signUpDescription:"Meld u aan voor een nieuw account om te beginnen met AI-gedreven e-handtekeningen",loginSuccess:"Succesvol ingelogd!",registerSuccess:"Account succesvol aangemaakt!",loginFailed:"Inloggen mislukt",registerFailed:"Registratie mislukt",sessionExpiresIn:"Automatisch uitloggen:",continueWithGoogle:"Doorgaan met Google",orContinueWith:"Of doorgaan met",basicInformation:"Basisinformatie",profileInformation:"Profielinformatie",addressInformation:"Adresinformatie",companyInformation:"Bedrijfsinformatie",googleLoginComingSoon:"Google login functie komt binnenkort!"},dashboard:{title:"Dashboard",welcome:"Welkom bij SignMeNow",recentDocuments:"Recente documenten",quickActions:"Snelle acties",statistics:"Statistieken",goodMorning:"Goedemorgen",goodAfternoon:"Goedemiddag",goodEvening:"Goedenavond",documentsSigned:"Ondertekende documenten",awaitingSignature:"Wacht op handtekening"},users:{title:"Teamleden",subtitle:"Beheer teamleden en hun ondertekeningsrechten",addMember:"Teamlid toevoegen",noMembersFound:"Geen teamleden gevonden",tryAdjustingSearch:"Probeer uw zoektermen aan te passen.",getStartedAdding:"Begin met het toevoegen van een nieuw teamlid.",searchPlaceholder:"Zoeken op naam, gebruikersnaam of e-mail...",loadingMembers:"Teamleden laden...",userCreated:"Gebruiker succesvol aangemaakt",userUpdated:"Gebruiker succesvol bijgewerkt",userDeleted:"Gebruiker succesvol verwijderd",failedToCreate:"Kon gebruiker niet aanmaken",failedToUpdate:"Kon gebruiker niet bijwerken",failedToDelete:"Kon gebruiker niet verwijderen",deleteConfirm:"Weet u zeker dat u deze gebruiker wilt verwijderen?"},documents:{title:"Documenten",noDocuments:"Geen documenten gevonden",uploadDocument:"Document uploaden",createDocument:"Document aanmaken"},templates:{title:"Sjablonen",noTemplates:"Geen sjablonen gevonden",createTemplate:"Sjabloon aanmaken"},analysis:{title:"AI Analyse",analyzeDocument:"Document analyseren"},chat:{title:"Chat assistent",typeMessage:"Typ uw bericht...",send:"Verzenden"},analytics:{title:"Analytiek",overview:"Overzicht",performance:"Prestaties"},settings:{title:"Instellingen",profile:"Profiel",preferences:"Voorkeuren",security:"Beveiliging",language:"Taal"}}},u2={translation:{common:{loading:"Laddar...",error:"Fel",success:"Framgng",cancel:"Avbryt",save:"Spara",delete:"Ta bort",edit:"Redigera",create:"Skapa",update:"Uppdatera",search:"Sk",filter:"Filtrera",refresh:"Uppdatera",logout:"Logga ut",signOut:"Logga ut",signIn:"Logga in",signUp:"Registrera",email:"E-post",password:"Lsenord",username:"Anvndarnamn",firstName:"Frnamn",lastName:"Efternamn",confirmPassword:"Bekrfta lsenord",showPassword:"Visa lsenord",hidePassword:"Dlj lsenord",signMeNow:"SignMeNow",required:"*",enterYour:"Ange ditt",confirmYour:"Bekrfta ditt",usernameRequired:"Anvndarnamn *",emailRequired:"E-post *",passwordRequired:"Lsenord *",confirmPasswordRequired:"Bekrfta lsenord *",enterUsername:"Ange ditt anvndarnamn",enterEmail:"Ange din e-post",enterPassword:"Ange ditt lsenord",confirmPasswordPlaceholder:"Bekrfta ditt lsenord"},nav:{dashboard:"Instrumentpanel",library:"Bibliotek",inbox:"Inkorg",outbox:"Utkorg",archive:"Arkiv",workspace:"Arbetsyta",settings:"Instllningar",myProfile:"Min profil",messages:"Meddelanden",usage:"Anvndning",invoices:"Fakturor",addressBook:"Adressbok",documents:"Dokument",templates:"Mallar",analysis:"AI Analys",chat:"Chattassistent",analytics:"Analys",users:"Anvndare"},auth:{welcomeBack:"Vlkommen tillbaka",signInToAccount:"Logga in p ditt konto fr att fortstta",dontHaveAccount:"Har du inget konto?",alreadyHaveAccount:"Har du redan ett konto?",createAccount:"Skapa konto",signUpDescription:"Registrera dig fr ett nytt konto fr att brja med AI-drivna e-signaturer",loginSuccess:"Inloggad framgngsrikt!",registerSuccess:"Konto skapat framgngsrikt!",loginFailed:"Inloggning misslyckades",registerFailed:"Registrering misslyckades",sessionExpiresIn:"Automatisk utloggning:",continueWithGoogle:"Fortstt med Google",orContinueWith:"Eller fortstt med",basicInformation:"Grundinformation",profileInformation:"Profilinformation",addressInformation:"Adressinformation",companyInformation:"Fretagsinformation",googleLoginComingSoon:"Google inloggningsfunktion kommer snart!"},dashboard:{title:"Instrumentpanel",welcome:"Vlkommen till SignMeNow",recentDocuments:"Senaste dokument",quickActions:"Snabba tgrder",statistics:"Statistik",goodMorning:"God morgon",goodAfternoon:"God eftermiddag",goodEvening:"God kvll",documentsSigned:"Undertecknade dokument",awaitingSignature:"Vntar p signatur"},users:{title:"Teammedlemmar",subtitle:"Hantera teammedlemmar och deras signeringsbehrigheter",addMember:"Lgg till teammedlem",noMembersFound:"Inga teammedlemmar hittades",tryAdjustingSearch:"Frsk justera dina sktermer.",getStartedAdding:"Brja med att lgga till en ny teammedlem.",searchPlaceholder:"Sk efter namn, anvndarnamn eller e-post...",loadingMembers:"Laddar teammedlemmar...",userCreated:"Anvndare skapad framgngsrikt",userUpdated:"Anvndare uppdaterad framgngsrikt",userDeleted:"Anvndare raderad framgngsrikt",failedToCreate:"Misslyckades skapa anvndare",failedToUpdate:"Misslyckades uppdatera anvndare",failedToDelete:"Misslyckades radera anvndare",deleteConfirm:"r du sker p att du vill radera denna anvndare?"},documents:{title:"Dokument",noDocuments:"Inga dokument hittades",uploadDocument:"Ladda upp dokument",createDocument:"Skapa dokument"},templates:{title:"Mallar",noTemplates:"Inga mallar hittades",createTemplate:"Skapa mall"},analysis:{title:"AI Analys",analyzeDocument:"Analysera dokument"},chat:{title:"Chattassistent",typeMessage:"Skriv ditt meddelande...",send:"Skicka"},analytics:{title:"Analys",overview:"versikt",performance:"Prestanda"},settings:{title:"Instllningar",profile:"Profil",preferences:"Preferenser",security:"Skerhet",language:"Sprk"}}},d2={translation:{common:{loading:"...",error:"",success:"",cancel:"",save:"",delete:"",edit:"",create:"",update:"",search:"",filter:"",refresh:"",logout:"",signOut:"",signIn:"",signUp:"",email:"Email",password:"",username:" ",firstName:"",lastName:"",confirmPassword:" ",showPassword:" ",hidePassword:" ",signMeNow:"SignMeNow",required:"*",enterYour:" ",confirmYour:" ",usernameRequired:"  *",emailRequired:"Email *",passwordRequired:" *",confirmPasswordRequired:"  *",enterUsername:"   ",enterEmail:"  email",enterPassword:"  ",confirmPasswordPlaceholder:"  "},nav:{dashboard:" ",library:"",inbox:"",outbox:"",archive:"",workspace:" ",settings:"",myProfile:" ",messages:"",usage:"",invoices:"",addressBook:" ",documents:"",templates:"",analysis:"AI ",chat:"-",analytics:"",users:""},auth:{welcomeBack:"  ",signInToAccount:"   ,  ",dontHaveAccount:"   ?",alreadyHaveAccount:"    ?",createAccount:" ",signUpDescription:"   ,        ",loginSuccess:" !",registerSuccess:"  !",loginFailed:" ",registerFailed:" ",sessionExpiresIn:" :",continueWithGoogle:"  Google",orContinueWith:"  ",basicInformation:" ",profileInformation:" ",addressInformation:" ",companyInformation:" ",googleLoginComingSoon:"   Google  !"},dashboard:{title:" ",welcome:"   SignMeNow",recentDocuments:" ",quickActions:" ",statistics:"",goodMorning:" ",goodAfternoon:" ",goodEvening:" ",documentsSigned:" ",awaitingSignature:" "},users:{title:" ",subtitle:"       ",addMember:"  ",noMembersFound:"   ",tryAdjustingSearch:"   .",getStartedAdding:"     .",searchPlaceholder:"  ,    email...",loadingMembers:"  ...",userCreated:"  ",userUpdated:"  ",userDeleted:"  ",failedToCreate:"   ",failedToUpdate:"   ",failedToDelete:"   ",deleteConfirm:" ,     ?"},documents:{title:"",noDocuments:"  ",uploadDocument:" ",createDocument:" "},templates:{title:"",noTemplates:"  ",createTemplate:" "},analysis:{title:"AI ",analyzeDocument:" "},chat:{title:"-",typeMessage:"  ...",send:""},analytics:{title:"",overview:"",performance:""},settings:{title:"",profile:"",preferences:"",security:"",language:""}}},h2={translation:{common:{loading:"...",error:"",success:"",cancel:"",save:"",delete:"",edit:"",create:"",update:"",search:"",filter:"",refresh:"",logout:"",signOut:"",signIn:"",signUp:"",email:"",password:"",username:"",firstName:"",lastName:"",confirmPassword:"",showPassword:"",hidePassword:"",signMeNow:"SignMeNow",required:"*",enterYour:"",confirmYour:"",usernameRequired:" *",emailRequired:" *",passwordRequired:" *",confirmPasswordRequired:" *",enterUsername:"",enterEmail:"",enterPassword:"",confirmPasswordPlaceholder:""},nav:{dashboard:"",library:"",inbox:"",outbox:"",archive:"",workspace:"",settings:"",myProfile:"",messages:"",usage:"",invoices:"",addressBook:"",documents:"",templates:"",analysis:"AI ",chat:"",analytics:"",users:""},auth:{welcomeBack:"",signInToAccount:"",dontHaveAccount:"",alreadyHaveAccount:"",createAccount:"",signUpDescription:"AI",loginSuccess:"",registerSuccess:"",loginFailed:"",registerFailed:"",sessionExpiresIn:"",continueWithGoogle:"Google",orContinueWith:"",basicInformation:"",profileInformation:"",addressInformation:"",companyInformation:"",googleLoginComingSoon:"Google"},dashboard:{title:"",welcome:"SignMeNow",recentDocuments:"",quickActions:"",statistics:"",goodMorning:"",goodAfternoon:"",goodEvening:"",documentsSigned:"",awaitingSignature:""},users:{title:"",subtitle:"",addMember:"",noMembersFound:"",tryAdjustingSearch:"",getStartedAdding:"",searchPlaceholder:"...",loadingMembers:"...",userCreated:"",userUpdated:"",userDeleted:"",failedToCreate:"",failedToUpdate:"",failedToDelete:"",deleteConfirm:""},documents:{title:"",noDocuments:"",uploadDocument:"",createDocument:""},templates:{title:"",noTemplates:"",createTemplate:""},analysis:{title:"AI ",analyzeDocument:""},chat:{title:"",typeMessage:"...",send:""},analytics:{title:"",overview:"",performance:""},settings:{title:"",profile:"",preferences:"",security:"",language:""}}},f2={translation:{common:{loading:"...",error:"",success:"",cancel:"",save:"",delete:"",edit:"",create:"",update:"",search:"",filter:"",refresh:"",logout:"",signOut:"",signIn:"",signUp:"",email:"",password:"",username:"",firstName:"",lastName:"",confirmPassword:"",showPassword:"",hidePassword:"",signMeNow:"SignMeNow",required:"*",enterYour:"",confirmYour:"",usernameRequired:" *",emailRequired:" *",passwordRequired:" *",confirmPasswordRequired:" *",enterUsername:"",enterEmail:"",enterPassword:"",confirmPasswordPlaceholder:""},nav:{dashboard:"",library:"",inbox:"",outbox:"",archive:"",workspace:"",settings:"",myProfile:"",messages:"",usage:"",invoices:"",addressBook:"",documents:"",templates:"",analysis:"AI",chat:"",analytics:"",users:""},auth:{welcomeBack:"",signInToAccount:"",dontHaveAccount:"",alreadyHaveAccount:"",createAccount:"",signUpDescription:"AI",loginSuccess:"",registerSuccess:"",loginFailed:"",registerFailed:"",sessionExpiresIn:"",continueWithGoogle:"Google",orContinueWith:"",basicInformation:"",profileInformation:"",addressInformation:"",companyInformation:"",googleLoginComingSoon:"Google"},dashboard:{title:"",welcome:"SignMeNow",recentDocuments:"",quickActions:"",statistics:"",goodMorning:"",goodAfternoon:"",goodEvening:"",documentsSigned:"",awaitingSignature:""},users:{title:"",subtitle:"",addMember:"",noMembersFound:"",tryAdjustingSearch:"",getStartedAdding:"",searchPlaceholder:"...",loadingMembers:"...",userCreated:"",userUpdated:"",userDeleted:"",failedToCreate:"",failedToUpdate:"",failedToDelete:"",deleteConfirm:""},documents:{title:"",noDocuments:"",uploadDocument:"",createDocument:""},templates:{title:"",noTemplates:"",createTemplate:""},analysis:{title:"AI",analyzeDocument:""},chat:{title:"",typeMessage:"...",send:""},analytics:{title:"",overview:"",performance:""},settings:{title:"",profile:"",preferences:"",security:"",language:""}}},m2={translation:{common:{loading:"...",error:"",success:"",cancel:"",save:"",delete:"",edit:"",create:"",update:"",search:"",filter:"",refresh:"",logout:"",signOut:"",signIn:"",signUp:"",email:"",password:" ",username:" ",firstName:"",lastName:" ",confirmPassword:"  ",showPassword:"  ",hidePassword:"   ",signMeNow:"SignMeNow",required:"*",enterYour:" ",confirmYour:" ",usernameRequired:"  *",emailRequired:" *",passwordRequired:"  *",confirmPasswordRequired:"   *",enterUsername:"     ",enterEmail:"    ",enterPassword:"     ",confirmPasswordPlaceholder:"     "},nav:{dashboard:"",library:"",inbox:" ",outbox:" ",archive:"",workspace:" ",settings:"",myProfile:" ",messages:"",usage:"",invoices:"",addressBook:" ",documents:"",templates:"",analysis:"  ",chat:" ",analytics:"",users:""},auth:{welcomeBack:" ",signInToAccount:"      ",dontHaveAccount:" ",alreadyHaveAccount:"  ",createAccount:" ",signUpDescription:"             ",loginSuccess:"   !",registerSuccess:"    !",loginFailed:" ",registerFailed:" ",sessionExpiresIn:" :",continueWithGoogle:"  ",orContinueWith:"  ",basicInformation:" ",profileInformation:" ",addressInformation:" ",companyInformation:" ",googleLoginComingSoon:"     !"},dashboard:{title:"",welcome:" SignMeNow  ",recentDocuments:" ",quickActions:" ",statistics:"",goodMorning:" ",goodAfternoon:" ",goodEvening:" ",documentsSigned:"  ",awaitingSignature:"  "},users:{title:" ",subtitle:"        ",addMember:"  ",noMembersFound:"    ",tryAdjustingSearch:"      .",getStartedAdding:"      .",searchPlaceholder:"       ...",loadingMembers:"  ...",userCreated:"    ",userUpdated:"    ",userDeleted:"    ",failedToCreate:"  ",failedToUpdate:"  ",failedToDelete:"  ",deleteConfirm:"         "},documents:{title:"",noDocuments:"   ",uploadDocument:" ",createDocument:" "},templates:{title:"",noTemplates:"   ",createTemplate:" "},analysis:{title:"  ",analyzeDocument:" "},chat:{title:" ",typeMessage:"    ...",send:""},analytics:{title:"",overview:" ",performance:""},settings:{title:"",profile:"",preferences:"",security:"",language:""}}},p2={translation:{common:{loading:" ...",error:"",success:"",cancel:"",save:"",delete:"",edit:"",create:"",update:" ",search:"",filter:"",refresh:" ",logout:"",signOut:"",signIn:"",signUp:" ",email:"",password:"",username:" ",firstName:" ",lastName:" ",confirmPassword:" ",showPassword:" ",hidePassword:" ",signMeNow:"SignMeNow",required:"*",enterYour:"",confirmYour:" ",usernameRequired:"  *",emailRequired:" *",passwordRequired:" *",confirmPasswordRequired:"  *",enterUsername:"    ",enterEmail:"   ",enterPassword:"   ",confirmPasswordPlaceholder:"   "},nav:{dashboard:"",library:"",inbox:"",outbox:"",archive:"",workspace:"  ",settings:"",myProfile:" ",messages:"",usage:"",invoices:"",addressBook:"  ",documents:"",templates:"",analysis:"AI ",chat:" ",analytics:"",users:""},auth:{welcomeBack:"  ",signInToAccount:"      ",dontHaveAccount:"  ",alreadyHaveAccount:"  ",createAccount:" ",signUpDescription:" AI             ",loginSuccess:"   !",registerSuccess:"     !",loginFailed:" ",registerFailed:"  ",sessionExpiresIn:" :",continueWithGoogle:"   ",orContinueWith:" ",basicInformation:" ",profileInformation:"  ",addressInformation:"  ",companyInformation:"  ",googleLoginComingSoon:"     !"},dashboard:{title:"",welcome:"SignMeNow   ",recentDocuments:" ",quickActions:" ",statistics:"",goodMorning:" ",goodAfternoon:" ",goodEvening:" ",documentsSigned:"  ",awaitingSignature:"  "},users:{title:"  ",subtitle:"        ",addMember:"    ",noMembersFound:"      ",tryAdjustingSearch:"    .",getStartedAdding:"         .",searchPlaceholder:"        ...",loadingMembers:"    ...",userCreated:"     ",userUpdated:"     ",userDeleted:"     ",failedToCreate:"   ",failedToUpdate:"    ",failedToDelete:"   ",deleteConfirm:"        "},documents:{title:"",noDocuments:"    ",uploadDocument:"  ",createDocument:"  "},templates:{title:"",noTemplates:"    ",createTemplate:"  "},analysis:{title:"AI ",analyzeDocument:"  "},chat:{title:" ",typeMessage:"   ...",send:""},analytics:{title:"",overview:" ",performance:""},settings:{title:"",profile:"",preferences:" ",security:"",language:""}}},g2={translation:{common:{loading:" ...",error:"",success:"",cancel:"",save:"",delete:"",edit:"",create:"",update:"",search:"",filter:"",refresh:"",logout:" ",signOut:" ",signIn:" ",signUp:"",email:" ",password:" ",username:" ",firstName:" ",lastName:" ",confirmPassword:"  ",showPassword:"  ",hidePassword:"  ",signMeNow:"SignMeNow",required:"*",enterYour:"",confirmYour:"",usernameRequired:"  *",emailRequired:"  *",passwordRequired:"  *",confirmPasswordRequired:"   *",enterUsername:"    ",enterEmail:"  ",enterPassword:"  ",confirmPasswordPlaceholder:"  "},nav:{dashboard:" ",library:"",inbox:" ",outbox:" ",archive:"",workspace:" ",settings:"",myProfile:" ",messages:"",usage:"",invoices:"",addressBook:" ",documents:"",templates:"",analysis:"  ",chat:" ",analytics:"",users:""},auth:{welcomeBack:" ",signInToAccount:"    ",dontHaveAccount:"  ",alreadyHaveAccount:"  ",createAccount:" ",signUpDescription:"            ",loginSuccess:"   !",registerSuccess:"   !",loginFailed:"  ",registerFailed:" ",sessionExpiresIn:" :",continueWithGoogle:"  ",orContinueWith:"  ",basicInformation:" ",profileInformation:"  ",addressInformation:" ",companyInformation:" ",googleLoginComingSoon:"     !"},dashboard:{title:" ",welcome:"   SignMeNow",recentDocuments:" ",quickActions:" ",statistics:"",goodMorning:" ",goodAfternoon:" ",goodEvening:" ",documentsSigned:" ",awaitingSignature:"  "},users:{title:" ",subtitle:"      ",addMember:"  ",noMembersFound:"     ",tryAdjustingSearch:"   .",getStartedAdding:"    .",searchPlaceholder:"        ...",loadingMembers:"  ...",userCreated:"   ",userUpdated:"   ",userDeleted:"   ",failedToCreate:"   ",failedToUpdate:"   ",failedToDelete:"   ",deleteConfirm:"       "},documents:{title:"",noDocuments:"    ",uploadDocument:" ",createDocument:" "},templates:{title:"",noTemplates:"    ",createTemplate:" "},analysis:{title:"  ",analyzeDocument:" "},chat:{title:" ",typeMessage:" ...",send:""},analytics:{title:"",overview:" ",performance:""},settings:{title:"",profile:" ",preferences:"",security:"",language:""}}},j0={en:n2,de:s2,ro:i2,fr:a2,es:r2,it:o2,pt:l2,nl:c2,sv:u2,ru:d2,zh:h2,ja:f2,dr:m2,ps:p2,ar:g2};let Dc="en",wc=[];const y2=r=>{Dc=r,localStorage.setItem("language",r),wc.forEach(e=>e())},Qf=()=>{const r=localStorage.getItem("language");return r&&j0[r]&&(Dc=r),Dc},b2=r=>(wc.push(r),()=>{wc=wc.filter(e=>e!==r)}),v2=r=>{const e=r.split(".");let t=j0[Dc].translation;for(const s of e)t=t?.[s];return t||r};Qf();const P0=S.createContext(void 0),Wc=()=>{const r=S.useContext(P0);if(r===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return r},x2=["ar","dr","ps"],w2=[{code:"en",name:"English",flag:"",flagUrl:"https://flagcdn.com/w20/us.png"},{code:"de",name:"Deutsch",flag:"",flagUrl:"https://flagcdn.com/w20/de.png"},{code:"ro",name:"Romn",flag:"",flagUrl:"https://flagcdn.com/w20/ro.png"},{code:"fr",name:"Franais",flag:"",flagUrl:"https://flagcdn.com/w20/fr.png"},{code:"es",name:"Espaol",flag:"",flagUrl:"https://flagcdn.com/w20/es.png"},{code:"it",name:"Italiano",flag:"",flagUrl:"https://flagcdn.com/w20/it.png"},{code:"pt",name:"Portugus",flag:"",flagUrl:"https://flagcdn.com/w20/pt.png"},{code:"nl",name:"Nederlands",flag:"",flagUrl:"https://flagcdn.com/w20/nl.png"},{code:"sv",name:"Svenska",flag:"",flagUrl:"https://flagcdn.com/w20/se.png"},{code:"ru",name:"",flag:"",flagUrl:"https://flagcdn.com/w20/ru.png"},{code:"zh",name:"",flag:"",flagUrl:"https://flagcdn.com/w20/cn.png"},{code:"ja",name:"",flag:"",flagUrl:"https://flagcdn.com/w20/jp.png"},{code:"dr",name:"",flag:"",flagUrl:"https://flagcdn.com/w20/af.png"},{code:"ps",name:"",flag:"",flagUrl:"https://flagcdn.com/w20/af.png"},{code:"ar",name:"",flag:"",flagUrl:"https://flagcdn.com/w20/sa.png"}],A2=({children:r})=>{const[e,t]=S.useState(Qf()),s=S.useCallback(c=>{y2(c),t(c)},[]),a=S.useMemo(()=>x2.includes(e),[e]),l=S.useMemo(()=>({currentLanguage:e,changeLanguage:s,availableLanguages:w2,isRTL:a}),[e,a]);return m.jsx(P0.Provider,{value:l,children:r})},S2=1,E2=1e6;let Xh=0;function _2(){return Xh=(Xh+1)%Number.MAX_SAFE_INTEGER,Xh.toString()}const Wh=new Map,sv=r=>{if(Wh.has(r))return;const e=setTimeout(()=>{Wh.delete(r),lo({type:"REMOVE_TOAST",toastId:r})},E2);Wh.set(r,e)},C2=(r,e)=>{switch(e.type){case"ADD_TOAST":return{...r,toasts:[e.toast,...r.toasts].slice(0,S2)};case"UPDATE_TOAST":return{...r,toasts:r.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?sv(t):r.toasts.forEach(s=>{sv(s.id)}),{...r,toasts:r.toasts.map(s=>s.id===t||t===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(t=>t.id!==e.toastId)}}},Ac=[];let Sc={toasts:[]};function lo(r){Sc=C2(Sc,r),Ac.forEach(e=>{e(Sc)})}function T2({...r}){const e=_2(),t=a=>lo({type:"UPDATE_TOAST",toast:{...a,id:e}}),s=()=>lo({type:"DISMISS_TOAST",toastId:e});return lo({type:"ADD_TOAST",toast:{...r,id:e,open:!0,onOpenChange:a=>{a||s()}}}),{id:e,dismiss:s,update:t}}function Kc(){const[r,e]=S.useState(Sc);return S.useEffect(()=>(Ac.push(e),()=>{const t=Ac.indexOf(e);t>-1&&Ac.splice(t,1)}),[r]),{...r,toast:T2,dismiss:t=>lo({type:"DISMISS_TOAST",toastId:t})}}const L0=S.createContext(void 0),Zf=()=>{const r=S.useContext(L0);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},N2=({children:r})=>{const[e,t]=S.useState(null),[s,a]=S.useState(!0),{toast:l}=Kc();S.useEffect(()=>{(async()=>{if(_t.isAuthenticated())try{const b=await _t.getCurrentUser();t(b)}catch(b){console.warn("Failed to get current user (mock/back):",b),_t.logout()}a(!1)})()},[]);const c=async(p,b)=>{try{a(!0);const v=await _t.login({email:p,password:b});t(v.user),l({title:"Success",description:"Logged in successfully!"})}catch(v){const x=v instanceof Ot?v.message:"Login failed";throw l({title:"Error",description:x,variant:"destructive"}),v}finally{a(!1)}},d=async(p,b,v,x,w)=>{try{a(!0);const A=await _t.register({username:p,email:b,password:v,firstName:x,lastName:w});t(A.user),l({title:"Success",description:"Account created successfully!"})}catch(A){const _=A instanceof Ot?A.message:"Registration failed";throw l({title:"Error",description:_,variant:"destructive"}),A}finally{a(!1)}},h=()=>{_t.logout(),t(null),l({title:"Success",description:"Logged out successfully!"})},f=S.useMemo(()=>({user:e,loading:s,login:c,register:d,logout:h,isAuthenticated:!!e}),[e,s,c,d,h]);return m.jsx(L0.Provider,{value:f,children:r})};function wn(r,e,{checkForDefaultPrevented:t=!0}={}){return function(a){if(r?.(a),t===!1||!a.defaultPrevented)return e?.(a)}}function iv(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function O0(...r){return e=>{let t=!1;const s=r.map(a=>{const l=iv(a,e);return!t&&typeof l=="function"&&(t=!0),l});if(t)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():iv(r[a],null)}}}}function Oi(...r){return S.useCallback(O0(...r),r)}function I0(r,e=[]){let t=[];function s(l,c){const d=S.createContext(c),h=t.length;t=[...t,c];const f=b=>{const{scope:v,children:x,...w}=b,A=v?.[r]?.[h]||d,_=S.useMemo(()=>w,Object.values(w));return m.jsx(A.Provider,{value:_,children:x})};f.displayName=l+"Provider";function p(b,v){const x=v?.[r]?.[h]||d,w=S.useContext(x);if(w)return w;if(c!==void 0)return c;throw new Error(`\`${b}\` must be used within \`${l}\``)}return[f,p]}const a=()=>{const l=t.map(c=>S.createContext(c));return function(d){const h=d?.[r]||l;return S.useMemo(()=>({[`__scope${r}`]:{...d,[r]:h}}),[d,h])}};return a.scopeName=r,[s,k2(a,...e)]}function k2(...r){const e=r[0];if(r.length===1)return e;const t=()=>{const s=r.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const c=s.reduce((d,{useScope:h,scopeName:f})=>{const b=h(l)[`__scope${f}`];return{...d,...b}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:c}),[c])}};return t.scopeName=e.scopeName,t}function jc(r){const e=M2(r),t=S.forwardRef((s,a)=>{const{children:l,...c}=s,d=S.Children.toArray(l),h=d.find(j2);if(h){const f=h.props.children,p=d.map(b=>b===h?S.Children.count(f)>1?S.Children.only(null):S.isValidElement(f)?f.props.children:null:b);return m.jsx(e,{...c,ref:a,children:S.isValidElement(f)?S.cloneElement(f,void 0,p):null})}return m.jsx(e,{...c,ref:a,children:l})});return t.displayName=`${r}.Slot`,t}var R2=jc("Slot");function M2(r){const e=S.forwardRef((t,s)=>{const{children:a,...l}=t;if(S.isValidElement(a)){const c=L2(a),d=P2(l,a.props);return a.type!==S.Fragment&&(d.ref=s?O0(s,c):c),S.cloneElement(a,d)}return S.Children.count(a)>1?S.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var D2=Symbol("radix.slottable");function j2(r){return S.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===D2}function P2(r,e){const t={...e};for(const s in e){const a=r[s],l=e[s];/^on[A-Z]/.test(s)?a&&l?t[s]=(...d)=>{const h=l(...d);return a(...d),h}:a&&(t[s]=a):s==="style"?t[s]={...a,...l}:s==="className"&&(t[s]=[a,l].filter(Boolean).join(" "))}return{...r,...t}}function L2(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}function O2(r){const e=r+"CollectionProvider",[t,s]=I0(e),[a,l]=t(e,{collectionRef:{current:null},itemMap:new Map}),c=A=>{const{scope:_,children:C}=A,k=cn.useRef(null),N=cn.useRef(new Map).current;return m.jsx(a,{scope:_,itemMap:N,collectionRef:k,children:C})};c.displayName=e;const d=r+"CollectionSlot",h=jc(d),f=cn.forwardRef((A,_)=>{const{scope:C,children:k}=A,N=l(d,C),M=Oi(_,N.collectionRef);return m.jsx(h,{ref:M,children:k})});f.displayName=d;const p=r+"CollectionItemSlot",b="data-radix-collection-item",v=jc(p),x=cn.forwardRef((A,_)=>{const{scope:C,children:k,...N}=A,M=cn.useRef(null),R=Oi(_,M),P=l(p,C);return cn.useEffect(()=>(P.itemMap.set(M,{ref:M,...N}),()=>void P.itemMap.delete(M))),m.jsx(v,{[b]:"",ref:R,children:k})});x.displayName=p;function w(A){const _=l(r+"CollectionConsumer",A);return cn.useCallback(()=>{const k=_.collectionRef.current;if(!k)return[];const N=Array.from(k.querySelectorAll(`[${b}]`));return Array.from(_.itemMap.values()).sort((P,O)=>N.indexOf(P.ref.current)-N.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:c,Slot:f,ItemSlot:x},w,s]}var I2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qn=I2.reduce((r,e)=>{const t=jc(`Primitive.${e}`),s=S.forwardRef((a,l)=>{const{asChild:c,...d}=a,h=c?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(h,{...d,ref:l})});return s.displayName=`Primitive.${e}`,{...r,[e]:s}},{});function z0(r,e){r&&$f.flushSync(()=>r.dispatchEvent(e))}function Ii(r){const e=S.useRef(r);return S.useEffect(()=>{e.current=r}),S.useMemo(()=>(...t)=>e.current?.(...t),[])}function z2(r,e=globalThis?.document){const t=Ii(r);S.useEffect(()=>{const s=a=>{a.key==="Escape"&&t(a)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[t,e])}var F2="DismissableLayer",bf="dismissableLayer.update",U2="dismissableLayer.pointerDownOutside",B2="dismissableLayer.focusOutside",av,F0=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),U0=S.forwardRef((r,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:l,onInteractOutside:c,onDismiss:d,...h}=r,f=S.useContext(F0),[p,b]=S.useState(null),v=p?.ownerDocument??globalThis?.document,[,x]=S.useState({}),w=Oi(e,O=>b(O)),A=Array.from(f.layers),[_]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),C=A.indexOf(_),k=p?A.indexOf(p):-1,N=f.layersWithOutsidePointerEventsDisabled.size>0,M=k>=C,R=G2(O=>{const D=O.target,Y=[...f.branches].some(te=>te.contains(D));!M||Y||(a?.(O),c?.(O),O.defaultPrevented||d?.())},v),P=q2(O=>{const D=O.target;[...f.branches].some(te=>te.contains(D))||(l?.(O),c?.(O),O.defaultPrevented||d?.())},v);return z2(O=>{k===f.layers.size-1&&(s?.(O),!O.defaultPrevented&&d&&(O.preventDefault(),d()))},v),S.useEffect(()=>{if(p)return t&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(av=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),rv(),()=>{t&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=av)}},[p,v,t,f]),S.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),rv())},[p,f]),S.useEffect(()=>{const O=()=>x({});return document.addEventListener(bf,O),()=>document.removeEventListener(bf,O)},[]),m.jsx(qn.div,{...h,ref:w,style:{pointerEvents:N?M?"auto":"none":void 0,...r.style},onFocusCapture:wn(r.onFocusCapture,P.onFocusCapture),onBlurCapture:wn(r.onBlurCapture,P.onBlurCapture),onPointerDownCapture:wn(r.onPointerDownCapture,R.onPointerDownCapture)})});U0.displayName=F2;var H2="DismissableLayerBranch",B0=S.forwardRef((r,e)=>{const t=S.useContext(F0),s=S.useRef(null),a=Oi(e,s);return S.useEffect(()=>{const l=s.current;if(l)return t.branches.add(l),()=>{t.branches.delete(l)}},[t.branches]),m.jsx(qn.div,{...r,ref:a})});B0.displayName=H2;function G2(r,e=globalThis?.document){const t=Ii(r),s=S.useRef(!1),a=S.useRef(()=>{});return S.useEffect(()=>{const l=d=>{if(d.target&&!s.current){let h=function(){H0(U2,t,f,{discrete:!0})};const f={originalEvent:d};d.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=h,e.addEventListener("click",a.current,{once:!0})):h()}else e.removeEventListener("click",a.current);s.current=!1},c=window.setTimeout(()=>{e.addEventListener("pointerdown",l)},0);return()=>{window.clearTimeout(c),e.removeEventListener("pointerdown",l),e.removeEventListener("click",a.current)}},[e,t]),{onPointerDownCapture:()=>s.current=!0}}function q2(r,e=globalThis?.document){const t=Ii(r),s=S.useRef(!1);return S.useEffect(()=>{const a=l=>{l.target&&!s.current&&H0(B2,t,{originalEvent:l},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,t]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function rv(){const r=new CustomEvent(bf);document.dispatchEvent(r)}function H0(r,e,t,{discrete:s}){const a=t.originalEvent.target,l=new CustomEvent(r,{bubbles:!1,cancelable:!0,detail:t});e&&a.addEventListener(r,e,{once:!0}),s?z0(a,l):a.dispatchEvent(l)}var V2=U0,$2=B0,go=globalThis?.document?S.useLayoutEffect:()=>{},Y2="Portal",G0=S.forwardRef((r,e)=>{const{container:t,...s}=r,[a,l]=S.useState(!1);go(()=>l(!0),[]);const c=t||a&&globalThis?.document?.body;return c?DE.createPortal(m.jsx(qn.div,{...s,ref:e}),c):null});G0.displayName=Y2;function X2(r,e){return S.useReducer((t,s)=>e[t][s]??t,r)}var q0=r=>{const{present:e,children:t}=r,s=W2(e),a=typeof t=="function"?t({present:s.isPresent}):S.Children.only(t),l=Oi(s.ref,K2(a));return typeof t=="function"||s.isPresent?S.cloneElement(a,{ref:l}):null};q0.displayName="Presence";function W2(r){const[e,t]=S.useState(),s=S.useRef(null),a=S.useRef(r),l=S.useRef("none"),c=r?"mounted":"unmounted",[d,h]=X2(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const f=rc(s.current);l.current=d==="mounted"?f:"none"},[d]),go(()=>{const f=s.current,p=a.current;if(p!==r){const v=l.current,x=rc(f);r?h("MOUNT"):x==="none"||f?.display==="none"?h("UNMOUNT"):h(p&&v!==x?"ANIMATION_OUT":"UNMOUNT"),a.current=r}},[r,h]),go(()=>{if(e){let f;const p=e.ownerDocument.defaultView??window,b=x=>{const A=rc(s.current).includes(CSS.escape(x.animationName));if(x.target===e&&A&&(h("ANIMATION_END"),!a.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",f=p.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},v=x=>{x.target===e&&(l.current=rc(s.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",b),e.addEventListener("animationend",b),()=>{p.clearTimeout(f),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",b),e.removeEventListener("animationend",b)}}else h("ANIMATION_END")},[e,h]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:S.useCallback(f=>{s.current=f?getComputedStyle(f):null,t(f)},[])}}function rc(r){return r?.animationName||"none"}function K2(r){let e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?r.props.ref:r.props.ref||r.ref)}var Q2=JA[" useInsertionEffect ".trim().toString()]||go;function Z2({prop:r,defaultProp:e,onChange:t=()=>{},caller:s}){const[a,l,c]=J2({defaultProp:e,onChange:t}),d=r!==void 0,h=d?r:a;{const p=S.useRef(r!==void 0);S.useEffect(()=>{const b=p.current;b!==d&&console.warn(`${s} is changing from ${b?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,s])}const f=S.useCallback(p=>{if(d){const b=eC(p)?p(r):p;b!==r&&c.current?.(b)}else l(p)},[d,r,l,c]);return[h,f]}function J2({defaultProp:r,onChange:e}){const[t,s]=S.useState(r),a=S.useRef(t),l=S.useRef(e);return Q2(()=>{l.current=e},[e]),S.useEffect(()=>{a.current!==t&&(l.current?.(t),a.current=t)},[t,a]),[t,s,l]}function eC(r){return typeof r=="function"}var tC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),nC="VisuallyHidden",Jf=S.forwardRef((r,e)=>m.jsx(qn.span,{...r,ref:e,style:{...tC,...r.style}}));Jf.displayName=nC;var em="ToastProvider",[tm,sC,iC]=O2("Toast"),[V0]=I0("Toast",[iC]),[aC,Qc]=V0(em),$0=r=>{const{__scopeToast:e,label:t="Notification",duration:s=5e3,swipeDirection:a="right",swipeThreshold:l=50,children:c}=r,[d,h]=S.useState(null),[f,p]=S.useState(0),b=S.useRef(!1),v=S.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${em}\`. Expected non-empty \`string\`.`),m.jsx(tm.Provider,{scope:e,children:m.jsx(aC,{scope:e,label:t,duration:s,swipeDirection:a,swipeThreshold:l,toastCount:f,viewport:d,onViewportChange:h,onToastAdd:S.useCallback(()=>p(x=>x+1),[]),onToastRemove:S.useCallback(()=>p(x=>x-1),[]),isFocusedToastEscapeKeyDownRef:b,isClosePausedRef:v,children:c})})};$0.displayName=em;var Y0="ToastViewport",rC=["F8"],vf="toast.viewportPause",xf="toast.viewportResume",X0=S.forwardRef((r,e)=>{const{__scopeToast:t,hotkey:s=rC,label:a="Notifications ({hotkey})",...l}=r,c=Qc(Y0,t),d=sC(t),h=S.useRef(null),f=S.useRef(null),p=S.useRef(null),b=S.useRef(null),v=Oi(e,b,c.onViewportChange),x=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=c.toastCount>0;S.useEffect(()=>{const _=C=>{s.length!==0&&s.every(N=>C[N]||C.code===N)&&b.current?.focus()};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[s]),S.useEffect(()=>{const _=h.current,C=b.current;if(w&&_&&C){const k=()=>{if(!c.isClosePausedRef.current){const P=new CustomEvent(vf);C.dispatchEvent(P),c.isClosePausedRef.current=!0}},N=()=>{if(c.isClosePausedRef.current){const P=new CustomEvent(xf);C.dispatchEvent(P),c.isClosePausedRef.current=!1}},M=P=>{!_.contains(P.relatedTarget)&&N()},R=()=>{_.contains(document.activeElement)||N()};return _.addEventListener("focusin",k),_.addEventListener("focusout",M),_.addEventListener("pointermove",k),_.addEventListener("pointerleave",R),window.addEventListener("blur",k),window.addEventListener("focus",N),()=>{_.removeEventListener("focusin",k),_.removeEventListener("focusout",M),_.removeEventListener("pointermove",k),_.removeEventListener("pointerleave",R),window.removeEventListener("blur",k),window.removeEventListener("focus",N)}}},[w,c.isClosePausedRef]);const A=S.useCallback(({tabbingDirection:_})=>{const k=d().map(N=>{const M=N.ref.current,R=[M,...vC(M)];return _==="forwards"?R:R.reverse()});return(_==="forwards"?k.reverse():k).flat()},[d]);return S.useEffect(()=>{const _=b.current;if(_){const C=k=>{const N=k.altKey||k.ctrlKey||k.metaKey;if(k.key==="Tab"&&!N){const R=document.activeElement,P=k.shiftKey;if(k.target===_&&P){f.current?.focus();return}const Y=A({tabbingDirection:P?"backwards":"forwards"}),te=Y.findIndex(H=>H===R);Kh(Y.slice(te+1))?k.preventDefault():P?f.current?.focus():p.current?.focus()}};return _.addEventListener("keydown",C),()=>_.removeEventListener("keydown",C)}},[d,A]),m.jsxs($2,{ref:h,role:"region","aria-label":a.replace("{hotkey}",x),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&m.jsx(wf,{ref:f,onFocusFromOutsideViewport:()=>{const _=A({tabbingDirection:"forwards"});Kh(_)}}),m.jsx(tm.Slot,{scope:t,children:m.jsx(qn.ol,{tabIndex:-1,...l,ref:v})}),w&&m.jsx(wf,{ref:p,onFocusFromOutsideViewport:()=>{const _=A({tabbingDirection:"backwards"});Kh(_)}})]})});X0.displayName=Y0;var W0="ToastFocusProxy",wf=S.forwardRef((r,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:s,...a}=r,l=Qc(W0,t);return m.jsx(Jf,{tabIndex:0,...a,ref:e,style:{position:"fixed"},onFocus:c=>{const d=c.relatedTarget;!l.viewport?.contains(d)&&s()}})});wf.displayName=W0;var ko="Toast",oC="toast.swipeStart",lC="toast.swipeMove",cC="toast.swipeCancel",uC="toast.swipeEnd",K0=S.forwardRef((r,e)=>{const{forceMount:t,open:s,defaultOpen:a,onOpenChange:l,...c}=r,[d,h]=Z2({prop:s,defaultProp:a??!0,onChange:l,caller:ko});return m.jsx(q0,{present:t||d,children:m.jsx(fC,{open:d,...c,ref:e,onClose:()=>h(!1),onPause:Ii(r.onPause),onResume:Ii(r.onResume),onSwipeStart:wn(r.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:wn(r.onSwipeMove,f=>{const{x:p,y:b}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${b}px`)}),onSwipeCancel:wn(r.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:wn(r.onSwipeEnd,f=>{const{x:p,y:b}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${b}px`),h(!1)})})})});K0.displayName=ko;var[dC,hC]=V0(ko,{onClose(){}}),fC=S.forwardRef((r,e)=>{const{__scopeToast:t,type:s="foreground",duration:a,open:l,onClose:c,onEscapeKeyDown:d,onPause:h,onResume:f,onSwipeStart:p,onSwipeMove:b,onSwipeCancel:v,onSwipeEnd:x,...w}=r,A=Qc(ko,t),[_,C]=S.useState(null),k=Oi(e,q=>C(q)),N=S.useRef(null),M=S.useRef(null),R=a||A.duration,P=S.useRef(0),O=S.useRef(R),D=S.useRef(0),{onToastAdd:Y,onToastRemove:te}=A,H=Ii(()=>{_?.contains(document.activeElement)&&A.viewport?.focus(),c()}),ne=S.useCallback(q=>{!q||q===1/0||(window.clearTimeout(D.current),P.current=new Date().getTime(),D.current=window.setTimeout(H,q))},[H]);S.useEffect(()=>{const q=A.viewport;if(q){const ee=()=>{ne(O.current),f?.()},j=()=>{const B=new Date().getTime()-P.current;O.current=O.current-B,window.clearTimeout(D.current),h?.()};return q.addEventListener(vf,j),q.addEventListener(xf,ee),()=>{q.removeEventListener(vf,j),q.removeEventListener(xf,ee)}}},[A.viewport,R,h,f,ne]),S.useEffect(()=>{l&&!A.isClosePausedRef.current&&ne(R)},[l,R,A.isClosePausedRef,ne]),S.useEffect(()=>(Y(),()=>te()),[Y,te]);const le=S.useMemo(()=>_?sx(_):null,[_]);return A.viewport?m.jsxs(m.Fragment,{children:[le&&m.jsx(mC,{__scopeToast:t,role:"status","aria-live":s==="foreground"?"assertive":"polite",children:le}),m.jsx(dC,{scope:t,onClose:H,children:$f.createPortal(m.jsx(tm.ItemSlot,{scope:t,children:m.jsx(V2,{asChild:!0,onEscapeKeyDown:wn(d,()=>{A.isFocusedToastEscapeKeyDownRef.current||H(),A.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx(qn.li,{tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":A.swipeDirection,...w,ref:k,style:{userSelect:"none",touchAction:"none",...r.style},onKeyDown:wn(r.onKeyDown,q=>{q.key==="Escape"&&(d?.(q.nativeEvent),q.nativeEvent.defaultPrevented||(A.isFocusedToastEscapeKeyDownRef.current=!0,H()))}),onPointerDown:wn(r.onPointerDown,q=>{q.button===0&&(N.current={x:q.clientX,y:q.clientY})}),onPointerMove:wn(r.onPointerMove,q=>{if(!N.current)return;const ee=q.clientX-N.current.x,j=q.clientY-N.current.y,B=!!M.current,V=["left","right"].includes(A.swipeDirection),ce=["left","up"].includes(A.swipeDirection)?Math.min:Math.max,I=V?ce(0,ee):0,Q=V?0:ce(0,j),L=q.pointerType==="touch"?10:2,z={x:I,y:Q},$={originalEvent:q,delta:z};B?(M.current=z,oc(lC,b,$,{discrete:!1})):ov(z,A.swipeDirection,L)?(M.current=z,oc(oC,p,$,{discrete:!1}),q.target.setPointerCapture(q.pointerId)):(Math.abs(ee)>L||Math.abs(j)>L)&&(N.current=null)}),onPointerUp:wn(r.onPointerUp,q=>{const ee=M.current,j=q.target;if(j.hasPointerCapture(q.pointerId)&&j.releasePointerCapture(q.pointerId),M.current=null,N.current=null,ee){const B=q.currentTarget,V={originalEvent:q,delta:ee};ov(ee,A.swipeDirection,A.swipeThreshold)?oc(uC,x,V,{discrete:!0}):oc(cC,v,V,{discrete:!0}),B.addEventListener("click",ce=>ce.preventDefault(),{once:!0})}})})})}),A.viewport)})]}):null}),mC=r=>{const{__scopeToast:e,children:t,...s}=r,a=Qc(ko,e),[l,c]=S.useState(!1),[d,h]=S.useState(!1);return yC(()=>c(!0)),S.useEffect(()=>{const f=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(f)},[]),d?null:m.jsx(G0,{asChild:!0,children:m.jsx(Jf,{...s,children:l&&m.jsxs(m.Fragment,{children:[a.label," ",t]})})})},pC="ToastTitle",Q0=S.forwardRef((r,e)=>{const{__scopeToast:t,...s}=r;return m.jsx(qn.div,{...s,ref:e})});Q0.displayName=pC;var gC="ToastDescription",Z0=S.forwardRef((r,e)=>{const{__scopeToast:t,...s}=r;return m.jsx(qn.div,{...s,ref:e})});Z0.displayName=gC;var J0="ToastAction",ex=S.forwardRef((r,e)=>{const{altText:t,...s}=r;return t.trim()?m.jsx(nx,{altText:t,asChild:!0,children:m.jsx(nm,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${J0}\`. Expected non-empty \`string\`.`),null)});ex.displayName=J0;var tx="ToastClose",nm=S.forwardRef((r,e)=>{const{__scopeToast:t,...s}=r,a=hC(tx,t);return m.jsx(nx,{asChild:!0,children:m.jsx(qn.button,{type:"button",...s,ref:e,onClick:wn(r.onClick,a.onClose)})})});nm.displayName=tx;var nx=S.forwardRef((r,e)=>{const{__scopeToast:t,altText:s,...a}=r;return m.jsx(qn.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...a,ref:e})});function sx(r){const e=[];return Array.from(r.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),bC(s)){const a=s.ariaHidden||s.hidden||s.style.display==="none",l=s.dataset.radixToastAnnounceExclude==="";if(!a)if(l){const c=s.dataset.radixToastAnnounceAlt;c&&e.push(c)}else e.push(...sx(s))}}),e}function oc(r,e,t,{discrete:s}){const a=t.originalEvent.currentTarget,l=new CustomEvent(r,{bubbles:!0,cancelable:!0,detail:t});e&&a.addEventListener(r,e,{once:!0}),s?z0(a,l):a.dispatchEvent(l)}var ov=(r,e,t=0)=>{const s=Math.abs(r.x),a=Math.abs(r.y),l=s>a;return e==="left"||e==="right"?l&&s>t:!l&&a>t};function yC(r=()=>{}){const e=Ii(r);go(()=>{let t=0,s=0;return t=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(s)}},[e])}function bC(r){return r.nodeType===r.ELEMENT_NODE}function vC(r){const e=[],t=document.createTreeWalker(r,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function Kh(r){const e=document.activeElement;return r.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var xC=$0,ix=X0,ax=K0,rx=Q0,ox=Z0,lx=ex,cx=nm;function ux(r){var e,t,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(e=0;e<a;e++)r[e]&&(t=ux(r[e]))&&(s&&(s+=" "),s+=t)}else for(t in r)r[t]&&(s&&(s+=" "),s+=t);return s}function Ya(){for(var r,e,t=0,s="",a=arguments.length;t<a;t++)(r=arguments[t])&&(e=ux(r))&&(s&&(s+=" "),s+=e);return s}const lv=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,cv=Ya,Zc=(r,e)=>t=>{var s;if(e?.variants==null)return cv(r,t?.class,t?.className);const{variants:a,defaultVariants:l}=e,c=Object.keys(a).map(f=>{const p=t?.[f],b=l?.[f];if(p===null)return null;const v=lv(p)||lv(b);return a[f][v]}),d=t&&Object.entries(t).reduce((f,p)=>{let[b,v]=p;return v===void 0||(f[b]=v),f},{}),h=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((f,p)=>{let{class:b,className:v,...x}=p;return Object.entries(x).every(w=>{let[A,_]=w;return Array.isArray(_)?_.includes({...l,...d}[A]):{...l,...d}[A]===_})?[...f,b,v]:f},[]);return cv(r,c,h,t?.class,t?.className)};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),AC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),uv=r=>{const e=AC(r);return e.charAt(0).toUpperCase()+e.slice(1)},dx=(...r)=>r.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),SC=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var EC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=S.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...d},h)=>S.createElement("svg",{ref:h,...EC,width:e,height:e,stroke:r,strokeWidth:s?Number(t)*24/Number(e):t,className:dx("lucide",a),...!l&&!SC(d)&&{"aria-hidden":"true"},...d},[...c.map(([f,p])=>S.createElement(f,p)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=(r,e)=>{const t=S.forwardRef(({className:s,...a},l)=>S.createElement(_C,{ref:l,iconNode:e,className:dx(`lucide-${wC(uv(r))}`,`lucide-${r}`,s),...a}));return t.displayName=uv(r),t};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],TC=ue("activity",CC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],kC=ue("archive",NC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RC=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],MC=ue("bold",RC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],jC=ue("book-open",DC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Qh=ue("bot",PC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],Af=ue("brain",LC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],dv=ue("building-2",OC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],sm=ue("calendar",IC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],hv=ue("camera",zC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],im=ue("chart-column",FC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],BC=ue("chart-pie",UC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],GC=ue("check",HC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],VC=ue("chevron-down",qC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],YC=ue("chevron-left",$C);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],WC=ue("chevron-right",XC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],QC=ue("chevron-up",KC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],hx=ue("circle-alert",ZC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JC=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],yo=ue("circle-check-big",JC);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],bo=ue("clock",eT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],co=ue("copy",tT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],fv=ue("credit-card",nT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],iT=ue("crown",sT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],am=ue("download",aT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],fx=ue("ellipsis-vertical",rT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Sf=ue("eye-off",oT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vo=ue("eye",lT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]],Pc=ue("file-pen-line",cT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],un=ue("file-text",uT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ro=ue("funnel",dT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],fT=ue("image",hT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],pT=ue("inbox",mT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],yT=ue("italic",gT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],vT=ue("layout-dashboard",bT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Mo=ue("loader-circle",xT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],AT=ue("log-out",wT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],mx=ue("mail",ST);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],rm=ue("message-square",ET);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M16.95 16.95A7 7 0 0 1 5 12v-2",key:"cqa7eg"}],["path",{d:"M18.89 13.23A7 7 0 0 0 19 12v-2",key:"16hl24"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}]],CT=ue("mic-off",_T);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],NT=ue("mic",TT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M5 12h14",key:"1ays0h"}]],px=ue("minus",kT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]],MT=ue("mouse-pointer",RT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DT=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],jT=ue("paperclip",DT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],om=ue("pen",PT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],si=ue("plus",LT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],IT=ue("redo",OT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],FT=ue("refresh-cw",zT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],BT=ue("rotate-ccw",UT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],GT=ue("rotate-cw",HT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],VT=ue("scissors",qT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $T=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],lm=ue("search",$T);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],cm=ue("send",YT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mv=ue("settings",XT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],KT=ue("sparkles",WT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ZT=ue("square-check-big",QT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Lc=ue("square-pen",JT);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],gx=ue("square",eN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],nN=ue("star",tN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],iN=ue("target",sN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],rN=ue("thumbs-down",aN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],lN=ue("thumbs-up",oN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Jc=ue("trash-2",cN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],dN=ue("trending-down",uN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Ef=ue("trending-up",hN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],pv=ue("triangle-alert",fN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],eu=ue("type",mN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],gN=ue("undo",pN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],zi=ue("upload",yN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],xo=ue("user",bN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Oc=ue("users",vN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],yx=ue("x",xN);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],AN=ue("zap",wN),um="-",SN=r=>{const e=_N(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:s}=r;return{getClassGroupId:c=>{const d=c.split(um);return d[0]===""&&d.length!==1&&d.shift(),bx(d,e)||EN(c)},getConflictingClassGroupIds:(c,d)=>{const h=t[c]||[];return d&&s[c]?[...h,...s[c]]:h}}},bx=(r,e)=>{if(r.length===0)return e.classGroupId;const t=r[0],s=e.nextPart.get(t),a=s?bx(r.slice(1),s):void 0;if(a)return a;if(e.validators.length===0)return;const l=r.join(um);return e.validators.find(({validator:c})=>c(l))?.classGroupId},gv=/^\[(.+)\]$/,EN=r=>{if(gv.test(r)){const e=gv.exec(r)[1],t=e?.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},_N=r=>{const{theme:e,classGroups:t}=r,s={nextPart:new Map,validators:[]};for(const a in t)_f(t[a],s,a,e);return s},_f=(r,e,t,s)=>{r.forEach(a=>{if(typeof a=="string"){const l=a===""?e:yv(e,a);l.classGroupId=t;return}if(typeof a=="function"){if(CN(a)){_f(a(s),e,t,s);return}e.validators.push({validator:a,classGroupId:t});return}Object.entries(a).forEach(([l,c])=>{_f(c,yv(e,l),t,s)})})},yv=(r,e)=>{let t=r;return e.split(um).forEach(s=>{t.nextPart.has(s)||t.nextPart.set(s,{nextPart:new Map,validators:[]}),t=t.nextPart.get(s)}),t},CN=r=>r.isThemeGetter,TN=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,s=new Map;const a=(l,c)=>{t.set(l,c),e++,e>r&&(e=0,s=t,t=new Map)};return{get(l){let c=t.get(l);if(c!==void 0)return c;if((c=s.get(l))!==void 0)return a(l,c),c},set(l,c){t.has(l)?t.set(l,c):a(l,c)}}},Cf="!",Tf=":",NN=Tf.length,kN=r=>{const{prefix:e,experimentalParseClassName:t}=r;let s=a=>{const l=[];let c=0,d=0,h=0,f;for(let w=0;w<a.length;w++){let A=a[w];if(c===0&&d===0){if(A===Tf){l.push(a.slice(h,w)),h=w+NN;continue}if(A==="/"){f=w;continue}}A==="["?c++:A==="]"?c--:A==="("?d++:A===")"&&d--}const p=l.length===0?a:a.substring(h),b=RN(p),v=b!==p,x=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:x}};if(e){const a=e+Tf,l=s;s=c=>c.startsWith(a)?l(c.substring(a.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:c,maybePostfixModifierPosition:void 0}}if(t){const a=s;s=l=>t({className:l,parseClassName:a})}return s},RN=r=>r.endsWith(Cf)?r.substring(0,r.length-1):r.startsWith(Cf)?r.substring(1):r,MN=r=>{const e=Object.fromEntries(r.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const a=[];let l=[];return s.forEach(c=>{c[0]==="["||e[c]?(a.push(...l.sort(),c),l=[]):l.push(c)}),a.push(...l.sort()),a}},DN=r=>({cache:TN(r.cacheSize),parseClassName:kN(r),sortModifiers:MN(r),...SN(r)}),jN=/\s+/,PN=(r,e)=>{const{parseClassName:t,getClassGroupId:s,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],d=r.trim().split(jN);let h="";for(let f=d.length-1;f>=0;f-=1){const p=d[f],{isExternal:b,modifiers:v,hasImportantModifier:x,baseClassName:w,maybePostfixModifierPosition:A}=t(p);if(b){h=p+(h.length>0?" "+h:h);continue}let _=!!A,C=s(_?w.substring(0,A):w);if(!C){if(!_){h=p+(h.length>0?" "+h:h);continue}if(C=s(w),!C){h=p+(h.length>0?" "+h:h);continue}_=!1}const k=l(v).join(":"),N=x?k+Cf:k,M=N+C;if(c.includes(M))continue;c.push(M);const R=a(C,_);for(let P=0;P<R.length;++P){const O=R[P];c.push(N+O)}h=p+(h.length>0?" "+h:h)}return h};function LN(){let r=0,e,t,s="";for(;r<arguments.length;)(e=arguments[r++])&&(t=vx(e))&&(s&&(s+=" "),s+=t);return s}const vx=r=>{if(typeof r=="string")return r;let e,t="";for(let s=0;s<r.length;s++)r[s]&&(e=vx(r[s]))&&(t&&(t+=" "),t+=e);return t};function ON(r,...e){let t,s,a,l=c;function c(h){const f=e.reduce((p,b)=>b(p),r());return t=DN(f),s=t.cache.get,a=t.cache.set,l=d,d(h)}function d(h){const f=s(h);if(f)return f;const p=PN(h,t);return a(h,p),p}return function(){return l(LN.apply(null,arguments))}}const kt=r=>{const e=t=>t[r]||[];return e.isThemeGetter=!0,e},xx=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,wx=/^\((?:(\w[\w-]*):)?(.+)\)$/i,IN=/^\d+\/\d+$/,zN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,FN=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,UN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,BN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,HN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ma=r=>IN.test(r),Re=r=>!!r&&!Number.isNaN(Number(r)),ti=r=>!!r&&Number.isInteger(Number(r)),Zh=r=>r.endsWith("%")&&Re(r.slice(0,-1)),ws=r=>zN.test(r),GN=()=>!0,qN=r=>FN.test(r)&&!UN.test(r),Ax=()=>!1,VN=r=>BN.test(r),$N=r=>HN.test(r),YN=r=>!fe(r)&&!me(r),XN=r=>Xa(r,_x,Ax),fe=r=>xx.test(r),Ci=r=>Xa(r,Cx,qN),Jh=r=>Xa(r,JN,Re),bv=r=>Xa(r,Sx,Ax),WN=r=>Xa(r,Ex,$N),lc=r=>Xa(r,Tx,VN),me=r=>wx.test(r),Zr=r=>Wa(r,Cx),KN=r=>Wa(r,ek),vv=r=>Wa(r,Sx),QN=r=>Wa(r,_x),ZN=r=>Wa(r,Ex),cc=r=>Wa(r,Tx,!0),Xa=(r,e,t)=>{const s=xx.exec(r);return s?s[1]?e(s[1]):t(s[2]):!1},Wa=(r,e,t=!1)=>{const s=wx.exec(r);return s?s[1]?e(s[1]):t:!1},Sx=r=>r==="position"||r==="percentage",Ex=r=>r==="image"||r==="url",_x=r=>r==="length"||r==="size"||r==="bg-size",Cx=r=>r==="length",JN=r=>r==="number",ek=r=>r==="family-name",Tx=r=>r==="shadow",tk=()=>{const r=kt("color"),e=kt("font"),t=kt("text"),s=kt("font-weight"),a=kt("tracking"),l=kt("leading"),c=kt("breakpoint"),d=kt("container"),h=kt("spacing"),f=kt("radius"),p=kt("shadow"),b=kt("inset-shadow"),v=kt("text-shadow"),x=kt("drop-shadow"),w=kt("blur"),A=kt("perspective"),_=kt("aspect"),C=kt("ease"),k=kt("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...M(),me,fe],P=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto","contain","none"],D=()=>[me,fe,h],Y=()=>[Ma,"full","auto",...D()],te=()=>[ti,"none","subgrid",me,fe],H=()=>["auto",{span:["full",ti,me,fe]},ti,me,fe],ne=()=>[ti,"auto",me,fe],le=()=>["auto","min","max","fr",me,fe],q=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ee=()=>["start","end","center","stretch","center-safe","end-safe"],j=()=>["auto",...D()],B=()=>[Ma,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...D()],V=()=>[r,me,fe],ce=()=>[...M(),vv,bv,{position:[me,fe]}],I=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Q=()=>["auto","cover","contain",QN,XN,{size:[me,fe]}],L=()=>[Zh,Zr,Ci],z=()=>["","none","full",f,me,fe],$=()=>["",Re,Zr,Ci],oe=()=>["solid","dashed","dotted","double"],J=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>[Re,Zh,vv,bv],be=()=>["","none",w,me,fe],Ne=()=>["none",Re,me,fe],_e=()=>["none",Re,me,fe],rt=()=>[Re,me,fe],xt=()=>[Ma,"full",...D()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[ws],breakpoint:[ws],color:[GN],container:[ws],"drop-shadow":[ws],ease:["in","out","in-out"],font:[YN],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[ws],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[ws],shadow:[ws],spacing:["px",Re],text:[ws],"text-shadow":[ws],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ma,fe,me,_]}],container:["container"],columns:[{columns:[Re,fe,me,d]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Y()}],"inset-x":[{"inset-x":Y()}],"inset-y":[{"inset-y":Y()}],start:[{start:Y()}],end:[{end:Y()}],top:[{top:Y()}],right:[{right:Y()}],bottom:[{bottom:Y()}],left:[{left:Y()}],visibility:["visible","invisible","collapse"],z:[{z:[ti,"auto",me,fe]}],basis:[{basis:[Ma,"full","auto",d,...D()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Re,Ma,"auto","initial","none",fe]}],grow:[{grow:["",Re,me,fe]}],shrink:[{shrink:["",Re,me,fe]}],order:[{order:[ti,"first","last","none",me,fe]}],"grid-cols":[{"grid-cols":te()}],"col-start-end":[{col:H()}],"col-start":[{"col-start":ne()}],"col-end":[{"col-end":ne()}],"grid-rows":[{"grid-rows":te()}],"row-start-end":[{row:H()}],"row-start":[{"row-start":ne()}],"row-end":[{"row-end":ne()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":le()}],"auto-rows":[{"auto-rows":le()}],gap:[{gap:D()}],"gap-x":[{"gap-x":D()}],"gap-y":[{"gap-y":D()}],"justify-content":[{justify:[...q(),"normal"]}],"justify-items":[{"justify-items":[...ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...ee()]}],"align-content":[{content:["normal",...q()]}],"align-items":[{items:[...ee(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ee(),{baseline:["","last"]}]}],"place-content":[{"place-content":q()}],"place-items":[{"place-items":[...ee(),"baseline"]}],"place-self":[{"place-self":["auto",...ee()]}],p:[{p:D()}],px:[{px:D()}],py:[{py:D()}],ps:[{ps:D()}],pe:[{pe:D()}],pt:[{pt:D()}],pr:[{pr:D()}],pb:[{pb:D()}],pl:[{pl:D()}],m:[{m:j()}],mx:[{mx:j()}],my:[{my:j()}],ms:[{ms:j()}],me:[{me:j()}],mt:[{mt:j()}],mr:[{mr:j()}],mb:[{mb:j()}],ml:[{ml:j()}],"space-x":[{"space-x":D()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":D()}],"space-y-reverse":["space-y-reverse"],size:[{size:B()}],w:[{w:[d,"screen",...B()]}],"min-w":[{"min-w":[d,"screen","none",...B()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...B()]}],h:[{h:["screen","lh",...B()]}],"min-h":[{"min-h":["screen","lh","none",...B()]}],"max-h":[{"max-h":["screen","lh",...B()]}],"font-size":[{text:["base",t,Zr,Ci]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,me,Jh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Zh,fe]}],"font-family":[{font:[KN,fe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,me,fe]}],"line-clamp":[{"line-clamp":[Re,"none",me,Jh]}],leading:[{leading:[l,...D()]}],"list-image":[{"list-image":["none",me,fe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",me,fe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:V()}],"text-color":[{text:V()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...oe(),"wavy"]}],"text-decoration-thickness":[{decoration:[Re,"from-font","auto",me,Ci]}],"text-decoration-color":[{decoration:V()}],"underline-offset":[{"underline-offset":[Re,"auto",me,fe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me,fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me,fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ce()}],"bg-repeat":[{bg:I()}],"bg-size":[{bg:Q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ti,me,fe],radial:["",me,fe],conic:[ti,me,fe]},ZN,WN]}],"bg-color":[{bg:V()}],"gradient-from-pos":[{from:L()}],"gradient-via-pos":[{via:L()}],"gradient-to-pos":[{to:L()}],"gradient-from":[{from:V()}],"gradient-via":[{via:V()}],"gradient-to":[{to:V()}],rounded:[{rounded:z()}],"rounded-s":[{"rounded-s":z()}],"rounded-e":[{"rounded-e":z()}],"rounded-t":[{"rounded-t":z()}],"rounded-r":[{"rounded-r":z()}],"rounded-b":[{"rounded-b":z()}],"rounded-l":[{"rounded-l":z()}],"rounded-ss":[{"rounded-ss":z()}],"rounded-se":[{"rounded-se":z()}],"rounded-ee":[{"rounded-ee":z()}],"rounded-es":[{"rounded-es":z()}],"rounded-tl":[{"rounded-tl":z()}],"rounded-tr":[{"rounded-tr":z()}],"rounded-br":[{"rounded-br":z()}],"rounded-bl":[{"rounded-bl":z()}],"border-w":[{border:$()}],"border-w-x":[{"border-x":$()}],"border-w-y":[{"border-y":$()}],"border-w-s":[{"border-s":$()}],"border-w-e":[{"border-e":$()}],"border-w-t":[{"border-t":$()}],"border-w-r":[{"border-r":$()}],"border-w-b":[{"border-b":$()}],"border-w-l":[{"border-l":$()}],"divide-x":[{"divide-x":$()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":$()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...oe(),"hidden","none"]}],"divide-style":[{divide:[...oe(),"hidden","none"]}],"border-color":[{border:V()}],"border-color-x":[{"border-x":V()}],"border-color-y":[{"border-y":V()}],"border-color-s":[{"border-s":V()}],"border-color-e":[{"border-e":V()}],"border-color-t":[{"border-t":V()}],"border-color-r":[{"border-r":V()}],"border-color-b":[{"border-b":V()}],"border-color-l":[{"border-l":V()}],"divide-color":[{divide:V()}],"outline-style":[{outline:[...oe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Re,me,fe]}],"outline-w":[{outline:["",Re,Zr,Ci]}],"outline-color":[{outline:V()}],shadow:[{shadow:["","none",p,cc,lc]}],"shadow-color":[{shadow:V()}],"inset-shadow":[{"inset-shadow":["none",b,cc,lc]}],"inset-shadow-color":[{"inset-shadow":V()}],"ring-w":[{ring:$()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:V()}],"ring-offset-w":[{"ring-offset":[Re,Ci]}],"ring-offset-color":[{"ring-offset":V()}],"inset-ring-w":[{"inset-ring":$()}],"inset-ring-color":[{"inset-ring":V()}],"text-shadow":[{"text-shadow":["none",v,cc,lc]}],"text-shadow-color":[{"text-shadow":V()}],opacity:[{opacity:[Re,me,fe]}],"mix-blend":[{"mix-blend":[...J(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":J()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Re]}],"mask-image-linear-from-pos":[{"mask-linear-from":re()}],"mask-image-linear-to-pos":[{"mask-linear-to":re()}],"mask-image-linear-from-color":[{"mask-linear-from":V()}],"mask-image-linear-to-color":[{"mask-linear-to":V()}],"mask-image-t-from-pos":[{"mask-t-from":re()}],"mask-image-t-to-pos":[{"mask-t-to":re()}],"mask-image-t-from-color":[{"mask-t-from":V()}],"mask-image-t-to-color":[{"mask-t-to":V()}],"mask-image-r-from-pos":[{"mask-r-from":re()}],"mask-image-r-to-pos":[{"mask-r-to":re()}],"mask-image-r-from-color":[{"mask-r-from":V()}],"mask-image-r-to-color":[{"mask-r-to":V()}],"mask-image-b-from-pos":[{"mask-b-from":re()}],"mask-image-b-to-pos":[{"mask-b-to":re()}],"mask-image-b-from-color":[{"mask-b-from":V()}],"mask-image-b-to-color":[{"mask-b-to":V()}],"mask-image-l-from-pos":[{"mask-l-from":re()}],"mask-image-l-to-pos":[{"mask-l-to":re()}],"mask-image-l-from-color":[{"mask-l-from":V()}],"mask-image-l-to-color":[{"mask-l-to":V()}],"mask-image-x-from-pos":[{"mask-x-from":re()}],"mask-image-x-to-pos":[{"mask-x-to":re()}],"mask-image-x-from-color":[{"mask-x-from":V()}],"mask-image-x-to-color":[{"mask-x-to":V()}],"mask-image-y-from-pos":[{"mask-y-from":re()}],"mask-image-y-to-pos":[{"mask-y-to":re()}],"mask-image-y-from-color":[{"mask-y-from":V()}],"mask-image-y-to-color":[{"mask-y-to":V()}],"mask-image-radial":[{"mask-radial":[me,fe]}],"mask-image-radial-from-pos":[{"mask-radial-from":re()}],"mask-image-radial-to-pos":[{"mask-radial-to":re()}],"mask-image-radial-from-color":[{"mask-radial-from":V()}],"mask-image-radial-to-color":[{"mask-radial-to":V()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":M()}],"mask-image-conic-pos":[{"mask-conic":[Re]}],"mask-image-conic-from-pos":[{"mask-conic-from":re()}],"mask-image-conic-to-pos":[{"mask-conic-to":re()}],"mask-image-conic-from-color":[{"mask-conic-from":V()}],"mask-image-conic-to-color":[{"mask-conic-to":V()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ce()}],"mask-repeat":[{mask:I()}],"mask-size":[{mask:Q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",me,fe]}],filter:[{filter:["","none",me,fe]}],blur:[{blur:be()}],brightness:[{brightness:[Re,me,fe]}],contrast:[{contrast:[Re,me,fe]}],"drop-shadow":[{"drop-shadow":["","none",x,cc,lc]}],"drop-shadow-color":[{"drop-shadow":V()}],grayscale:[{grayscale:["",Re,me,fe]}],"hue-rotate":[{"hue-rotate":[Re,me,fe]}],invert:[{invert:["",Re,me,fe]}],saturate:[{saturate:[Re,me,fe]}],sepia:[{sepia:["",Re,me,fe]}],"backdrop-filter":[{"backdrop-filter":["","none",me,fe]}],"backdrop-blur":[{"backdrop-blur":be()}],"backdrop-brightness":[{"backdrop-brightness":[Re,me,fe]}],"backdrop-contrast":[{"backdrop-contrast":[Re,me,fe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Re,me,fe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Re,me,fe]}],"backdrop-invert":[{"backdrop-invert":["",Re,me,fe]}],"backdrop-opacity":[{"backdrop-opacity":[Re,me,fe]}],"backdrop-saturate":[{"backdrop-saturate":[Re,me,fe]}],"backdrop-sepia":[{"backdrop-sepia":["",Re,me,fe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":D()}],"border-spacing-x":[{"border-spacing-x":D()}],"border-spacing-y":[{"border-spacing-y":D()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",me,fe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Re,"initial",me,fe]}],ease:[{ease:["linear","initial",C,me,fe]}],delay:[{delay:[Re,me,fe]}],animate:[{animate:["none",k,me,fe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[A,me,fe]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:Ne()}],"rotate-x":[{"rotate-x":Ne()}],"rotate-y":[{"rotate-y":Ne()}],"rotate-z":[{"rotate-z":Ne()}],scale:[{scale:_e()}],"scale-x":[{"scale-x":_e()}],"scale-y":[{"scale-y":_e()}],"scale-z":[{"scale-z":_e()}],"scale-3d":["scale-3d"],skew:[{skew:rt()}],"skew-x":[{"skew-x":rt()}],"skew-y":[{"skew-y":rt()}],transform:[{transform:[me,fe,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xt()}],"translate-x":[{"translate-x":xt()}],"translate-y":[{"translate-y":xt()}],"translate-z":[{"translate-z":xt()}],"translate-none":["translate-none"],accent:[{accent:V()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:V()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me,fe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me,fe]}],fill:[{fill:["none",...V()]}],"stroke-w":[{stroke:[Re,Zr,Ci,Jh]}],stroke:[{stroke:["none",...V()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},nk=ON(tk);function st(...r){return nk(Ya(r))}const sk=xC,Nx=S.forwardRef(({className:r,...e},t)=>m.jsx(ix,{ref:t,className:st("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",r),...e}));Nx.displayName=ix.displayName;const ik=Zc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"bg-primary/5 border-primary/20 text-primary shadow-primary/10",destructive:"bg-red-50 border-red-200 text-red-700 shadow-red-100",success:"bg-emerald-50 border-emerald-200 text-emerald-700 shadow-emerald-100",warning:"bg-amber-50 border-amber-200 text-amber-700 shadow-amber-100"}},defaultVariants:{variant:"default"}}),kx=S.forwardRef(({className:r,variant:e,...t},s)=>m.jsx(ax,{ref:s,className:st(ik({variant:e}),r),...t}));kx.displayName=ax.displayName;const ak=S.forwardRef(({className:r,...e},t)=>m.jsx(lx,{ref:t,className:st("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",r),...e}));ak.displayName=lx.displayName;const Rx=S.forwardRef(({className:r,...e},t)=>m.jsx(cx,{ref:t,className:st("absolute right-2 top-2 rounded-md p-1 opacity-60 transition-opacity hover:opacity-100 focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100","text-primary/70 hover:text-primary focus:ring-primary/20","group-[.destructive]:text-red-600 group-[.destructive]:hover:text-red-700 group-[.destructive]:focus:ring-red-200","group-[.success]:text-emerald-600 group-[.success]:hover:text-emerald-700 group-[.success]:focus:ring-emerald-200","group-[.warning]:text-amber-600 group-[.warning]:hover:text-amber-700 group-[.warning]:focus:ring-amber-200",r),"toast-close":"",...e,children:m.jsx(yx,{className:"h-4 w-4"})}));Rx.displayName=cx.displayName;const Mx=S.forwardRef(({className:r,...e},t)=>m.jsx(rx,{ref:t,className:st("text-sm font-semibold",r),...e}));Mx.displayName=rx.displayName;const Dx=S.forwardRef(({className:r,...e},t)=>m.jsx(ox,{ref:t,className:st("text-sm opacity-90",r),...e}));Dx.displayName=ox.displayName;function rk(){const{toasts:r}=Kc();return m.jsxs(sk,{children:[r.map(function({id:e,title:t,description:s,action:a,...l}){return m.jsxs(kx,{...l,children:[m.jsxs("div",{className:"grid gap-1",children:[t&&m.jsx(Mx,{children:t}),s&&m.jsx(Dx,{children:s})]}),a,m.jsx(Rx,{})]},e)}),m.jsx(Nx,{})]})}const dm=()=>ZE(),hm=t_,Ka=()=>{const[,r]=S.useState({});return S.useEffect(()=>b2(()=>{r({})}),[]),{t:v2,currentLanguage:Qf()}},ok=Zc("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 shadow-sm",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground shadow-sm",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 shadow-sm",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",success:"bg-success text-success-foreground hover:bg-success/90 shadow-sm",warning:"bg-warning text-warning-foreground hover:bg-warning/90 shadow-sm"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),pe=S.forwardRef(({className:r,variant:e,size:t,asChild:s=!1,...a},l)=>{const c=s?R2:"button";return m.jsx(c,{className:st(ok({variant:e,size:t,className:r})),ref:l,...a})});pe.displayName="Button";const Qe=S.forwardRef(({className:r,type:e,...t},s)=>m.jsx("input",{type:e,className:st("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:s,...t}));Qe.displayName="Input";var lk="Label",jx=S.forwardRef((r,e)=>m.jsx(qn.label,{...r,ref:e,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(r.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));jx.displayName=lk;var Px=jx;const ck=Zc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ze=S.forwardRef(({className:r,...e},t)=>m.jsx(Px,{ref:t,className:st(ck(),r),...e}));ze.displayName=Px.displayName;const yt=S.forwardRef(({className:r,...e},t)=>m.jsx("div",{ref:t,className:st("rounded-lg border bg-card text-card-foreground shadow-sm",r),...e}));yt.displayName="Card";const fm=S.forwardRef(({className:r,...e},t)=>m.jsx("div",{ref:t,className:st("flex flex-col space-y-1.5 p-6",r),...e}));fm.displayName="CardHeader";const mm=S.forwardRef(({className:r,children:e,...t},s)=>m.jsx("h3",{ref:s,className:st("text-2xl font-semibold leading-none tracking-tight",r),...t,children:e}));mm.displayName="CardTitle";const pm=S.forwardRef(({className:r,...e},t)=>m.jsx("p",{ref:t,className:st("text-sm text-muted-foreground",r),...e}));pm.displayName="CardDescription";const bt=S.forwardRef(({className:r,...e},t)=>m.jsx("div",{ref:t,className:st("p-6 pt-0",r),...e}));bt.displayName="CardContent";const uk=S.forwardRef(({className:r,...e},t)=>m.jsx("div",{ref:t,className:st("flex items-center p-6 pt-0",r),...e}));uk.displayName="CardFooter";const dk=Zc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4",{variants:{variant:{default:"bg-primary/5 border-primary/20 text-primary [&>svg]:text-primary",destructive:"bg-red-50 border-red-200 text-red-700 [&>svg]:text-red-600",success:"bg-emerald-50 border-emerald-200 text-emerald-700 [&>svg]:text-emerald-600",warning:"bg-amber-50 border-amber-200 text-amber-700 [&>svg]:text-amber-600"}},defaultVariants:{variant:"default"}}),tu=S.forwardRef(({className:r,variant:e,...t},s)=>m.jsx("div",{ref:s,role:"alert",className:st(dk({variant:e}),r),...t}));tu.displayName="Alert";const hk=S.forwardRef(({className:r,...e},t)=>m.jsx("h5",{ref:t,className:st("mb-1 font-medium leading-none tracking-tight",r),...e}));hk.displayName="AlertTitle";const nu=S.forwardRef(({className:r,...e},t)=>m.jsx("div",{ref:t,className:st("text-sm [&_p]:leading-relaxed",r),...e}));nu.displayName="AlertDescription";const fk=()=>{const[r,e]=S.useState(""),[t,s]=S.useState(""),[a,l]=S.useState(!1),c=dm(),{loading:d,error:h}=hm(v=>v.auth),f=Hi(),{t:p}=Ka(),b=async v=>{if(v.preventDefault(),c(R0()),!(!r||!t))try{await c(vc({email:r,password:t})).unwrap(),f("/app/dashboard")}catch(x){console.error("Login error:",x)}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-accent/20 p-4",children:m.jsxs(yt,{className:"w-full max-w-md shadow-xl",children:[m.jsxs(fm,{className:"text-center",children:[m.jsx("div",{className:"flex items-center justify-center space-x-2 mb-4",children:m.jsx("span",{className:"text-xl font-bold text-foreground border-primary border-b pb-2",children:p("common.signMeNow")})}),m.jsx(mm,{className:"text-2xl font-bold",children:p("auth.welcomeBack")}),m.jsx(pm,{children:p("auth.signInToAccount")})]}),m.jsxs(bt,{children:[m.jsxs("form",{onSubmit:b,className:"space-y-4",children:[h&&m.jsx(tu,{variant:"destructive",children:m.jsx(nu,{children:h})}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ze,{htmlFor:"email",children:p("common.email")}),m.jsx(Qe,{id:"email",type:"email",placeholder:p("common.email"),value:r,onChange:v=>e(v.target.value),required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ze,{htmlFor:"password",children:p("common.password")}),m.jsxs("div",{className:"relative",children:[m.jsx(Qe,{id:"password",type:a?"text":"password",placeholder:p("common.password"),value:t,onChange:v=>s(v.target.value),required:!0}),m.jsx(pe,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>l(!a),children:a?m.jsx(Sf,{className:"h-4 w-4"}):m.jsx(vo,{className:"h-4 w-4"})})]})]}),m.jsx(pe,{type:"submit",className:"w-full",disabled:d,children:d?m.jsxs(m.Fragment,{children:[m.jsx(Mo,{className:"mr-2 h-4 w-4 animate-spin"}),p("common.loading")]}):p("common.signIn")})]}),m.jsxs("div",{className:"relative my-6",children:[m.jsx("div",{className:"absolute inset-0 flex items-center",children:m.jsx("span",{className:"w-full border-t"})}),m.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:m.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:p("auth.orContinueWith")})})]}),m.jsxs(pe,{type:"button",variant:"outline",className:"w-full hover:bg-accent",onClick:()=>{alert(p("auth.googleLoginComingSoon"))},children:[m.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[m.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),m.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),m.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),m.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),p("auth.continueWithGoogle")]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsxs("p",{className:"text-sm text-muted-foreground",children:[p("auth.dontHaveAccount")," ",m.jsx(Vc,{to:"/register",className:"text-primary hover:underline font-medium",children:p("common.signUp")})]})})]})]})})},mk=()=>{const[r,e]=S.useState(""),[t,s]=S.useState(""),[a,l]=S.useState(""),[c,d]=S.useState(""),[h,f]=S.useState(!1),[p,b]=S.useState(!1),[v,x]=S.useState(""),[w,A]=S.useState(""),[_,C]=S.useState(""),[k,N]=S.useState(""),[M,R]=S.useState(""),[P,O]=S.useState(""),[D,Y]=S.useState(""),[te,H]=S.useState(""),[ne,le]=S.useState(""),[q,ee]=S.useState(!1),[j,B]=S.useState(""),[V,ce]=S.useState(""),I=dm(),{loading:Q,error:L}=hm(J=>J.auth),z=Hi(),{t:$}=Ka(),oe=async J=>{if(J.preventDefault(),I(R0()),!(!r||!t||!a||!c||!w||!_)&&a===c&&!(a.length<6))try{await I(xc({username:r,email:t,password:a,firstName:w,lastName:_,title:v,address:k,address2:M,city:P,country:D,zipcode:te,phone:ne,isCompany:q,company:j,vatNumber:V})).unwrap(),z("/app/dashboard")}catch(re){console.error("Registration error:",re)}};return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-accent/20 p-4",children:m.jsxs(yt,{className:"w-full max-w-2xl mx-auto shadow-xl",children:[m.jsxs(fm,{className:"text-center",children:[m.jsx("div",{className:"flex items-center justify-center space-x-2 mb-4",children:m.jsx("span",{className:"text-xl font-bold text-foreground border-primary border-b pb-2",children:$("common.signMeNow")})}),m.jsx(mm,{className:"text-2xl font-bold",children:$("auth.createAccount")}),m.jsx(pm,{children:$("auth.signUpDescription")})]}),m.jsxs(bt,{children:[m.jsxs("form",{onSubmit:oe,className:"space-y-6",children:[L&&m.jsx(tu,{variant:"destructive",children:m.jsx(nu,{children:L})}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[m.jsx(xo,{className:"h-5 w-5 text-primary"}),m.jsx("h3",{className:"text-lg font-semibold",children:$("auth.basicInformation")})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(ze,{htmlFor:"username",children:$("common.usernameRequired")}),m.jsx(Qe,{id:"username",type:"text",placeholder:$("common.enterUsername"),value:r,onChange:J=>e(J.target.value),required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ze,{htmlFor:"email",children:$("common.emailRequired")}),m.jsx(Qe,{id:"email",type:"email",placeholder:$("common.enterEmail"),value:t,onChange:J=>s(J.target.value),required:!0})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(ze,{htmlFor:"password",children:$("common.passwordRequired")}),m.jsxs("div",{className:"relative",children:[m.jsx(Qe,{id:"password",type:h?"text":"password",placeholder:$("common.enterPassword"),value:a,onChange:J=>l(J.target.value),required:!0}),m.jsx(pe,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>f(!h),children:h?m.jsx(Sf,{className:"h-4 w-4"}):m.jsx(vo,{className:"h-4 w-4"})})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ze,{htmlFor:"confirmPassword",children:$("common.confirmPasswordRequired")}),m.jsxs("div",{className:"relative",children:[m.jsx(Qe,{id:"confirmPassword",type:p?"text":"password",placeholder:$("common.confirmPasswordPlaceholder"),value:c,onChange:J=>d(J.target.value),required:!0}),m.jsx(pe,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>b(!p),children:p?m.jsx(Sf,{className:"h-4 w-4"}):m.jsx(vo,{className:"h-4 w-4"})})]})]})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[m.jsx(xo,{className:"h-5 w-5 text-primary"}),m.jsx("h3",{className:"text-lg font-semibold",children:"Profile Information"})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(ze,{htmlFor:"title",children:"Title"}),m.jsx(Qe,{id:"title",type:"text",placeholder:"Mr, Mrs, Dr, etc.",value:v,onChange:J=>x(J.target.value)})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ze,{htmlFor:"firstName",children:"First Name *"}),m.jsx(Qe,{id:"firstName",type:"text",placeholder:"Enter your first name",value:w,onChange:J=>A(J.target.value),required:!0})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ze,{htmlFor:"lastName",children:"Last Name *"}),m.jsx(Qe,{id:"lastName",type:"text",placeholder:"Enter your last name",value:_,onChange:J=>C(J.target.value),required:!0})]})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[m.jsx(dv,{className:"h-5 w-5 text-primary"}),m.jsx("h3",{className:"text-lg font-semibold",children:"Address Information"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ze,{htmlFor:"address",children:"Address"}),m.jsx(Qe,{id:"address",type:"text",placeholder:"Enter your address",value:k,onChange:J=>N(J.target.value)})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ze,{htmlFor:"address2",children:"Address Line 2"}),m.jsx(Qe,{id:"address2",type:"text",placeholder:"Apartment, suite, etc.",value:M,onChange:J=>R(J.target.value)})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(ze,{htmlFor:"city",children:"City"}),m.jsx(Qe,{id:"city",type:"text",placeholder:"Enter your city",value:P,onChange:J=>O(J.target.value)})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ze,{htmlFor:"country",children:"Country"}),m.jsx(Qe,{id:"country",type:"text",placeholder:"Enter your country",value:D,onChange:J=>Y(J.target.value)})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ze,{htmlFor:"zipcode",children:"Zip Code"}),m.jsx(Qe,{id:"zipcode",type:"text",placeholder:"Enter your zip code",value:te,onChange:J=>H(J.target.value)})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ze,{htmlFor:"phone",children:"Phone"}),m.jsx(Qe,{id:"phone",type:"tel",placeholder:"Enter your phone number",value:ne,onChange:J=>le(J.target.value)})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[m.jsx(dv,{className:"h-5 w-5 text-primary"}),m.jsx("h3",{className:"text-lg font-semibold",children:"Company Information"})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"checkbox",id:"isCompany",checked:q,onChange:J=>ee(J.target.checked),className:"rounded border-gray-300"}),m.jsx(ze,{htmlFor:"isCompany",children:"I am registering as a company"})]}),q&&m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(ze,{htmlFor:"company",children:"Company Name"}),m.jsx(Qe,{id:"company",type:"text",placeholder:"Enter your company name",value:j,onChange:J=>B(J.target.value)})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ze,{htmlFor:"vatNumber",children:"VAT Number"}),m.jsx(Qe,{id:"vatNumber",type:"text",placeholder:"Enter your VAT number",value:V,onChange:J=>ce(J.target.value)})]})]})]}),m.jsx(pe,{type:"submit",className:"w-full",disabled:Q,children:Q?m.jsxs(m.Fragment,{children:[m.jsx(Mo,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating account..."]}):"Create Account"})]}),m.jsxs("div",{className:"relative my-6",children:[m.jsx("div",{className:"absolute inset-0 flex items-center",children:m.jsx("span",{className:"w-full border-t"})}),m.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:m.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:$("auth.orContinueWith")})})]}),m.jsxs(pe,{type:"button",variant:"outline",className:"w-full hover:bg-accent",onClick:()=>{alert("Google login feature coming soon!")},children:[m.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[m.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),m.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),m.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),m.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),$("auth.continueWithGoogle")]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsxs("p",{className:"text-sm text-muted-foreground",children:[$("auth.alreadyHaveAccount")," ",m.jsx(Vc,{to:"/login",className:"text-primary hover:underline font-medium",children:$("common.signIn")})]})})]})]})})},pk=()=>{const r=Hi();return m.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center space-y-6",children:m.jsx(pe,{variant:"ghost",onClick:()=>r("/login"),children:"Sign In"})})},Lx=({title:r,description:e,icon:t,children:s,actions:a,className:l=""})=>m.jsx("div",{className:`min-h-screen bg-background ${l}`,children:m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsx("div",{className:"bg-card rounded-xl p-6 shadow-sm border border-border",children:m.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[t&&m.jsx("div",{className:"w-12 h-12 bg-primary rounded-xl flex items-center justify-center shadow-lg",children:m.jsx(t,{className:"h-6 w-6 text-white"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-foreground",children:r}),m.jsx("p",{className:"text-muted-foreground mt-1",children:e})]})]}),a&&m.jsx("div",{className:"flex items-center gap-3",children:a})]})}),s]})}),gk=({title:r,value:e,icon:t,change:s,trend:a="neutral",color:l="blue"})=>{const d=(h=>{switch(h){case"green":return{bg:"bg-green-100",icon:"text-green-600",trend:"text-green-600"};case"yellow":return{bg:"bg-yellow-100",icon:"text-yellow-600",trend:"text-yellow-600"};case"red":return{bg:"bg-red-100",icon:"text-red-600",trend:"text-red-600"};case"slate":return{bg:"bg-slate-100",icon:"text-slate-600",trend:"text-slate-600"};default:return{bg:"bg-primary/10",icon:"text-primary",trend:"text-primary"}}})(l);return m.jsx(yt,{className:"hover:shadow-md transition-shadow",children:m.jsxs(bt,{className:"p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("div",{className:`w-12 h-12 ${d.bg} rounded-xl flex items-center justify-center`,children:m.jsx(t,{className:`h-6 w-6 ${d.icon}`})}),s&&m.jsx("div",{className:`flex items-center text-sm ${d.trend}`,children:s})]}),m.jsxs("div",{children:[m.jsx("div",{className:"text-2xl font-bold text-foreground mb-1",children:e}),m.jsx("div",{className:"text-sm text-muted-foreground",children:r})]})]})})},yk=()=>{const{user:r}=Zf(),e=Hi(),{t}=Ka(),{isRTL:s}=Wc(),a=()=>{const f=new Date().getHours();return f<12?t("dashboard.goodMorning"):f<17?t("dashboard.goodAfternoon"):t("dashboard.goodEvening")},l=[{title:t("dashboard.documentsSigned"),value:"124",change:"+12",trend:"up",icon:Pc},{title:t("dashboard.awaitingSignature"),value:"8",change:"-3",trend:"down",icon:bo},{title:t("nav.inbox"),value:"34",change:"+5",trend:"up",icon:pT},{title:t("nav.messages"),value:"16",change:"+23",trend:"up",icon:rm}],c=[{text:"Employment Agreement completed by John Smith",time:"2 minutes ago",type:"completed",avatar:"JS"},{text:"NDA signature pending from Sarah Johnson",time:"5 minutes ago",type:"pending",avatar:"SJ"},{text:"Service Contract uploaded by Michael Chen",time:"12 minutes ago",type:"uploaded",avatar:"MC"},{text:"Team meeting notes shared with 5 members",time:"1 hour ago",type:"shared",avatar:"TM"},{text:"Quarterly report signed and archived",time:"2 hours ago",type:"completed",avatar:"QR"},{text:"Partnership agreement reviewed by Legal team",time:"3 hours ago",type:"shared",avatar:"LT"},{text:"Invoice template updated by Finance dept",time:"4 hours ago",type:"uploaded",avatar:"FD"},{text:"Client contract awaiting final approval",time:"5 hours ago",type:"pending",avatar:"CC"}],d=[{icon:si,label:"Upload Document",description:"Add new PDF to sign",shortcut:"Ctrl+U",onClick:()=>e("/pdf-signature")},{icon:Pc,label:"Sign Document",description:"Sign existing PDF",shortcut:"Ctrl+S",onClick:()=>e("/pdf-signature")},{icon:cm,label:"Request a Signature",description:"Send document for signing",shortcut:"Ctrl+R",onClick:()=>{}},{icon:Af,label:"Analyze with A.I",description:"AI document insights",shortcut:"Ctrl+A",onClick:()=>{}}],h=f=>{switch(f){case"completed":return yo;case"pending":return bo;case"uploaded":return un;case"shared":return Oc;default:return un}};return m.jsxs(Lx,{title:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("span",{className:"text-2xl",children:""}),m.jsx("span",{children:`${a()}, Hedayat Farahi`})]}),description:"Manage your PDF signatures and documents",actions:m.jsx(m.Fragment,{children:m.jsxs(pe,{className:"bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 text-primary-foreground border-0 shadow-lg",children:[m.jsx(iT,{className:"h-4 w-4 mr-2"}),"Upgrade to Pro"]})}),children:[m.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4",children:l.map(f=>m.jsx(gk,{title:f.title,value:f.value,icon:f.icon,change:f.change,trend:f.trend,color:f.trend==="up"?"blue":"slate"},f.title))}),m.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[m.jsx("div",{className:"lg:col-span-2",children:m.jsxs("div",{className:"bg-card rounded-xl shadow-sm border border-border h-[480px] flex flex-col",children:[m.jsx("div",{className:"p-6 border-b border-border flex-shrink-0",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Recent Activity"}),m.jsxs(pe,{variant:"outline",size:"sm",className:"hover:bg-accent",children:[m.jsx(Ro,{className:"h-4 w-4 mr-2"}),"Filter"]})]})}),m.jsx("div",{className:"flex-1 overflow-y-auto p-6 space-y-3",children:c.map((f,p)=>{const b=h(f.type);return m.jsxs("div",{className:`flex items-start ${s?"space-x-reverse space-x-4":"space-x-4"} p-4 hover:bg-primary/5 rounded-lg transition-colors`,children:[m.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center text-primary text-sm font-medium flex-shrink-0",children:f.avatar}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-sm font-medium text-foreground leading-relaxed",children:f.text}),m.jsxs("div",{className:"flex items-center mt-2 text-xs text-muted-foreground",children:[m.jsx(b,{className:"h-3 w-3 mr-1"}),f.time]})]})]},p)})})]})}),m.jsx("div",{children:m.jsxs("div",{className:"bg-card rounded-xl shadow-sm border border-border h-[480px] flex flex-col",children:[m.jsx("div",{className:"p-6 border-b border-border flex-shrink-0",children:m.jsx("h3",{className:"text-lg font-semibold text-foreground",children:"Quick Actions"})}),m.jsx("div",{className:"flex-1 p-6 space-y-3",children:d.map(f=>m.jsxs("button",{onClick:f.onClick,className:"w-full flex items-center gap-4 p-4 hover:bg-primary/5 rounded-lg transition-colors text-left group",children:[m.jsx("div",{className:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center group-hover:bg-primary/90 transition-colors",children:m.jsx(f.icon,{className:"h-5 w-5 text-primary-foreground"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("div",{className:"font-medium text-foreground",children:f.label}),m.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:f.description})]}),m.jsx("div",{className:"text-xs text-muted-foreground opacity-0 group-hover:opacity-100 transition-opacity",children:f.shortcut})]},f.label))})]})})]})]})},bk=({isOpen:r,onClose:e,onSave:t,user:s,mode:a})=>{const[l,c]=S.useState({username:"",email:"",firstName:"",lastName:"",role:"admin",password:""}),[d,h]=S.useState(!1),[f,p]=S.useState({});S.useEffect(()=>{c(s&&a==="edit"?{username:s.username||"",email:s.email||"",firstName:s.firstName||"",lastName:s.lastName||"",role:s.role||"admin",password:""}:{username:"",email:"",firstName:"",lastName:"",role:"admin",password:""}),p({})},[s,a,r]);const b=()=>{const w={};return l.username.trim()?l.username.length<3&&(w.username="Username must be at least 3 characters"):w.username="Username is required",l.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(w.email="Please enter a valid email"):w.email="Email is required",l.firstName.trim()||(w.firstName="First name is required"),l.lastName.trim()||(w.lastName="Last name is required"),a==="create"&&!l.password.trim()?w.password="Password is required":l.password&&l.password.length<6&&(w.password="Password must be at least 6 characters"),p(w),Object.keys(w).length===0},v=async w=>{if(w.preventDefault(),!!b()){h(!0);try{const A={username:l.username.trim(),email:l.email.trim(),firstName:l.firstName.trim(),lastName:l.lastName.trim(),role:l.role};(a==="create"||l.password)&&(A.password=l.password),await t(A),e()}catch(A){console.error("Error saving user:",A)}finally{h(!1)}}},x=(w,A)=>{c(_=>({..._,[w]:A})),f[w]&&p(_=>({..._,[w]:""}))};return r?m.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[m.jsx("div",{className:"fixed inset-0 bg-black/50",onClick:e}),m.jsxs("div",{className:"relative bg-background border rounded-lg shadow-lg p-6 w-full max-w-md mx-4",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h2",{className:"text-lg font-semibold",children:a==="create"?"Create New User":"Edit User"}),m.jsx(pe,{variant:"ghost",size:"icon",onClick:e,children:m.jsx(yx,{className:"h-4 w-4"})})]}),m.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:a==="create"?"Add a new user to the system.":"Update user information."}),m.jsxs("form",{onSubmit:v,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(ze,{htmlFor:"firstName",children:"First Name"}),m.jsx(Qe,{id:"firstName",value:l.firstName,onChange:w=>x("firstName",w.target.value),className:f.firstName?"border-red-500":""}),f.firstName&&m.jsx("p",{className:"text-sm text-red-500",children:f.firstName})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ze,{htmlFor:"lastName",children:"Last Name"}),m.jsx(Qe,{id:"lastName",value:l.lastName,onChange:w=>x("lastName",w.target.value),className:f.lastName?"border-red-500":""}),f.lastName&&m.jsx("p",{className:"text-sm text-red-500",children:f.lastName})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ze,{htmlFor:"username",children:"Username"}),m.jsx(Qe,{id:"username",value:l.username,onChange:w=>x("username",w.target.value),className:f.username?"border-red-500":""}),f.username&&m.jsx("p",{className:"text-sm text-red-500",children:f.username})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ze,{htmlFor:"email",children:"Email"}),m.jsx(Qe,{id:"email",type:"email",value:l.email,onChange:w=>x("email",w.target.value),className:f.email?"border-red-500":""}),f.email&&m.jsx("p",{className:"text-sm text-red-500",children:f.email})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(ze,{htmlFor:"role",children:"Role"}),m.jsxs("select",{id:"role",value:l.role,onChange:w=>x("role",w.target.value),className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",children:[m.jsx("option",{value:"admin",children:"Admin"}),m.jsx("option",{value:"user",children:"User"})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs(ze,{htmlFor:"password",children:["Password ",a==="edit"&&"(leave blank to keep current)"]}),m.jsx(Qe,{id:"password",type:"password",value:l.password,onChange:w=>x("password",w.target.value),className:f.password?"border-red-500":""}),f.password&&m.jsx("p",{className:"text-sm text-red-500",children:f.password})]}),m.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[m.jsx(pe,{type:"button",variant:"outline",onClick:e,children:"Cancel"}),m.jsxs(pe,{type:"submit",disabled:d,children:[d&&m.jsx(Mo,{className:"mr-2 h-4 w-4 animate-spin"}),a==="create"?"Create User":"Update User"]})]})]})]})]}):null},vk=()=>{const[r,e]=S.useState([]),[t,s]=S.useState(!0),[a,l]=S.useState(""),[c,d]=S.useState(""),[h,f]=S.useState(!1),[p,b]=S.useState(null),[v,x]=S.useState("create"),{toast:w}=Kc(),{t:A}=Ka(),_=S.useCallback(async()=>{try{s(!0),d("");const D=await _t.getUsers();e(D)}catch(D){const Y=D instanceof Ot?D.message:"Failed to fetch users";d(Y),w({title:"Error",description:Y,variant:"destructive"})}finally{s(!1)}},[w]);S.useEffect(()=>{_()},[_]);const C=()=>{b(null),x("create"),f(!0)},k=D=>{b(D),x("edit"),f(!0)},N=async D=>{try{if(v==="create"){const Y=await _t.createUser(D);e(te=>[Y,...te]),w({title:"Success",description:"User created successfully"})}else if(p&&p._id){const Y=await _t.updateUser(p._id,D);e(te=>te.map(H=>H._id===p._id?Y:H)),w({title:"Success",description:"User updated successfully"})}}catch(Y){let te="Failed to update user";throw Y instanceof Ot?te=Y.message:v==="create"&&(te="Failed to create user"),w({title:"Error",description:te,variant:"destructive"}),Y}},M=async D=>{if(window.confirm("Are you sure you want to delete this user?"))try{await _t.deleteUser(D),e((r||[]).filter(Y=>Y._id!==D)),w({title:"Success",description:"User deleted successfully"})}catch(Y){const te=Y instanceof Ot?Y.message:"Failed to delete user";w({title:"Error",description:te,variant:"destructive"})}},R=()=>{f(!1),b(null)},P=(r||[]).filter(D=>(D?.username?.toLowerCase()||"").includes(a.toLowerCase())||(D?.email?.toLowerCase()||"").includes(a.toLowerCase())||(D?.firstName?.toLowerCase()||"").includes(a.toLowerCase())||(D?.lastName?.toLowerCase()||"").includes(a.toLowerCase())),O=D=>new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return m.jsx("div",{className:"min-h-screen bg-blue-50",children:m.jsxs("div",{className:"space-y-6 p-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:A("users.title")}),m.jsx("p",{className:"text-muted-foreground",children:A("users.subtitle")})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsxs(pe,{onClick:_,disabled:t,variant:"outline",size:"sm",children:[m.jsx(FT,{className:`h-4 w-4 mr-2 ${t?"animate-spin":""}`}),A("common.refresh")]}),m.jsxs(pe,{onClick:C,children:[m.jsx(si,{className:"h-4 w-4 mr-2"}),A("users.addMember")]})]})]}),m.jsx("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm p-6",children:m.jsx("div",{className:"flex space-x-4",children:m.jsxs("div",{className:"relative flex-1",children:[m.jsx(lm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),m.jsx(Qe,{placeholder:A("users.searchPlaceholder"),value:a,onChange:D=>l(D.target.value),className:"pl-10"})]})})}),c&&m.jsx(tu,{variant:"destructive",children:m.jsx(nu,{children:c})}),m.jsxs("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:[m.jsx("div",{className:"p-6 border-b",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-lg font-semibold",children:A("users.title")}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:[P.length," ",A("users.title").toLowerCase()," found"]})]}),m.jsxs(pe,{variant:"outline",size:"sm",children:[m.jsx(Ro,{className:"h-4 w-4 mr-2"}),A("common.filter")]})]})}),m.jsxs("div",{className:"p-6",children:[t&&m.jsxs("div",{className:"flex items-center justify-center py-8",children:[m.jsx(Mo,{className:"h-8 w-8 animate-spin"}),m.jsx("span",{className:"ml-2",children:A("users.loadingMembers")})]}),!t&&P.length===0&&m.jsxs("div",{className:"text-center py-8",children:[m.jsx(xo,{className:"mx-auto h-12 w-12 text-muted-foreground"}),m.jsx("h3",{className:"mt-2 text-sm font-medium",children:A("users.noMembersFound")}),m.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:A(a?"users.tryAdjustingSearch":"users.getStartedAdding")})]}),!t&&P.length>0&&m.jsx("div",{className:"space-y-4",children:P.map(D=>m.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("div",{className:"w-10 h-10 bg-muted rounded-full flex items-center justify-center",children:m.jsx(xo,{className:"h-5 w-5 text-muted-foreground"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium",children:D.firstName&&D.lastName?`${D.firstName} ${D.lastName}`:D.username||"No username"}),D.firstName&&D.lastName&&m.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",D.username]}),m.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx(mx,{className:"h-3 w-3 mr-1"}),D.email||"No email"]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx(sm,{className:"h-3 w-3 mr-1"}),D.createdAt?O(D.createdAt):"No date"]})]})]})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${(D.role||"user")==="admin"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"}`,children:D.role||"user"}),m.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>k(D),children:m.jsx(Lc,{className:"h-4 w-4"})}),m.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>D._id&&M(D._id),disabled:!D._id,children:m.jsx(Jc,{className:"h-4 w-4"})})]})]},D._id||Math.random()))})]})]}),m.jsx(bk,{isOpen:h,onClose:R,onSave:N,user:p,mode:v})]})})},xk=()=>{const r=[{id:1,name:"Employment Agreement - John Smith",status:"Signed",date:"2024-01-15",size:"2.3 MB",type:"PDF",icon:yo,color:"text-green-600"},{id:2,name:"NDA - TechCorp Partnership",status:"Pending",date:"2024-01-14",size:"1.8 MB",type:"PDF",icon:bo,color:"text-yellow-600"},{id:3,name:"Service Contract - ABC Corp",status:"Draft",date:"2024-01-13",size:"3.1 MB",type:"PDF",icon:Lc,color:"text-primary"},{id:4,name:"Lease Agreement - Office Space",status:"Signed",date:"2024-01-12",size:"2.7 MB",type:"PDF",icon:yo,color:"text-green-600"},{id:5,name:"Privacy Policy Update",status:"Review",date:"2024-01-11",size:"1.2 MB",type:"PDF",icon:hx,color:"text-orange-600"}];return m.jsx("div",{className:"min-h-screen bg-blue-50",children:m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsx("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-slate-200",children:m.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-12 h-12 bg-slate-600 rounded-2xl flex items-center justify-center shadow-lg",children:m.jsx(un,{className:"h-6 w-6 text-white"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold tracking-tight text-slate-900",children:"Documents"}),m.jsx("p",{className:"text-slate-600 mt-1",children:"Manage your documents and track signing progress"})]})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs(pe,{variant:"outline",className:"shadow-sm",children:[m.jsx(zi,{className:"h-4 w-4 mr-2"}),"Upload"]}),m.jsxs(pe,{className:"bg-slate-600 hover:bg-slate-700 text-white shadow-lg",children:[m.jsx(si,{className:"h-4 w-4 mr-2"}),"New Document"]})]})]})}),m.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200",children:m.jsxs("div",{className:"flex space-x-4",children:[m.jsxs("div",{className:"relative flex-1",children:[m.jsx(lm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),m.jsx("input",{placeholder:"Search documents...",className:"w-full pl-10 pr-4 py-2 border border-input rounded-md bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring"})]}),m.jsxs(pe,{variant:"outline",children:[m.jsx(Ro,{className:"h-4 w-4 mr-2"}),"Filter"]})]})}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(e=>m.jsx(yt,{className:"group hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:m.jsxs(bt,{className:"p-6",children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-10 h-10 bg-muted rounded-lg flex items-center justify-center",children:m.jsx(un,{className:"h-5 w-5 text-muted-foreground"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-sm line-clamp-2",children:e.name}),m.jsxs("p",{className:"text-xs text-muted-foreground",children:[e.type,"  ",e.size]})]})]}),m.jsx(pe,{variant:"ghost",size:"sm",children:m.jsx(fx,{className:"h-4 w-4"})})]}),m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx(e.icon,{className:`h-4 w-4 ${e.color}`}),m.jsx("span",{className:`text-sm font-medium ${e.color}`,children:e.status})]}),m.jsx("span",{className:"text-xs text-muted-foreground",children:e.date})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsxs(pe,{variant:"outline",size:"sm",className:"flex-1",children:[m.jsx(vo,{className:"h-4 w-4 mr-1"}),"View"]}),m.jsxs(pe,{variant:"outline",size:"sm",className:"flex-1",children:[m.jsx(Lc,{className:"h-4 w-4 mr-1"}),"Edit"]}),m.jsx(pe,{variant:"outline",size:"sm",children:m.jsx(am,{className:"h-4 w-4"})})]})]})},e.id))}),r.length===0&&m.jsxs("div",{className:"bg-white rounded-2xl p-12 shadow-sm border border-slate-200 text-center",children:[m.jsx("div",{className:"w-16 h-16 bg-slate-100 rounded-2xl flex items-center justify-center mx-auto mb-6",children:m.jsx(un,{className:"h-8 w-8 text-slate-400"})}),m.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:"No documents found"}),m.jsx("p",{className:"text-slate-600 mb-6",children:"Get started by uploading your first document."}),m.jsxs(pe,{className:"bg-slate-600 hover:bg-slate-700 text-white shadow-lg",children:[m.jsx(si,{className:"h-4 w-4 mr-2"}),"Upload Document"]})]})]})})},wk=()=>{const r=[{id:1,name:"Employment Agreement",description:"Standard employment contract template",category:"HR",lastUsed:"2 days ago",usage:45,isFavorite:!0},{id:2,name:"Non-Disclosure Agreement",description:"Confidentiality agreement template",category:"Legal",lastUsed:"1 week ago",usage:23,isFavorite:!1},{id:3,name:"Service Contract",description:"Professional services agreement",category:"Business",lastUsed:"3 days ago",usage:67,isFavorite:!0},{id:4,name:"Lease Agreement",description:"Property rental agreement",category:"Real Estate",lastUsed:"1 month ago",usage:12,isFavorite:!1},{id:5,name:"Purchase Order",description:"Standard purchase order form",category:"Business",lastUsed:"5 days ago",usage:89,isFavorite:!1},{id:6,name:"Consulting Agreement",description:"Independent contractor agreement",category:"Business",lastUsed:"1 week ago",usage:34,isFavorite:!0}],e=["All","HR","Legal","Business","Real Estate"];return m.jsx("div",{className:"min-h-screen bg-blue-50",children:m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-blue-100",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold tracking-tight text-slate-900",children:"Templates"}),m.jsx("p",{className:"text-slate-600 mt-1",children:"Create and manage document templates for faster workflows"})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsxs(pe,{variant:"outline",className:"border-blue-200 hover:bg-blue-50",children:[m.jsx(si,{className:"h-4 w-4 mr-2"}),"Import Template"]}),m.jsxs(pe,{className:"bg-primary hover:bg-primary/90 text-white",children:[m.jsx(si,{className:"h-4 w-4 mr-2"}),"Create Template"]})]})]})}),m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-blue-100 p-6",children:[m.jsxs("div",{className:"flex space-x-4",children:[m.jsxs("div",{className:"relative flex-1",children:[m.jsx(lm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-500 h-4 w-4"}),m.jsx("input",{placeholder:"Search templates...",className:"w-full pl-10 pr-4 py-2 border border-blue-200 rounded-lg bg-white text-slate-900 placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),m.jsxs(pe,{variant:"outline",className:"border-blue-200 hover:bg-blue-50",children:[m.jsx(Ro,{className:"h-4 w-4 mr-2"}),"Filter"]})]}),m.jsx("div",{className:"flex space-x-2 mt-4",children:e.map(t=>m.jsx(pe,{variant:t==="All"?"default":"outline",size:"sm",children:t},t))})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(t=>m.jsx(yt,{className:"group hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:m.jsxs(bt,{className:"p-6",children:[m.jsxs("div",{className:"flex items-start justify-between mb-4",children:[m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:m.jsx(un,{className:"h-5 w-5 text-primary"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold text-sm",children:t.name}),m.jsx("p",{className:"text-xs text-muted-foreground",children:t.category})]})]}),m.jsxs("div",{className:"flex items-center space-x-1",children:[t.isFavorite&&m.jsx(nN,{className:"h-4 w-4 text-yellow-500 fill-current"}),m.jsx(pe,{variant:"ghost",size:"sm",children:m.jsx(fx,{className:"h-4 w-4"})})]})]}),m.jsx("p",{className:"text-sm text-muted-foreground mb-4 line-clamp-2",children:t.description}),m.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-4",children:[m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(Oc,{className:"h-3 w-3"}),m.jsxs("span",{children:[t.usage," uses"]})]}),m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(bo,{className:"h-3 w-3"}),m.jsx("span",{children:t.lastUsed})]})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsxs(pe,{variant:"outline",size:"sm",className:"flex-1",children:[m.jsx(vo,{className:"h-4 w-4 mr-1"}),"Preview"]}),m.jsxs(pe,{variant:"outline",size:"sm",className:"flex-1",children:[m.jsx(co,{className:"h-4 w-4 mr-1"}),"Use"]}),m.jsx(pe,{variant:"outline",size:"sm",children:m.jsx(Lc,{className:"h-4 w-4"})})]})]})},t.id))}),r.length===0&&m.jsxs("div",{className:"text-center py-12",children:[m.jsx(un,{className:"mx-auto h-12 w-12 text-muted-foreground"}),m.jsx("h3",{className:"mt-2 text-sm font-medium",children:"No templates found"}),m.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Get started by creating your first template."}),m.jsx("div",{className:"mt-6",children:m.jsxs(pe,{children:[m.jsx(si,{className:"h-4 w-4 mr-2"}),"Create Template"]})})]})]})})},Ak=()=>{const r=[{id:1,document:"Employment Agreement - John Smith",status:"Completed",riskLevel:"Low",confidence:95,issues:2,suggestions:5,lastAnalyzed:"2 hours ago"},{id:2,document:"NDA - TechCorp Partnership",status:"In Progress",riskLevel:"Medium",confidence:87,issues:4,suggestions:8,lastAnalyzed:"1 hour ago"},{id:3,document:"Service Contract - ABC Corp",status:"Completed",riskLevel:"High",confidence:92,issues:7,suggestions:12,lastAnalyzed:"3 hours ago"}],e=[{factor:"Payment Terms",risk:"High",impact:"Financial"},{factor:"Termination Clauses",risk:"Medium",impact:"Legal"},{factor:"Intellectual Property",risk:"Low",impact:"Legal"},{factor:"Confidentiality",risk:"Medium",impact:"Compliance"}],t=[{type:"warning",title:"Payment Terms Risk",description:"Payment terms are not clearly defined and could lead to disputes.",icon:pv},{type:"success",title:"Strong Confidentiality Clause",description:"The confidentiality section is well-structured and comprehensive.",icon:yo},{type:"info",title:"Consider Adding Force Majeure",description:"Adding a force majeure clause could protect against unforeseen circumstances.",icon:Af}];return m.jsx("div",{className:"min-h-screen bg-blue-50",children:m.jsxs("div",{className:"p-6 space-y-6",children:[m.jsx("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-blue-100",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold tracking-tight text-slate-900",children:"AI Document Analysis"}),m.jsx("p",{className:"text-slate-600 mt-1",children:"Analyze documents for risks, compliance, and optimization opportunities"})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsxs(pe,{variant:"outline",className:"border-blue-200 hover:bg-blue-50",children:[m.jsx(zi,{className:"h-4 w-4 mr-2"}),"Upload Document"]}),m.jsxs(pe,{className:"bg-primary hover:bg-primary/90 text-white",children:[m.jsx(Af,{className:"h-4 w-4 mr-2"}),"Analyze Document"]})]})]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[m.jsx(yt,{children:m.jsx(bt,{className:"p-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Documents Analyzed"}),m.jsx("p",{className:"text-2xl font-bold",children:"24"})]}),m.jsx(im,{className:"h-8 w-8 text-primary"})]})})}),m.jsx(yt,{children:m.jsx(bt,{className:"p-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Risk Issues Found"}),m.jsx("p",{className:"text-2xl font-bold",children:"13"})]}),m.jsx(pv,{className:"h-8 w-8 text-orange-500"})]})})}),m.jsx(yt,{children:m.jsx(bt,{className:"p-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Suggestions Generated"}),m.jsx("p",{className:"text-2xl font-bold",children:"47"})]}),m.jsx(iN,{className:"h-8 w-8 text-green-500"})]})})}),m.jsx(yt,{children:m.jsx(bt,{className:"p-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Avg. Confidence"}),m.jsx("p",{className:"text-2xl font-bold",children:"91%"})]}),m.jsx(Ef,{className:"h-8 w-8 text-blue-600"})]})})})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsx(yt,{children:m.jsxs(bt,{className:"p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h2",{className:"text-lg font-semibold",children:"Recent Analysis"}),m.jsx(TC,{className:"h-4 w-4 text-muted-foreground"})]}),m.jsx("div",{className:"space-y-4",children:r.map(s=>m.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",children:[m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-lg flex items-center justify-center",children:m.jsx(un,{className:"h-5 w-5 text-primary"})}),m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-sm",children:s.document}),m.jsx("p",{className:"text-xs text-muted-foreground",children:s.lastAnalyzed})]})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.riskLevel==="Low"?"bg-green-100 text-green-800":s.riskLevel==="Medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[s.riskLevel," Risk"]}),m.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.status==="Completed"?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:s.status})]})]},s.id))})]})}),m.jsx(yt,{children:m.jsxs(bt,{className:"p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h2",{className:"text-lg font-semibold",children:"Risk Analysis"}),m.jsx(BC,{className:"h-4 w-4 text-muted-foreground"})]}),m.jsx("div",{className:"space-y-4",children:e.map((s,a)=>m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-sm",children:s.factor}),m.jsx("p",{className:"text-xs text-muted-foreground",children:s.impact})]}),m.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.risk==="Low"?"bg-green-100 text-green-800":s.risk==="Medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:s.risk})]},a))})]})})]}),m.jsx(yt,{children:m.jsxs(bt,{className:"p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h2",{className:"text-lg font-semibold",children:"AI Insights & Recommendations"}),m.jsx(AN,{className:"h-4 w-4 text-muted-foreground"})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t.map((s,a)=>m.jsx("div",{className:`p-4 rounded-lg border ${s.type==="warning"?"border-orange-200 bg-orange-50":s.type==="success"?"border-green-200 bg-green-50":"border-blue-200 bg-blue-50"}`,children:m.jsxs("div",{className:"flex items-start space-x-3",children:[m.jsx(s.icon,{className:`h-5 w-5 mt-0.5 ${s.type==="warning"?"text-orange-600":s.type==="success"?"text-green-600":"text-primary"}`}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium text-sm mb-1",children:s.title}),m.jsx("p",{className:"text-xs text-muted-foreground",children:s.description})]})]})},a))})]})})]})})},Sk=()=>{const[r,e]=S.useState(""),[t,s]=S.useState(!1),a=[{id:1,type:"user",message:"Can you explain the termination clause in my employment contract?",timestamp:"2:30 PM",document:"Employment Agreement - John Smith"},{id:2,type:"ai",message:`I'd be happy to help explain the termination clause. Based on your employment contract, here are the key points:

1. **Notice Period**: Either party can terminate with 30 days written notice
2. **Immediate Termination**: The company can terminate immediately for cause (misconduct, violation of policies)
3. **Severance**: You're entitled to 2 weeks severance pay if terminated without cause
4. **Non-compete**: 6-month non-compete clause applies after termination

Would you like me to elaborate on any of these points?`,timestamp:"2:31 PM",suggestions:["Explain non-compete clause","What constitutes 'cause'?","Severance calculation"]},{id:3,type:"user",message:"What constitutes 'cause' for immediate termination?",timestamp:"2:32 PM"},{id:4,type:"ai",message:`According to your contract, 'cause' for immediate termination includes:

 **Gross misconduct** or violation of company policies
 **Criminal activity** or behavior that damages company reputation
 **Negligence** that results in significant financial loss
 **Breach of confidentiality** or non-disclosure agreements
 **Insubordination** or refusal to follow reasonable directives
 **Substance abuse** that affects job performance

These are fairly standard provisions, but they must be clearly documented and follow due process. Would you like me to explain your rights if you believe a termination was wrongful?`,timestamp:"2:33 PM",suggestions:["Wrongful termination rights","Documentation requirements","Legal recourse options"]}],l=[{name:"Employment Agreement - John Smith",lastAccessed:"2 hours ago"},{name:"NDA - TechCorp Partnership",lastAccessed:"1 day ago"},{name:"Service Contract - ABC Corp",lastAccessed:"3 days ago"}],c=()=>{r.trim()&&(console.log("Sending message:",r),e(""))},d=h=>{h.key==="Enter"&&!h.shiftKey&&(h.preventDefault(),c())};return m.jsx("div",{className:"min-h-screen bg-blue-50",children:m.jsxs("div",{className:"space-y-6 p-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"AI Chat Assistant"}),m.jsx("p",{className:"text-muted-foreground",children:"Get instant answers about your documents and contracts"})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsxs(pe,{variant:"outline",children:[m.jsx(zi,{className:"h-4 w-4 mr-2"}),"Upload Document"]}),m.jsxs(pe,{variant:"outline",children:[m.jsx(Jc,{className:"h-4 w-4 mr-2"}),"Clear Chat"]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[m.jsx("div",{className:"lg:col-span-3",children:m.jsx(yt,{className:"h-[600px] flex flex-col",children:m.jsxs(bt,{className:"flex-1 flex flex-col p-0",children:[m.jsx("div",{className:"p-4 border-b",children:m.jsxs("div",{className:"flex items-center space-x-3",children:[m.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:m.jsx(Qh,{className:"h-4 w-4 text-primary-foreground"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold",children:"AI Assistant"}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Online  Ready to help"})]})]})}),m.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:a.map(h=>m.jsx("div",{className:`flex ${h.type==="user"?"justify-end":"justify-start"}`,children:m.jsxs("div",{className:`max-w-[80%] ${h.type==="user"?"bg-primary text-primary-foreground":"bg-muted"} rounded-lg p-3`,children:[h.type==="ai"&&m.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[m.jsx(Qh,{className:"h-4 w-4"}),m.jsx("span",{className:"text-xs font-medium",children:"AI Assistant"})]}),m.jsx("p",{className:"text-sm whitespace-pre-wrap",children:h.message}),m.jsxs("div",{className:"flex items-center justify-between mt-2",children:[m.jsx("span",{className:"text-xs opacity-70",children:h.timestamp}),h.type==="ai"&&m.jsxs("div",{className:"flex items-center space-x-1",children:[m.jsx(pe,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:m.jsx(co,{className:"h-3 w-3"})}),m.jsx(pe,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:m.jsx(lN,{className:"h-3 w-3"})}),m.jsx(pe,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0",children:m.jsx(rN,{className:"h-3 w-3"})})]})]}),h.suggestions&&m.jsx("div",{className:"mt-3 space-y-1",children:h.suggestions.map((f,p)=>m.jsx(pe,{variant:"outline",size:"sm",className:"h-7 text-xs mr-2",children:f},p))})]})},h.id))}),m.jsx("div",{className:"p-4 border-t",children:m.jsxs("div",{className:"flex items-end space-x-2",children:[m.jsx("div",{className:"flex-1",children:m.jsx("textarea",{value:r,onChange:h=>e(h.target.value),onKeyPress:d,placeholder:"Ask me anything about your documents...",className:"w-full p-3 border border-input rounded-lg bg-background text-foreground placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring resize-none",rows:3})}),m.jsxs("div",{className:"flex flex-col space-y-2",children:[m.jsx(pe,{variant:"outline",size:"sm",children:m.jsx(jT,{className:"h-4 w-4"})}),m.jsx(pe,{variant:"outline",size:"sm",onClick:()=>s(!t),children:t?m.jsx(CT,{className:"h-4 w-4"}):m.jsx(NT,{className:"h-4 w-4"})}),m.jsx(pe,{onClick:c,disabled:!r.trim(),children:m.jsx(cm,{className:"h-4 w-4"})})]})]})})]})})}),m.jsxs("div",{className:"space-y-6",children:[m.jsx(yt,{children:m.jsxs(bt,{className:"p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h3",{className:"font-semibold",children:"Recent Documents"}),m.jsx(un,{className:"h-4 w-4 text-muted-foreground"})]}),m.jsx("div",{className:"space-y-3",children:l.map((h,f)=>m.jsxs("div",{className:"flex items-center space-x-3 p-2 rounded-lg hover:bg-muted/50 transition-colors cursor-pointer",children:[m.jsx("div",{className:"w-8 h-8 bg-primary/10 rounded-lg flex items-center justify-center",children:m.jsx(un,{className:"h-4 w-4 text-primary"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("p",{className:"text-sm font-medium truncate",children:h.name}),m.jsx("p",{className:"text-xs text-muted-foreground",children:h.lastAccessed})]})]},f))})]})}),m.jsx(yt,{children:m.jsxs(bt,{className:"p-6",children:[m.jsx("h3",{className:"font-semibold mb-4",children:"Quick Actions"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs(pe,{variant:"outline",className:"w-full justify-start",children:[m.jsx(un,{className:"h-4 w-4 mr-2"}),"Analyze Document"]}),m.jsxs(pe,{variant:"outline",className:"w-full justify-start",children:[m.jsx(rm,{className:"h-4 w-4 mr-2"}),"Contract Review"]}),m.jsxs(pe,{variant:"outline",className:"w-full justify-start",children:[m.jsx(Qh,{className:"h-4 w-4 mr-2"}),"Legal Q&A"]})]})]})})]})]})]})})},Ek=()=>{const r=[{title:"Total Documents",value:"1,247",change:"+23%",trend:"up",icon:un},{title:"Documents Signed",value:"1,156",change:"+18%",trend:"up",icon:yo},{title:"Pending Signatures",value:"89",change:"-5%",trend:"down",icon:bo},{title:"Active Users",value:"42",change:"+12%",trend:"up",icon:Oc}],e=[{action:"Document signed",user:"John Smith",document:"Employment Agreement",time:"2 minutes ago",type:"success"},{action:"Document uploaded",user:"Sarah Johnson",document:"Service Contract",time:"15 minutes ago",type:"info"},{action:"Signature pending",user:"Mike Chen",document:"NDA Agreement",time:"1 hour ago",type:"warning"},{action:"Document completed",user:"Emily Davis",document:"Lease Agreement",time:"2 hours ago",type:"success"}],t=[{name:"Employment Agreement",count:45,percentage:35},{name:"Service Contract",count:32,percentage:25},{name:"NDA Agreement",count:28,percentage:22},{name:"Lease Agreement",count:23,percentage:18}],s=[{user:"John Smith",documents:12,lastActive:"2 hours ago"},{user:"Sarah Johnson",documents:8,lastActive:"4 hours ago"},{user:"Mike Chen",documents:15,lastActive:"1 hour ago"},{user:"Emily Davis",documents:6,lastActive:"3 hours ago"}];return m.jsx("div",{className:"min-h-screen bg-blue-50",children:m.jsxs("div",{className:"space-y-6 p-6",children:[m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Analytics"}),m.jsx("p",{className:"text-muted-foreground",children:"Track your document workflow performance and insights"})]}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsxs("button",{className:"px-3 py-2 border border-input rounded-md hover:bg-muted transition-colors",children:[m.jsx(Ro,{className:"h-4 w-4 mr-2"}),"Filter"]}),m.jsxs("button",{className:"px-3 py-2 border border-input rounded-md hover:bg-muted transition-colors",children:[m.jsx(am,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:r.map(a=>m.jsx(yt,{children:m.jsx(bt,{className:"p-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:a.title}),m.jsx("p",{className:"text-2xl font-bold",children:a.value}),m.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[a.trend==="up"?m.jsx(Ef,{className:"h-4 w-4 text-green-600"}):m.jsx(dN,{className:"h-4 w-4 text-red-600"}),m.jsx("span",{className:`text-sm font-medium ${a.trend==="up"?"text-green-600":"text-red-600"}`,children:a.change})]})]}),m.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center",children:m.jsx(a.icon,{className:"h-6 w-6 text-primary"})})]})})},a.title))}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsx(yt,{children:m.jsxs(bt,{className:"p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h2",{className:"text-lg font-semibold",children:"Recent Activity"}),m.jsx(sm,{className:"h-4 w-4 text-muted-foreground"})]}),m.jsx("div",{className:"space-y-4",children:e.map((a,l)=>m.jsxs("div",{className:"flex items-center space-x-4",children:[m.jsx("div",{className:`w-2 h-2 rounded-full ${a.type==="success"?"bg-green-500":a.type==="warning"?"bg-yellow-500":"bg-blue-600"}`}),m.jsxs("div",{className:"flex-1",children:[m.jsx("p",{className:"text-sm font-medium",children:a.action}),m.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.user,"  ",a.document]})]}),m.jsx("span",{className:"text-xs text-muted-foreground",children:a.time})]},l))})]})}),m.jsx(yt,{children:m.jsxs(bt,{className:"p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h2",{className:"text-lg font-semibold",children:"Top Documents"}),m.jsx(im,{className:"h-4 w-4 text-muted-foreground"})]}),m.jsx("div",{className:"space-y-4",children:t.map((a,l)=>m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-sm font-medium",children:a.name}),m.jsxs("span",{className:"text-sm text-muted-foreground",children:[a.count," docs"]})]}),m.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:m.jsx("div",{className:"bg-primary h-2 rounded-full",style:{width:`${a.percentage}%`}})})]},l))})]})})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsx(yt,{children:m.jsxs(bt,{className:"p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h2",{className:"text-lg font-semibold",children:"User Activity"}),m.jsx(Oc,{className:"h-4 w-4 text-muted-foreground"})]}),m.jsx("div",{className:"space-y-4",children:s.map((a,l)=>m.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-medium text-sm",children:a.user}),m.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.documents," documents"]})]}),m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"text-xs text-muted-foreground",children:"Last active"}),m.jsx("p",{className:"text-sm font-medium",children:a.lastActive})]})]},l))})]})}),m.jsx(yt,{children:m.jsxs(bt,{className:"p-6",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsx("h2",{className:"text-lg font-semibold",children:"Performance Metrics"}),m.jsx(Ef,{className:"h-4 w-4 text-muted-foreground"})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-sm",children:"Average Signing Time"}),m.jsx("span",{className:"font-medium",children:"2.3 days"})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-sm",children:"Completion Rate"}),m.jsx("span",{className:"font-medium",children:"94.2%"})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-sm",children:"User Satisfaction"}),m.jsx("span",{className:"font-medium",children:"4.8/5"})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-sm",children:"System Uptime"}),m.jsx("span",{className:"font-medium",children:"99.9%"})]})]})]})})]})]})})},_k=()=>m.jsx("div",{children:"SettingsPage"}),Ck=[{id:"select",label:"Select",icon:MT,description:"Select and move elements"},{id:"text",label:"Text",icon:eu,description:"Add text annotation"},{id:"signature",label:"Signature",icon:om,description:"Add signature field"},{id:"rectangle",label:"Rectangle",icon:gx,description:"Add rectangle"}],Tk=({selectedTool:r,onToolSelect:e,onSave:t,onUndo:s,onRedo:a,canUndo:l,canRedo:c,scale:d,onScaleChange:h,currentPage:f,totalPages:p,onPageChange:b})=>m.jsx("div",{className:"bg-card border-b border-border shadow-sm",children:m.jsx("div",{className:"px-4 py-3",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("div",{className:"flex items-center space-x-2",children:Ck.map(v=>{const x=r===v.id;return m.jsxs(pe,{onClick:()=>e(v.id),variant:x?"default":"outline",size:"sm",className:`flex items-center space-x-1 ${x?"bg-primary hover:bg-primary/90 text-primary-foreground":"hover:bg-accent"}`,title:v.description,children:[m.jsx(v.icon,{className:"h-4 w-4"}),m.jsx("span",{className:"text-xs font-medium",children:v.label})]},v.id)})}),m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsxs(pe,{onClick:s,disabled:!l,variant:"outline",size:"sm",className:"flex items-center space-x-1",children:[m.jsx(gN,{className:"h-4 w-4"}),m.jsx("span",{children:"Undo"})]}),m.jsxs(pe,{onClick:a,disabled:!c,variant:"outline",size:"sm",className:"flex items-center space-x-1",children:[m.jsx(IT,{className:"h-4 w-4"}),m.jsx("span",{children:"Redo"})]}),m.jsxs(pe,{onClick:t,className:"bg-primary hover:bg-primary/90 text-primary-foreground flex items-center space-x-1",size:"sm",children:[m.jsx(am,{className:"h-4 w-4"}),m.jsx("span",{children:"Save PDF"})]})]})]})})}),Zt=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Nf=[.001,0,0,.001,0,0],ef=1.35,bn={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},ss={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Ox="pdfjs_internal_editor_",Ee={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,SIGNATURE:101},Le={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},Ix={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Yt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},uo={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},mt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Da={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Do={ERRORS:0,WARNINGS:1,INFOS:5},wo={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},uc={moveTo:0,lineTo:1,curveTo:2,closePath:3},zx={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let su=Do.WARNINGS;function Nk(r){Number.isInteger(r)&&(su=r)}function kk(){return su}function iu(r){su>=Do.INFOS&&console.log(`Info: ${r}`)}function Ce(r){su>=Do.WARNINGS&&console.log(`Warning: ${r}`)}function Ye(r){throw new Error(r)}function Ct(r,e){r||Ye(e)}function Rk(r){switch(r?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function gm(r,e=null,t=null){if(!r)return null;if(t&&typeof r=="string"&&(t.addDefaultProtocol&&r.startsWith("www.")&&r.match(/\./g)?.length>=2&&(r=`http://${r}`),t.tryConvertEncoding))try{r=Lk(r)}catch{}const s=e?URL.parse(r,e):URL.parse(r);return Rk(s)?s:null}function ym(r,e,t=!1){const s=URL.parse(r);return s?(s.hash=e,s.href):t&&gm(r,"http://example.com")?r.split("#",1)[0]+`${e?`#${e}`:""}`:""}function Pe(r,e,t,s=!1){return Object.defineProperty(r,e,{value:t,enumerable:!s,configurable:!0,writable:!1}),t}const Gi=(function(){function e(t,s){this.message=t,this.name=s}return e.prototype=new Error,e.constructor=e,e})();class xv extends Gi{constructor(e,t){super(e,"PasswordException"),this.code=t}}class tf extends Gi{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class Ic extends Gi{constructor(e){super(e,"InvalidPDFException")}}class Ao extends Gi{constructor(e,t,s){super(e,"ResponseException"),this.status=t,this.missing=s}}class Mk extends Gi{constructor(e){super(e,"FormatError")}}class Ns extends Gi{constructor(e){super(e,"AbortException")}}function Fx(r){(typeof r!="object"||r?.length===void 0)&&Ye("Invalid argument for bytesToString");const e=r.length,t=8192;if(e<t)return String.fromCharCode.apply(null,r);const s=[];for(let a=0;a<e;a+=t){const l=Math.min(a+t,e),c=r.subarray(a,l);s.push(String.fromCharCode.apply(null,c))}return s.join("")}function jo(r){typeof r!="string"&&Ye("Invalid argument for stringToBytes");const e=r.length,t=new Uint8Array(e);for(let s=0;s<e;++s)t[s]=r.charCodeAt(s)&255;return t}function Dk(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function jk(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function Pk(){try{return new Function(""),!0}catch{return!1}}class It{static get isLittleEndian(){return Pe(this,"isLittleEndian",jk())}static get isEvalSupported(){return Pe(this,"isEvalSupported",Pk())}static get isOffscreenCanvasSupported(){return Pe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Pe(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return Pe(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){return Pe(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const nf=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));class ye{static makeHexColor(e,t,s){return`#${nf[e]}${nf[t]}${nf[s]}`}static scaleMinMax(e,t){let s;e[0]?(e[0]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[3],t[3]*=e[3]):(s=t[0],t[0]=t[1],t[1]=s,s=t[2],t[2]=t[3],t[3]=s,e[1]<0&&(s=t[1],t[1]=t[3],t[3]=s),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(s=t[0],t[0]=t[2],t[2]=s),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t,s=0){const a=e[s],l=e[s+1];e[s]=a*t[0]+l*t[2]+t[4],e[s+1]=a*t[1]+l*t[3]+t[5]}static applyTransformToBezier(e,t,s=0){const a=t[0],l=t[1],c=t[2],d=t[3],h=t[4],f=t[5];for(let p=0;p<6;p+=2){const b=e[s+p],v=e[s+p+1];e[s+p]=b*a+v*c+h,e[s+p+1]=b*l+v*d+f}}static applyInverseTransform(e,t){const s=e[0],a=e[1],l=t[0]*t[3]-t[1]*t[2];e[0]=(s*t[3]-a*t[2]+t[2]*t[5]-t[4]*t[3])/l,e[1]=(-s*t[1]+a*t[0]+t[4]*t[1]-t[5]*t[0])/l}static axialAlignedBoundingBox(e,t,s){const a=t[0],l=t[1],c=t[2],d=t[3],h=t[4],f=t[5],p=e[0],b=e[1],v=e[2],x=e[3];let w=a*p+h,A=w,_=a*v+h,C=_,k=d*b+f,N=k,M=d*x+f,R=M;if(l!==0||c!==0){const P=l*p,O=l*v,D=c*b,Y=c*x;w+=D,C+=D,_+=Y,A+=Y,k+=P,R+=P,M+=O,N+=O}s[0]=Math.min(s[0],w,_,A,C),s[1]=Math.min(s[1],k,M,N,R),s[2]=Math.max(s[2],w,_,A,C),s[3]=Math.max(s[3],k,M,N,R)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const s=e[0],a=e[1],l=e[2],c=e[3],d=s**2+a**2,h=s*l+a*c,f=l**2+c**2,p=(d+f)/2,b=Math.sqrt(p**2-(d*f-h**2));t[0]=Math.sqrt(p+b||1),t[1]=Math.sqrt(p-b||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const s=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),a=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(s>a)return null;const l=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),c=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return l>c?null:[s,l,a,c]}static pointBoundingBox(e,t,s){s[0]=Math.min(s[0],e),s[1]=Math.min(s[1],t),s[2]=Math.max(s[2],e),s[3]=Math.max(s[3],t)}static rectBoundingBox(e,t,s,a,l){l[0]=Math.min(l[0],e,s),l[1]=Math.min(l[1],t,a),l[2]=Math.max(l[2],e,s),l[3]=Math.max(l[3],t,a)}static#e(e,t,s,a,l,c,d,h,f,p){if(f<=0||f>=1)return;const b=1-f,v=f*f,x=v*f,w=b*(b*(b*e+3*f*t)+3*v*s)+x*a,A=b*(b*(b*l+3*f*c)+3*v*d)+x*h;p[0]=Math.min(p[0],w),p[1]=Math.min(p[1],A),p[2]=Math.max(p[2],w),p[3]=Math.max(p[3],A)}static#t(e,t,s,a,l,c,d,h,f,p,b,v){if(Math.abs(f)<1e-12){Math.abs(p)>=1e-12&&this.#e(e,t,s,a,l,c,d,h,-b/p,v);return}const x=p**2-4*b*f;if(x<0)return;const w=Math.sqrt(x),A=2*f;this.#e(e,t,s,a,l,c,d,h,(-p+w)/A,v),this.#e(e,t,s,a,l,c,d,h,(-p-w)/A,v)}static bezierBoundingBox(e,t,s,a,l,c,d,h,f){f[0]=Math.min(f[0],e,d),f[1]=Math.min(f[1],t,h),f[2]=Math.max(f[2],e,d),f[3]=Math.max(f[3],t,h),this.#t(e,s,l,d,t,a,c,h,3*(-e+3*(s-l)+d),6*(e-2*s+l),3*(s-e),f),this.#t(e,s,l,d,t,a,c,h,3*(-t+3*(a-c)+h),6*(t-2*a+c),3*(a-t),f)}}function Lk(r){return decodeURIComponent(escape(r))}let sf=null,wv=null;function Ux(r){return sf||(sf=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,wv=new Map([["","t"]])),r.replaceAll(sf,(e,t,s)=>t?t.normalize("NFKC"):wv.get(s))}function bm(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const r=new Uint8Array(32);return crypto.getRandomValues(r),Fx(r)}const vm="pdfjs_internal_id_";function Ok(r,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[s,a,...l]=t;if(!r(s)&&!Number.isInteger(s)||!e(a))return!1;const c=l.length;let d=!0;switch(a.name){case"XYZ":if(c<2||c>3)return!1;break;case"Fit":case"FitB":return c===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(c>1)return!1;break;case"FitR":if(c!==4)return!1;d=!1;break;default:return!1}for(const h of l)if(!(typeof h=="number"||d&&h===null))return!1;return!0}function Xt(r,e,t){return Math.min(Math.max(r,e),t)}function Bx(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa(Fx(r))}function Ik(r){return Uint8Array.fromBase64?Uint8Array.fromBase64(r):jo(atob(r))}typeof Promise.try!="function"&&(Promise.try=function(r,...e){return new Promise(t=>{t(r(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(r){return r.reduce((e,t)=>e+t,0)});const As="http://www.w3.org/2000/svg";class Fi{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}async function Qa(r,e="text"){if(io(r,document.baseURI)){const t=await fetch(r);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,s)=>{const a=new XMLHttpRequest;a.open("GET",r,!0),a.responseType=e,a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(a.status===200||a.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(a.response);return}t(a.responseText);return}s(new Error(a.statusText))}},a.send(null)})}class Po{constructor({viewBox:e,userUnit:t,scale:s,rotation:a,offsetX:l=0,offsetY:c=0,dontFlip:d=!1}){this.viewBox=e,this.userUnit=t,this.scale=s,this.rotation=a,this.offsetX=l,this.offsetY=c,s*=t;const h=(e[2]+e[0])/2,f=(e[3]+e[1])/2;let p,b,v,x;switch(a%=360,a<0&&(a+=360),a){case 180:p=-1,b=0,v=0,x=1;break;case 90:p=0,b=1,v=1,x=0;break;case 270:p=0,b=-1,v=-1,x=0;break;case 0:p=1,b=0,v=0,x=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}d&&(v=-v,x=-x);let w,A,_,C;p===0?(w=Math.abs(f-e[1])*s+l,A=Math.abs(h-e[0])*s+c,_=(e[3]-e[1])*s,C=(e[2]-e[0])*s):(w=Math.abs(h-e[0])*s+l,A=Math.abs(f-e[1])*s+c,_=(e[2]-e[0])*s,C=(e[3]-e[1])*s),this.transform=[p*s,b*s,v*s,x*s,w-p*s*h-v*s*f,A-b*s*h-x*s*f],this.width=_,this.height=C}get rawDims(){const e=this.viewBox;return Pe(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:s=this.offsetX,offsetY:a=this.offsetY,dontFlip:l=!1}={}){return new Po({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:s,offsetY:a,dontFlip:l})}convertToViewportPoint(e,t){const s=[e,t];return ye.applyTransform(s,this.transform),s}convertToViewportRectangle(e){const t=[e[0],e[1]];ye.applyTransform(t,this.transform);const s=[e[2],e[3]];return ye.applyTransform(s,this.transform),[t[0],t[1],s[0],s[1]]}convertToPdfPoint(e,t){const s=[e,t];return ye.applyInverseTransform(s,this.transform),s}}class au extends Gi{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Lo(r){const e=r.length;let t=0;for(;t<e&&r[t].trim()==="";)t++;return r.substring(t,t+5).toLowerCase()==="data:"}function ru(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function Hx(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function Gx(r,e="document.pdf"){if(typeof r!="string")return e;if(Lo(r))return Ce('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const s=(d=>{try{return new URL(d)}catch{try{return new URL(decodeURIComponent(d))}catch{try{return new URL(d,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(d),"https://foo.bar")}catch{return null}}}}})(r);if(!s)return e;const a=d=>{try{let h=decodeURIComponent(d);return h.includes("/")?(h=h.split("/").at(-1),h.test(/^\.pdf$/i)?h:d):h}catch{return d}},l=/\.pdf$/i,c=s.pathname.split("/").at(-1);if(l.test(c))return a(c);if(s.searchParams.size>0){const d=Array.from(s.searchParams.values()).reverse();for(const f of d)if(l.test(f))return a(f);const h=Array.from(s.searchParams.keys()).reverse();for(const f of h)if(l.test(f))return a(f)}if(s.hash){const h=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(s.hash);if(h)return a(h[0])}return e}class Av{started=Object.create(null);times=[];time(e){e in this.started&&Ce(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Ce(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:s}of this.times)t=Math.max(s.length,t);for(const{name:s,start:a,end:l}of this.times)e.push(`${s.padEnd(t)} ${l-a}ms
`);return e.join("")}}function io(r,e){const t=e?URL.parse(r,e):URL.parse(r);return t?.protocol==="http:"||t?.protocol==="https:"}function Pn(r){r.preventDefault()}function gt(r){r.preventDefault(),r.stopPropagation()}function zk(r){console.log("Deprecated API usage: "+r)}class xm{static#e;static toDateObject(e){if(!e||typeof e!="string")return null;this.#e||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const t=this.#e.exec(e);if(!t)return null;const s=parseInt(t[1],10);let a=parseInt(t[2],10);a=a>=1&&a<=12?a-1:0;let l=parseInt(t[3],10);l=l>=1&&l<=31?l:1;let c=parseInt(t[4],10);c=c>=0&&c<=23?c:0;let d=parseInt(t[5],10);d=d>=0&&d<=59?d:0;let h=parseInt(t[6],10);h=h>=0&&h<=59?h:0;const f=t[7]||"Z";let p=parseInt(t[8],10);p=p>=0&&p<=23?p:0;let b=parseInt(t[9],10)||0;return b=b>=0&&b<=59?b:0,f==="-"?(c+=p,d+=b):f==="+"&&(c-=p,d-=b),new Date(Date.UTC(s,a,l,c,d,h))}}function qx(r,{scale:e=1,rotation:t=0}){const{width:s,height:a}=r.attributes.style,l=[0,0,parseInt(s),parseInt(a)];return new Po({viewBox:l,userUnit:1,scale:e,rotation:t})}function wm(r){if(r.startsWith("#")){const e=parseInt(r.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(e=>parseInt(e)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Ce(`Not a valid color format: "${r}"`),[0,0,0])}function Fk(r){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of r.keys()){e.style.color=t;const s=window.getComputedStyle(e).color;r.set(t,wm(s))}e.remove()}function at(r){const{a:e,b:t,c:s,d:a,e:l,f:c}=r.getTransform();return[e,t,s,a,l,c]}function Zn(r){const{a:e,b:t,c:s,d:a,e:l,f:c}=r.getTransform().invertSelf();return[e,t,s,a,l,c]}function ai(r,e,t=!1,s=!0){if(e instanceof Po){const{pageWidth:a,pageHeight:l}=e.rawDims,{style:c}=r,d=It.isCSSRoundSupported,h=`var(--total-scale-factor) * ${a}px`,f=`var(--total-scale-factor) * ${l}px`,p=d?`round(down, ${h}, var(--scale-round-x))`:`calc(${h})`,b=d?`round(down, ${f}, var(--scale-round-y))`:`calc(${f})`;!t||e.rotation%180===0?(c.width=p,c.height=b):(c.width=b,c.height=p)}s&&r.setAttribute("data-main-rotation",e.rotation)}class Bn{constructor(){const{pixelRatio:e}=Bn;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,s,a,l=-1){let c=1/0,d=1/0,h=1/0;s=Bn.capPixels(s,l),s>0&&(c=Math.sqrt(s/(e*t))),a!==-1&&(d=a/e,h=a/t);const f=Math.min(c,d,h);return this.sx>f||this.sy>f?(this.sx=f,this.sy=f,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const s=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,s):s}return e}}const zc=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class ho{#e=null;#t=null;#n;#s=null;#a=null;#i=null;static#o=null;constructor(e){this.#n=e,ho.#o||=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"})}render(){const e=this.#e=document.createElement("div");e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=this.#n._uiManager._signal;e.addEventListener("contextmenu",Pn,{signal:t}),e.addEventListener("pointerdown",ho.#r,{signal:t});const s=this.#s=document.createElement("div");s.className="buttons",e.append(s);const a=this.#n.toolbarPosition;if(a){const{style:l}=e,c=this.#n._uiManager.direction==="ltr"?1-a[0]:a[0];l.insetInlineEnd=`${100*c}%`,l.top=`calc(${100*a[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return this.#e}static#r(e){e.stopPropagation()}#d(e){this.#n._focusEventsAllowed=!1,gt(e)}#l(e){this.#n._focusEventsAllowed=!0,gt(e)}#h(e){const t=this.#n._uiManager._signal;e.addEventListener("focusin",this.#d.bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",this.#l.bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Pn,{signal:t})}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden"),this.#a?.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=this.#n,s=document.createElement("button");s.className="delete",s.tabIndex=0,s.setAttribute("data-l10n-id",ho.#o[e]),this.#h(s),s.addEventListener("click",a=>{t.delete()},{signal:t._signal}),this.#s.append(s)}get#u(){const e=document.createElement("div");return e.className="divider",e}async addAltText(e){const t=await e.render();this.#h(t),this.#s.append(t,this.#u),this.#a=e}addColorPicker(e){this.#t=e;const t=e.renderButton();this.#h(t),this.#s.append(t,this.#u)}async addEditSignatureButton(e){const t=this.#i=await e.renderEditButton(this.#n);this.#h(t),this.#s.append(t,this.#u)}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break}}updateEditSignatureButton(e){this.#i&&(this.#i.title=e)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class Uk{#e=null;#t=null;#n;constructor(e){this.#n=e}#s(){const e=this.#t=document.createElement("div");e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Pn,{signal:this.#n._signal});const t=this.#e=document.createElement("div");return t.className="buttons",e.append(t),this.#i(),e}#a(e,t){let s=0,a=0;for(const l of e){const c=l.y+l.height;if(c<s)continue;const d=l.x+(t?l.width:0);if(c>s){a=d,s=c;continue}t?d>a&&(a=d):d<a&&(a=d)}return[t?1-a:a,s]}show(e,t,s){const[a,l]=this.#a(t,s),{style:c}=this.#t||=this.#s();e.append(this.#t),c.insetInlineEnd=`${100*a}%`,c.top=`calc(${100*l}% + var(--editor-toolbar-vert-offset))`}hide(){this.#t.remove()}#i(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const s=this.#n._signal;e.addEventListener("contextmenu",Pn,{signal:s}),e.addEventListener("click",()=>{this.#n.highlightSelection("floating_button")},{signal:s}),this.#e.append(e)}}function Vx(r,e,t){for(const s of t)e.addEventListener(s,r[s].bind(r))}class Bk{#e=0;get id(){return`${Ox}${this.#e++}`}}class Am{#e=bm();#t=0;#n=null;static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',s=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),a=new Image;a.src=e;const l=a.decode().then(()=>(s.drawImage(a,0,0,1,1,0,0,1,3),new Uint32Array(s.getImageData(0,0,1,1).data.buffer)[0]===0));return Pe(this,"_isSVGFittingCanvas",l)}async#s(e,t){this.#n||=new Map;let s=this.#n.get(e);if(s===null)return null;if(s?.bitmap)return s.refCounter+=1,s;try{s||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let a;if(typeof t=="string"?(s.url=t,a=await Qa(t,"blob")):t instanceof File?a=s.file=t:t instanceof Blob&&(a=t),a.type==="image/svg+xml"){const l=Am._isSVGFittingCanvas,c=new FileReader,d=new Image,h=new Promise((f,p)=>{d.onload=()=>{s.bitmap=d,s.isSvg=!0,f()},c.onload=async()=>{const b=s.svgUrl=c.result;d.src=await l?`${b}#svgView(preserveAspectRatio(none))`:b},d.onerror=c.onerror=p});c.readAsDataURL(a),await h}else s.bitmap=await createImageBitmap(a);s.refCounter=1}catch(a){Ce(a),s=null}return this.#n.set(e,s),s&&this.#n.set(s.id,s),s}async getFromFile(e){const{lastModified:t,name:s,size:a,type:l}=e;return this.#s(`${t}_${s}_${a}_${l}`,e)}async getFromUrl(e){return this.#s(e,e)}async getFromBlob(e,t){const s=await t;return this.#s(e,s)}async getFromId(e){this.#n||=new Map;const t=this.#n.get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:s}=t;return delete t.blobPromise,this.getFromBlob(t.id,s)}return this.getFromUrl(t.url)}getFromCanvas(e,t){this.#n||=new Map;let s=this.#n.get(e);if(s?.bitmap)return s.refCounter+=1,s;const a=new OffscreenCanvas(t.width,t.height);return a.getContext("2d").drawImage(t,0,0),s={bitmap:a.transferToImageBitmap(),id:`image_${this.#e}_${this.#t++}`,refCounter:1,isSvg:!1},this.#n.set(e,s),this.#n.set(s.id,s),s}getSvgUrl(e){const t=this.#n.get(e);return t?.isSvg?t.svgUrl:null}deleteId(e){this.#n||=new Map;const t=this.#n.get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:s}=t;if(!t.url&&!t.file){const a=new OffscreenCanvas(s.width,s.height);a.getContext("bitmaprenderer").transferFromImageBitmap(s),t.blobPromise=a.convertToBlob()}s.close?.(),t.bitmap=null}isValidId(e){return e.startsWith(`image_${this.#e}_`)}}class Hk{#e=[];#t=!1;#n;#s=-1;constructor(e=128){this.#n=e}add({cmd:e,undo:t,post:s,mustExec:a,type:l=NaN,overwriteIfSameType:c=!1,keepUndo:d=!1}){if(a&&e(),this.#t)return;const h={cmd:e,undo:t,post:s,type:l};if(this.#s===-1){this.#e.length>0&&(this.#e.length=0),this.#s=0,this.#e.push(h);return}if(c&&this.#e[this.#s].type===l){d&&(h.undo=this.#e[this.#s].undo),this.#e[this.#s]=h;return}const f=this.#s+1;f===this.#n?this.#e.splice(0,1):(this.#s=f,f<this.#e.length&&this.#e.splice(f)),this.#e.push(h)}undo(){if(this.#s===-1)return;this.#t=!0;const{undo:e,post:t}=this.#e[this.#s];e(),t?.(),this.#t=!1,this.#s-=1}redo(){if(this.#s<this.#e.length-1){this.#s+=1,this.#t=!0;const{cmd:e,post:t}=this.#e[this.#s];e(),t?.(),this.#t=!1}}hasSomethingToUndo(){return this.#s!==-1}hasSomethingToRedo(){return this.#s<this.#e.length-1}cleanType(e){if(this.#s!==-1){for(let t=this.#s;t>=0;t--)if(this.#e[t].type!==e){this.#e.splice(t+1,this.#s-t),this.#s=t;return}this.#e.length=0,this.#s=-1}}destroy(){this.#e=null}}class Oo{constructor(e){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=It.platform;for(const[s,a,l={}]of e)for(const c of s){const d=c.startsWith("mac+");t&&d?(this.callbacks.set(c.slice(4),{callback:a,options:l}),this.allKeys.add(c.split("+").at(-1))):!t&&!d&&(this.callbacks.set(c,{callback:a,options:l}),this.allKeys.add(c.split("+").at(-1)))}}#e(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}exec(e,t){if(!this.allKeys.has(t.key))return;const s=this.callbacks.get(this.#e(t));if(!s)return;const{callback:a,options:{bubbles:l=!1,args:c=[],checker:d=null}}=s;d&&!d(e,t)||(a.bind(e,...c,t)(),l||gt(t))}}class Sm{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return Fk(e),Pe(this,"_colors",e)}convert(e){const t=wm(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[s,a]of this._colors)if(a.every((l,c)=>l===t[c]))return Sm._colorsMapping.get(s);return t}getHexCode(e){const t=this._colors.get(e);return t?ye.makeHexColor(...t):e}}class ks{#e=new AbortController;#t=null;#n=new Map;#s=new Map;#a=null;#i=null;#o=null;#r=new Hk;#d=null;#l=null;#h=0;#u=new Set;#f=null;#m=null;#p=new Set;_editorUndoBar=null;#c=!1;#g=!1;#y=!1;#b=null;#x=null;#w=null;#A=null;#_=!1;#T=null;#k=new Bk;#S=!1;#N=!1;#C=null;#M=null;#D=null;#j=null;#U=null;#E=Ee.NONE;#v=new Set;#I=null;#z=null;#G=null;#q=null;#V={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1};#B=[0,0];#P=null;#L=null;#H=null;#W=null;#O=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const e=ks.prototype,t=c=>c.#L.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&c.hasSomethingToControl(),s=(c,{target:d})=>{if(d instanceof HTMLInputElement){const{type:h}=d;return h!=="text"&&h!=="number"}return!0},a=this.TRANSLATE_SMALL,l=this.TRANSLATE_BIG;return Pe(this,"_keyboardManager",new Oo([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:s}],[["ctrl+z","mac+meta+z"],e.undo,{checker:s}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:s}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:s}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(c,{target:d})=>!(d instanceof HTMLButtonElement)&&c.#L.contains(d)&&!c.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(c,{target:d})=>!(d instanceof HTMLButtonElement)&&c.#L.contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-a,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-l,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[a,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[l,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-a],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-l],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,a],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,l],checker:t}]]))}constructor(e,t,s,a,l,c,d,h,f,p,b,v,x,w,A){const _=this._signal=this.#e.signal;this.#L=e,this.#H=t,this.#W=s,this.#a=a,this.#z=l,this._eventBus=c,c._on("editingaction",this.onEditingAction.bind(this),{signal:_}),c._on("pagechanging",this.onPageChanging.bind(this),{signal:_}),c._on("scalechanging",this.onScaleChanging.bind(this),{signal:_}),c._on("rotationchanging",this.onRotationChanging.bind(this),{signal:_}),c._on("setpreference",this.onSetPreference.bind(this),{signal:_}),c._on("switchannotationeditorparams",C=>this.updateParams(C.type,C.value),{signal:_}),this.#ie(),this.#le(),this.#Q(),this.#i=d.annotationStorage,this.#b=d.filterFactory,this.#G=h,this.#A=f||null,this.#c=p,this.#g=b,this.#y=v,this.#U=x||null,this.viewParameters={realScale:Fi.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=w||null,this._supportsPinchToZoom=A!==!1}destroy(){this.#O?.resolve(),this.#O=null,this.#e?.abort(),this.#e=null,this._signal=null;for(const e of this.#s.values())e.destroy();this.#s.clear(),this.#n.clear(),this.#p.clear(),this.#j?.clear(),this.#t=null,this.#v.clear(),this.#r.destroy(),this.#a?.destroy(),this.#z?.destroy(),this.#T?.hide(),this.#T=null,this.#D?.destroy(),this.#D=null,this.#x&&(clearTimeout(this.#x),this.#x=null),this.#P&&(clearTimeout(this.#P),this.#P=null),this._editorUndoBar?.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return this.#U}get useNewAltTextFlow(){return this.#g}get useNewAltTextWhenAddingImage(){return this.#y}get hcmFilter(){return Pe(this,"hcmFilter",this.#G?this.#b.addHCMFilter(this.#G.foreground,this.#G.background):"none")}get direction(){return Pe(this,"direction",getComputedStyle(this.#L).direction)}get highlightColors(){return Pe(this,"highlightColors",this.#A?new Map(this.#A.split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColorNames(){return Pe(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),this.#l=e}setMainHighlightColorPicker(e){this.#D=e}editAltText(e,t=!1){this.#a?.editAltText(this,e,t)}getSignature(e){this.#z?.getSignature({uiManager:this,editor:e})}get signatureManager(){return this.#z}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":this.#y=t;break}}onPageChanging({pageNumber:e}){this.#h=e-1}focusMainContainer(){this.#L.focus()}findParent(e,t){for(const s of this.#s.values()){const{x:a,y:l,width:c,height:d}=s.div.getBoundingClientRect();if(e>=a&&e<=a+c&&t>=l&&t<=l+d)return s}return null}disableUserSelect(e=!1){this.#H.classList.toggle("noUserSelect",e)}addShouldRescale(e){this.#p.add(e)}removeShouldRescale(e){this.#p.delete(e)}onScaleChanging({scale:e}){this.commitOrRemove(),this.viewParameters.realScale=e*Fi.PDF_TO_CSS_UNITS;for(const t of this.#p)t.onScaleChanging();this.#l?.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}#Y({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e}#K(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const s of this.#s.values())if(s.hasTextLayer(e))return s;return null}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:s,anchorOffset:a,focusNode:l,focusOffset:c}=t,d=t.toString(),f=this.#Y(t).closest(".textLayer"),p=this.getSelectionBoxes(f);if(!p)return;t.empty();const b=this.#K(f),v=this.#E===Ee.NONE,x=()=>{b?.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:p,anchorNode:s,anchorOffset:a,focusNode:l,focusOffset:c,text:d}),v&&this.showAllEditors("highlight",!0,!0)};if(v){this.switchToMode(Ee.HIGHLIGHT,x);return}x()}#ne(){const e=document.getSelection();if(!e||e.isCollapsed)return;const s=this.#Y(e).closest(".textLayer"),a=this.getSelectionBoxes(s);a&&(this.#T||=new Uk(this),this.#T.show(s,a,this.direction==="ltr"))}addToAnnotationStorage(e){!e.isEmpty()&&this.#i&&!this.#i.has(e.id)&&this.#i.setValue(e.id,e)}a11yAlert(e,t=null){const s=this.#W;s&&(s.setAttribute("data-l10n-id",e),t?s.setAttribute("data-l10n-args",JSON.stringify(t)):s.removeAttribute("data-l10n-args"))}#se(){const e=document.getSelection();if(!e||e.isCollapsed){this.#I&&(this.#T?.hide(),this.#I=null,this.#R({hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===this.#I)return;const a=this.#Y(e).closest(".textLayer");if(!a){this.#I&&(this.#T?.hide(),this.#I=null,this.#R({hasSelectedText:!1}));return}if(this.#T?.hide(),this.#I=t,this.#R({hasSelectedText:!0}),!(this.#E!==Ee.HIGHLIGHT&&this.#E!==Ee.NONE)&&(this.#E===Ee.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),this.#_=this.isShiftKeyDown,!this.isShiftKeyDown)){const l=this.#E===Ee.HIGHLIGHT?this.#K(a):null;l?.toggleDrawing();const c=new AbortController,d=this.combinedSignal(c),h=f=>{f.type==="pointerup"&&f.button!==0||(c.abort(),l?.toggleDrawing(!0),f.type==="pointerup"&&this.#X("main_toolbar"))};window.addEventListener("pointerup",h,{signal:d}),window.addEventListener("blur",h,{signal:d})}}#X(e=""){this.#E===Ee.HIGHLIGHT?this.highlightSelection(e):this.#c&&this.#ne()}#ie(){document.addEventListener("selectionchange",this.#se.bind(this),{signal:this._signal})}#ae(){if(this.#w)return;this.#w=new AbortController;const e=this.combinedSignal(this.#w);window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}#re(){this.#w?.abort(),this.#w=null}blur(){if(this.isShiftKeyDown=!1,this.#_&&(this.#_=!1,this.#X("main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of this.#v)if(t.div.contains(e)){this.#M=[t,e],t._focusEventsAllowed=!1;break}}focus(){if(!this.#M)return;const[e,t]=this.#M;this.#M=null,t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}#Q(){if(this.#C)return;this.#C=new AbortController;const e=this.combinedSignal(this.#C);window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}#oe(){this.#C?.abort(),this.#C=null}#Z(){if(this.#d)return;this.#d=new AbortController;const e=this.combinedSignal(this.#d);document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}#J(){this.#d?.abort(),this.#d=null}#le(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}addEditListeners(){this.#Q(),this.#Z()}removeEditListeners(){this.#oe(),this.#J()}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const s of this.#m)if(s.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const s of this.#m)if(s.isHandlingMimeForPasting(t.type)){s.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){if(e.preventDefault(),this.#t?.commitOrRemove(),!this.hasSelection)return;const t=[];for(const s of this.#v){const a=s.serialize(!0);a&&t.push(a)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const l of t.items)for(const c of this.#m)if(c.isHandlingMimeForPasting(l.type)){c.paste(l,this.currentLayer);return}let s=t.getData("application/pdfjs");if(!s)return;try{s=JSON.parse(s)}catch(l){Ce(`paste: "${l.message}".`);return}if(!Array.isArray(s))return;this.unselectAll();const a=this.currentLayer;try{const l=[];for(const h of s){const f=await a.deserialize(h);if(!f)return;l.push(f)}const c=()=>{for(const h of l)this.#ee(h);this.#te(l)},d=()=>{for(const h of l)h.remove()};this.addCommands({cmd:c,undo:d,mustExec:!0})}catch(l){Ce(`paste: "${l.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),this.#E!==Ee.NONE&&!this.isEditorHandlingKeyboard&&ks._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,this.#_&&(this.#_=!1,this.#X("main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}#R(e){Object.entries(e).some(([s,a])=>this.#V[s]!==a)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#V,e)}),this.#E===Ee.HIGHLIGHT&&e.hasSelectedEditor===!1&&this.#F([[Le.HIGHLIGHT_FREE,!0]]))}#F(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}setEditingState(e){e?(this.#ae(),this.#Z(),this.#R({isEditing:this.#E!==Ee.NONE,isEmpty:this.#$(),hasSomethingToUndo:this.#r.hasSomethingToUndo(),hasSomethingToRedo:this.#r.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#re(),this.#J(),this.#R({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!this.#m){this.#m=e;for(const t of this.#m)this.#F(t.defaultPropertiesToUpdate)}}getId(){return this.#k.id}get currentLayer(){return this.#s.get(this.#h)}getLayer(e){return this.#s.get(e)}get currentPageIndex(){return this.#h}addLayer(e){this.#s.set(e.pageIndex,e),this.#S?e.enable():e.disable()}removeLayer(e){this.#s.delete(e.pageIndex)}async updateMode(e,t=null,s=!1,a=!1){if(this.#E!==e&&!(this.#O&&(await this.#O.promise,!this.#O))){if(this.#O=Promise.withResolvers(),this.#l?.commitOrRemove(),this.#E=e,e===Ee.NONE){this.setEditingState(!1),this.#ue(),this._editorUndoBar?.hide(),this.#O.resolve();return}e===Ee.SIGNATURE&&await this.#z?.loadSignatures(),this.setEditingState(!0),await this.#ce(),this.unselectAll();for(const l of this.#s.values())l.updateMode(e);if(!t){s&&this.addNewEditorFromKeyboard(),this.#O.resolve();return}for(const l of this.#n.values())l.annotationElementId===t||l.id===t?(this.setSelected(l),a&&l.enterInEditMode()):l.unselect();this.#O.resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==this.#E&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(this.#m){switch(e){case Le.CREATE:this.currentLayer.addNewEditor(t);return;case Le.HIGHLIGHT_DEFAULT_COLOR:this.#D?.updateColor(t);break;case Le.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(this.#q||=new Map).set(e,t),this.showAllEditors("highlight",t);break}for(const s of this.#v)s.updateParams(e,t);for(const s of this.#m)s.updateDefaultParams(e,t)}}showAllEditors(e,t,s=!1){for(const l of this.#n.values())l.editorType===e&&l.show(t);(this.#q?.get(Le.HIGHLIGHT_SHOW_ALL)??!0)!==t&&this.#F([[Le.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(this.#N!==e){this.#N=e;for(const t of this.#s.values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}async#ce(){if(!this.#S){this.#S=!0;const e=[];for(const t of this.#s.values())e.push(t.enable());await Promise.all(e);for(const t of this.#n.values())t.enable()}}#ue(){if(this.unselectAll(),this.#S){this.#S=!1;for(const e of this.#s.values())e.disable();for(const e of this.#n.values())e.disable()}}getEditors(e){const t=[];for(const s of this.#n.values())s.pageIndex===e&&t.push(s);return t}getEditor(e){return this.#n.get(e)}addEditor(e){this.#n.set(e.id,e)}removeEditor(e){e.div.contains(document.activeElement)&&(this.#x&&clearTimeout(this.#x),this.#x=setTimeout(()=>{this.focusMainContainer(),this.#x=null},0)),this.#n.delete(e.id),e.annotationElementId&&this.#j?.delete(e.annotationElementId),this.unselect(e),(!e.annotationElementId||!this.#u.has(e.annotationElementId))&&this.#i?.remove(e.id)}addDeletedAnnotationElement(e){this.#u.add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return this.#u.has(e)}removeDeletedAnnotationElement(e){this.#u.delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}#ee(e){const t=this.#s.get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}setActiveEditor(e){this.#t!==e&&(this.#t=e,e&&this.#F(e.propertiesToUpdate))}get#de(){let e=null;for(e of this.#v);return e}updateUI(e){this.#de===e&&this.#F(e.propertiesToUpdate)}updateUIForDefaultProperties(e){this.#F(e.defaultPropertiesToUpdate)}toggleSelected(e){if(this.#v.has(e)){this.#v.delete(e),e.unselect(),this.#R({hasSelectedEditor:this.hasSelection});return}this.#v.add(e),e.select(),this.#F(e.propertiesToUpdate),this.#R({hasSelectedEditor:!0})}setSelected(e){this.updateToolbar({mode:e.mode,editId:e.id}),this.#l?.commitOrRemove();for(const t of this.#v)t!==e&&t.unselect();this.#v.clear(),this.#v.add(e),e.select(),this.#F(e.propertiesToUpdate),this.#R({hasSelectedEditor:!0})}isSelected(e){return this.#v.has(e)}get firstSelectedEditor(){return this.#v.values().next().value}unselect(e){e.unselect(),this.#v.delete(e),this.#R({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#v.size!==0}get isEnterHandled(){return this.#v.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#r.undo(),this.#R({hasSomethingToUndo:this.#r.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#$()}),this._editorUndoBar?.hide()}redo(){this.#r.redo(),this.#R({hasSomethingToUndo:!0,hasSomethingToRedo:this.#r.hasSomethingToRedo(),isEmpty:this.#$()})}addCommands(e){this.#r.add(e),this.#R({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#$()})}cleanUndoStack(e){this.#r.cleanType(e)}#$(){if(this.#n.size===0)return!0;if(this.#n.size===1)for(const e of this.#n.values())return e.isEmpty();return!1}delete(){this.commitOrRemove();const e=this.currentLayer?.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...this.#v],s=()=>{this._editorUndoBar?.show(a,t.length===1?t[0].editorType:t.length);for(const l of t)l.remove()},a=()=>{for(const l of t)this.#ee(l)};this.addCommands({cmd:s,undo:a,mustExec:!0})}commitOrRemove(){this.#t?.commitOrRemove()}hasSomethingToControl(){return this.#t||this.hasSelection}#te(e){for(const t of this.#v)t.unselect();this.#v.clear();for(const t of e)t.isEmpty()||(this.#v.add(t),t.select());this.#R({hasSelectedEditor:this.hasSelection})}selectAll(){for(const e of this.#v)e.commit();this.#te(this.#n.values())}unselectAll(){if(!(this.#t&&(this.#t.commitOrRemove(),this.#E!==Ee.NONE))&&!this.#l?.commitOrRemove()&&this.hasSelection){for(const e of this.#v)e.unselect();this.#v.clear(),this.#R({hasSelectedEditor:!1})}}translateSelectedEditors(e,t,s=!1){if(s||this.commitOrRemove(),!this.hasSelection)return;this.#B[0]+=e,this.#B[1]+=t;const[a,l]=this.#B,c=[...this.#v],d=1e3;this.#P&&clearTimeout(this.#P),this.#P=setTimeout(()=>{this.#P=null,this.#B[0]=this.#B[1]=0,this.addCommands({cmd:()=>{for(const h of c)this.#n.has(h.id)&&(h.translateInPage(a,l),h.translationDone())},undo:()=>{for(const h of c)this.#n.has(h.id)&&(h.translateInPage(-a,-l),h.translationDone())},mustExec:!1})},d);for(const h of c)h.translateInPage(e,t),h.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#f=new Map;for(const e of this.#v)this.#f.set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#f)return!1;this.disableUserSelect(!1);const e=this.#f;this.#f=null;let t=!1;for(const[{x:a,y:l,pageIndex:c},d]of e)d.newX=a,d.newY=l,d.newPageIndex=c,t||=a!==d.savedX||l!==d.savedY||c!==d.savedPageIndex;if(!t)return!1;const s=(a,l,c,d)=>{if(this.#n.has(a.id)){const h=this.#s.get(d);h?a._setParentAndPosition(h,l,c):(a.pageIndex=d,a.x=l,a.y=c)}};return this.addCommands({cmd:()=>{for(const[a,{newX:l,newY:c,newPageIndex:d}]of e)s(a,l,c,d)},undo:()=>{for(const[a,{savedX:l,savedY:c,savedPageIndex:d}]of e)s(a,l,c,d)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(this.#f)for(const s of this.#f.keys())s.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#v.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return this.#t===e}getActive(){return this.#t}getMode(){return this.#E}get imageManager(){return Pe(this,"imageManager",new Am)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let f=0,p=t.rangeCount;f<p;f++)if(!e.contains(t.getRangeAt(f).commonAncestorContainer))return null;const{x:s,y:a,width:l,height:c}=e.getBoundingClientRect();let d;switch(e.getAttribute("data-main-rotation")){case"90":d=(f,p,b,v)=>({x:(p-a)/c,y:1-(f+b-s)/l,width:v/c,height:b/l});break;case"180":d=(f,p,b,v)=>({x:1-(f+b-s)/l,y:1-(p+v-a)/c,width:b/l,height:v/c});break;case"270":d=(f,p,b,v)=>({x:1-(p+v-a)/c,y:(f-s)/l,width:v/c,height:b/l});break;default:d=(f,p,b,v)=>({x:(f-s)/l,y:(p-a)/c,width:b/l,height:v/c});break}const h=[];for(let f=0,p=t.rangeCount;f<p;f++){const b=t.getRangeAt(f);if(!b.collapsed)for(const{x:v,y:x,width:w,height:A}of b.getClientRects())w===0||A===0||h.push(d(v,x,w,A))}return h.length===0?null:h}addChangedExistingAnnotation({annotationElementId:e,id:t}){(this.#o||=new Map).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){this.#o?.delete(e)}renderAnnotationElement(e){const t=this.#o?.get(e.data.id);if(!t)return;const s=this.#i.getRawValue(t);s&&(this.#E===Ee.NONE&&!s.hasBeenModified||s.renderAnnotationElement(e))}setMissingCanvas(e,t,s){const a=this.#j?.get(e);a&&(a.setCanvas(t,s),this.#j.delete(e))}addMissingCanvas(e,t){(this.#j||=new Map).set(e,t)}}class ts{#e=null;#t=!1;#n=null;#s=null;#a=null;#i=null;#o=!1;#r=null;#d=null;#l=null;#h=null;#u=!1;static#f=null;static _l10n=null;constructor(e){this.#d=e,this.#u=e._uiManager.useNewAltTextFlow,ts.#f||=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"})}static initialize(e){ts._l10n??=e}async render(){const e=this.#n=document.createElement("button");e.className="altText",e.tabIndex="0";const t=this.#s=document.createElement("span");e.append(t),this.#u?(e.classList.add("new"),e.setAttribute("data-l10n-id",ts.#f.missing),t.setAttribute("data-l10n-id",ts.#f["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const s=this.#d._uiManager._signal;e.addEventListener("contextmenu",Pn,{signal:s}),e.addEventListener("pointerdown",l=>l.stopPropagation(),{signal:s});const a=l=>{l.preventDefault(),this.#d._uiManager.editAltText(this.#d),this.#u&&this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:this.#m}})};return e.addEventListener("click",a,{capture:!0,signal:s}),e.addEventListener("keydown",l=>{l.target===e&&l.key==="Enter"&&(this.#o=!0,a(l))},{signal:s}),await this.#p(),e}get#m(){return this.#e&&"added"||this.#e===null&&this.guessedText&&"review"||"missing"}finish(){this.#n&&(this.#n.focus({focusVisible:this.#o}),this.#o=!1)}isEmpty(){return this.#u?this.#e===null:!this.#e&&!this.#t}hasData(){return this.#u?this.#e!==null||!!this.#l:this.isEmpty()}get guessedText(){return this.#l}async setGuessedText(e){this.#e===null&&(this.#l=e,this.#h=await ts._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e}),this.#p())}toggleAltTextBadge(e=!1){if(!this.#u||this.#e){this.#r?.remove(),this.#r=null;return}if(!this.#r){const t=this.#r=document.createElement("div");t.className="noAltTextBadge",this.#d.div.append(t)}this.#r.classList.toggle("hidden",!e)}serialize(e){let t=this.#e;return!e&&this.#l===t&&(t=this.#h),{altText:t,decorative:this.#t,guessedText:this.#l,textWithDisclaimer:this.#h}}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:e,decorative:t,guessedText:s,textWithDisclaimer:a,cancel:l=!1}){s&&(this.#l=s,this.#h=a),!(this.#e===e&&this.#t===t)&&(l||(this.#e=e,this.#t=t),this.#p())}toggle(e=!1){this.#n&&(!e&&this.#i&&(clearTimeout(this.#i),this.#i=null),this.#n.disabled=!e)}shown(){this.#d._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:this.#m}})}destroy(){this.#n?.remove(),this.#n=null,this.#s=null,this.#a=null,this.#r?.remove(),this.#r=null}async#p(){const e=this.#n;if(!e)return;if(this.#u){if(e.classList.toggle("done",!!this.#e),e.setAttribute("data-l10n-id",ts.#f[this.#m]),this.#s?.setAttribute("data-l10n-id",ts.#f[`${this.#m}-label`]),!this.#e){this.#a?.remove();return}}else{if(!this.#e&&!this.#t){e.classList.remove("done"),this.#a?.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=this.#a;if(!t){this.#a=t=document.createElement("span"),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${this.#d.id}`;const a=100,l=this.#d._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(this.#i),this.#i=null},{once:!0}),e.addEventListener("mouseenter",()=>{this.#i=setTimeout(()=>{this.#i=null,this.#a.classList.add("show"),this.#d._reportTelemetry({action:"alt_text_tooltip"})},a)},{signal:l}),e.addEventListener("mouseleave",()=>{this.#i&&(clearTimeout(this.#i),this.#i=null),this.#a?.classList.remove("show")},{signal:l})}this.#t?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=this.#e),t.parentNode||e.append(t),this.#d.getElementForAltText()?.setAttribute("aria-describedby",t.id)}}class Io{#e;#t=!1;#n=null;#s;#a;#i;#o;#r=null;#d;#l=null;#h;#u=null;constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:s=null,onPinchStart:a=null,onPinching:l=null,onPinchEnd:c=null,signal:d}){this.#e=e,this.#n=s,this.#s=t,this.#a=a,this.#i=l,this.#o=c,this.#h=new AbortController,this.#d=AbortSignal.any([d,this.#h.signal]),e.addEventListener("touchstart",this.#f.bind(this),{passive:!1,signal:this.#d})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Bn.pixelRatio}#f(e){if(this.#s?.())return;if(e.touches.length===1){if(this.#r)return;const a=this.#r=new AbortController,l=AbortSignal.any([this.#d,a.signal]),c=this.#e,d={capture:!0,signal:l,passive:!1},h=f=>{f.pointerType==="touch"&&(this.#r?.abort(),this.#r=null)};c.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(gt(f),h(f))},d),c.addEventListener("pointerup",h,d),c.addEventListener("pointercancel",h,d);return}if(!this.#u){this.#u=new AbortController;const a=AbortSignal.any([this.#d,this.#u.signal]),l=this.#e,c={signal:a,capture:!1,passive:!1};l.addEventListener("touchmove",this.#m.bind(this),c);const d=this.#p.bind(this);l.addEventListener("touchend",d,c),l.addEventListener("touchcancel",d,c),c.capture=!0,l.addEventListener("pointerdown",gt,c),l.addEventListener("pointermove",gt,c),l.addEventListener("pointercancel",gt,c),l.addEventListener("pointerup",gt,c),this.#a?.()}if(gt(e),e.touches.length!==2||this.#n?.()){this.#l=null;return}let[t,s]=e.touches;t.identifier>s.identifier&&([t,s]=[s,t]),this.#l={touch0X:t.screenX,touch0Y:t.screenY,touch1X:s.screenX,touch1Y:s.screenY}}#m(e){if(!this.#l||e.touches.length!==2)return;gt(e);let[t,s]=e.touches;t.identifier>s.identifier&&([t,s]=[s,t]);const{screenX:a,screenY:l}=t,{screenX:c,screenY:d}=s,h=this.#l,{touch0X:f,touch0Y:p,touch1X:b,touch1Y:v}=h,x=b-f,w=v-p,A=c-a,_=d-l,C=Math.hypot(A,_)||1,k=Math.hypot(x,w)||1;if(!this.#t&&Math.abs(k-C)<=Io.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(h.touch0X=a,h.touch0Y=l,h.touch1X=c,h.touch1Y=d,!this.#t){this.#t=!0;return}const N=[(a+c)/2,(l+d)/2];this.#i?.(N,k,C)}#p(e){e.touches.length>=2||(this.#u&&(this.#u.abort(),this.#u=null,this.#o?.()),this.#l&&(gt(e),this.#l=null,this.#t=!1))}destroy(){this.#h?.abort(),this.#h=null,this.#r?.abort(),this.#r=null}}class ve{#e=null;#t=null;#n=null;#s=!1;#a=null;#i="";#o=!1;#r=null;#d=null;#l=null;#h=null;#u="";#f=!1;#m=null;#p=!1;#c=!1;#g=!1;#y=null;#b=0;#x=0;#w=null;#A=null;isSelected=!1;_isCopy=!1;_editToolbar=null;_initialOptions=Object.create(null);_initialData=null;_isVisible=!0;_uiManager=null;_focusEventsAllowed=!0;static _l10n=null;static _l10nResizer=null;#_=!1;#T=ve._zIndex++;static _borderLineWidth=-1;static _colorManager=new Sm;static _zIndex=1;static _telemetryTimeout=1e3;static get _resizerKeyboardManager(){const e=ve.prototype._resizeWithKeyboard,t=ks.TRANSLATE_SMALL,s=ks.TRANSLATE_BIG;return Pe(this,"_resizerKeyboardManager",new Oo([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-s,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[s,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-s]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,s]}],[["Escape","mac+Escape"],ve.prototype._stopResizingWithKeyboard]]))}constructor(e){this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null;const{rotation:t,rawDims:{pageWidth:s,pageHeight:a,pageX:l,pageY:c}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[s,a],this.pageTranslation=[l,c];const[d,h]=this.parentDimensions;this.x=e.x/d,this.y=e.y/h,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return Pe(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new Gk({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(ve._l10n??=e,ve._l10nResizer||=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"}),ve._borderLineWidth!==-1)return;const s=getComputedStyle(document.documentElement);ve._borderLineWidth=parseFloat(s.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){Ye("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#_}set _isDraggable(e){this.#_=e,this.div?.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#T}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):this.#H(),this.parent=e}focusin(e){this._focusEventsAllowed&&(this.#f?this.#f=!1:this.parent.setSelected(this))}focusout(e){!this._focusEventsAllowed||!this.isAttachedToDOM||e.relatedTarget?.closest(`#${this.id}`)||(e.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,s,a){const[l,c]=this.parentDimensions;[s,a]=this.screenToPageTranslation(s,a),this.x=(e+s)/l,this.y=(t+a)/c,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[s,a]=this.parentDimensions;this.setAt(e*s,t*a,this.width*s,this.height*a),this._onTranslated()}#k([e,t],s,a){[s,a]=this.screenToPageTranslation(s,a),this.x+=s/e,this.y+=a/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()}translate(e,t){this.#k(this.parentDimensions,e,t)}translateInPage(e,t){this.#m||=[this.x,this.y,this.width,this.height],this.#k(this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){this.#m||=[this.x,this.y,this.width,this.height];const{div:s,parentDimensions:[a,l]}=this;if(this.x+=e/a,this.y+=t/l,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:b,y:v}=this.div.getBoundingClientRect();this.parent.findNewParent(this,b,v)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:c,y:d}=this;const[h,f]=this.getBaseTranslation();c+=h,d+=f;const{style:p}=s;p.left=`${(100*c).toFixed(2)}%`,p.top=`${(100*d).toFixed(2)}%`,this._onTranslating(c,d),s.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!this.#m&&(this.#m[0]!==this.x||this.#m[1]!==this.y)}get _hasBeenResized(){return!!this.#m&&(this.#m[2]!==this.width||this.#m[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:s}=ve,a=s/e,l=s/t;switch(this.rotation){case 90:return[-a,l];case 180:return[a,l];case 270:return[a,-l];default:return[-a,-l]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[s,a]}=this;let{x:l,y:c,width:d,height:h}=this;if(d*=s,h*=a,l*=s,c*=a,this._mustFixPosition)switch(e){case 0:l=Xt(l,0,s-d),c=Xt(c,0,a-h);break;case 90:l=Xt(l,0,s-h),c=Xt(c,d,a);break;case 180:l=Xt(l,d,s),c=Xt(c,h,a);break;case 270:l=Xt(l,h,s),c=Xt(c,0,a-d);break}this.x=l/=s,this.y=c/=a;const[f,p]=this.getBaseTranslation();l+=f,c+=p,t.left=`${(100*l).toFixed(2)}%`,t.top=`${(100*c).toFixed(2)}%`,this.moveInDOM()}static#S(e,t,s){switch(s){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}screenToPageTranslation(e,t){return ve.#S(e,t,this.parentRotation)}pageTranslationToScreen(e,t){return ve.#S(e,t,360-this.parentRotation)}#N(e){switch(e){case 90:{const[t,s]=this.pageDimensions;return[0,-t/s,s/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,s]=this.pageDimensions;return[0,t/s,-s/t,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,s]}=this;return[t*e,s*e]}setDims(e,t){const[s,a]=this.parentDimensions,{style:l}=this.div;l.width=`${(100*e/s).toFixed(2)}%`,this.#o||(l.height=`${(100*t/a).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:s}=e,a=s.endsWith("%"),l=!this.#o&&t.endsWith("%");if(a&&l)return;const[c,d]=this.parentDimensions;a||(e.width=`${(100*parseFloat(s)/c).toFixed(2)}%`),!this.#o&&!l&&(e.height=`${(100*parseFloat(t)/d).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#C(){if(this.#r)return;this.#r=document.createElement("div"),this.#r.classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const s of e){const a=document.createElement("div");this.#r.append(a),a.classList.add("resizer",s),a.setAttribute("data-resizer-name",s),a.addEventListener("pointerdown",this.#M.bind(this,s),{signal:t}),a.addEventListener("contextmenu",Pn,{signal:t}),a.tabIndex=-1}this.div.prepend(this.#r)}#M(e,t){t.preventDefault();const{isMac:s}=It.platform;if(t.button!==0||t.ctrlKey&&s)return;this.#n?.toggle(!1);const a=this._isDraggable;this._isDraggable=!1,this.#d=[t.screenX,t.screenY];const l=new AbortController,c=this._uiManager.combinedSignal(l);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",this.#U.bind(this,e),{passive:!0,capture:!0,signal:c}),window.addEventListener("touchmove",gt,{passive:!1,signal:c}),window.addEventListener("contextmenu",Pn,{signal:c}),this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const d=this.parent.div.style.cursor,h=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const f=()=>{l.abort(),this.parent.togglePointerEvents(!0),this.#n?.toggle(!0),this._isDraggable=a,this.parent.div.style.cursor=d,this.div.style.cursor=h,this.#j()};window.addEventListener("pointerup",f,{signal:c}),window.addEventListener("blur",f,{signal:c})}#D(e,t,s,a){this.width=s,this.height=a,this.x=e,this.y=t;const[l,c]=this.parentDimensions;this.setDims(l*s,c*a),this.fixAndSetPosition(),this._onResized()}_onResized(){}#j(){if(!this.#l)return;const{savedX:e,savedY:t,savedWidth:s,savedHeight:a}=this.#l;this.#l=null;const l=this.x,c=this.y,d=this.width,h=this.height;l===e&&c===t&&d===s&&h===a||this.addCommands({cmd:this.#D.bind(this,l,c,d,h),undo:this.#D.bind(this,e,t,s,a),mustExec:!0})}static _round(e){return Math.round(e*1e4)/1e4}#U(e,t){const[s,a]=this.parentDimensions,l=this.x,c=this.y,d=this.width,h=this.height,f=ve.MIN_SIZE/s,p=ve.MIN_SIZE/a,b=this.#N(this.rotation),v=(j,B)=>[b[0]*j+b[2]*B,b[1]*j+b[3]*B],x=this.#N(360-this.rotation),w=(j,B)=>[x[0]*j+x[2]*B,x[1]*j+x[3]*B];let A,_,C=!1,k=!1;switch(e){case"topLeft":C=!0,A=(j,B)=>[0,0],_=(j,B)=>[j,B];break;case"topMiddle":A=(j,B)=>[j/2,0],_=(j,B)=>[j/2,B];break;case"topRight":C=!0,A=(j,B)=>[j,0],_=(j,B)=>[0,B];break;case"middleRight":k=!0,A=(j,B)=>[j,B/2],_=(j,B)=>[0,B/2];break;case"bottomRight":C=!0,A=(j,B)=>[j,B],_=(j,B)=>[0,0];break;case"bottomMiddle":A=(j,B)=>[j/2,B],_=(j,B)=>[j/2,0];break;case"bottomLeft":C=!0,A=(j,B)=>[0,B],_=(j,B)=>[j,0];break;case"middleLeft":k=!0,A=(j,B)=>[0,B/2],_=(j,B)=>[j,B/2];break}const N=A(d,h),M=_(d,h);let R=v(...M);const P=ve._round(l+R[0]),O=ve._round(c+R[1]);let D=1,Y=1,te,H;if(t.fromKeyboard)({deltaX:te,deltaY:H}=t);else{const{screenX:j,screenY:B}=t,[V,ce]=this.#d;[te,H]=this.screenToPageTranslation(j-V,B-ce),this.#d[0]=j,this.#d[1]=B}if([te,H]=w(te/s,H/a),C){const j=Math.hypot(d,h);D=Y=Math.max(Math.min(Math.hypot(M[0]-N[0]-te,M[1]-N[1]-H)/j,1/d,1/h),f/d,p/h)}else k?D=Xt(Math.abs(M[0]-N[0]-te),f,1)/d:Y=Xt(Math.abs(M[1]-N[1]-H),p,1)/h;const ne=ve._round(d*D),le=ve._round(h*Y);R=v(..._(ne,le));const q=P-R[0],ee=O-R[1];this.#m||=[this.x,this.y,this.width,this.height],this.width=ne,this.height=le,this.x=q,this.y=ee,this.setDims(s*ne,a*le),this.fixAndSetPosition(),this._onResizing()}_onResizing(){}altTextFinish(){this.#n?.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||this.#c)return this._editToolbar;this._editToolbar=new ho(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,s]of e)await this._editToolbar.addButton(t,s);return this._editToolbar.addButton("delete"),this._editToolbar}removeEditToolbar(){this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,this.#n?.destroy())}addContainer(e){const t=this._editToolbar?.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return this.#n||(ts.initialize(ve._l10n),this.#n=new ts(this),this.#e&&(this.#n.data=this.#e,this.#e=null)),this.#n}get altTextData(){return this.#n?.data}set altTextData(e){this.#n&&(this.#n.data=e)}get guessedAltText(){return this.#n?.guessedText}async setGuessedAltText(e){await this.#n?.setGuessedText(e)}serializeAltText(e){return this.#n?.serialize(e)}hasAltText(){return!!this.#n&&!this.#n.isEmpty()}hasAltTextData(){return this.#n?.hasData()??!1}render(){const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=this.#s?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),this.#q();const[t,s]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*s/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/s).toFixed(2)}%`);const[a,l]=this.getInitialTranslation();return this.translate(a,l),Vx(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(this.#A||=new Io({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:this.#E.bind(this),onPinching:this.#v.bind(this),onPinchEnd:this.#I.bind(this),signal:this._uiManager._signal})),this._uiManager._editorUndoBar?.hide(),e}#E(){this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height},this.#n?.toggle(!1),this.parent.togglePointerEvents(!1)}#v(e,t,s){let l=.7*(s/t)+1-.7;if(l===1)return;const c=this.#N(this.rotation),d=(P,O)=>[c[0]*P+c[2]*O,c[1]*P+c[3]*O],[h,f]=this.parentDimensions,p=this.x,b=this.y,v=this.width,x=this.height,w=ve.MIN_SIZE/h,A=ve.MIN_SIZE/f;l=Math.max(Math.min(l,1/v,1/x),w/v,A/x);const _=ve._round(v*l),C=ve._round(x*l);if(_===v&&C===x)return;this.#m||=[p,b,v,x];const k=d(v/2,x/2),N=ve._round(p+k[0]),M=ve._round(b+k[1]),R=d(_/2,C/2);this.x=N-R[0],this.y=M-R[1],this.width=_,this.height=C,this.setDims(h*_,f*C),this.fixAndSetPosition(),this._onResizing()}#I(){this.#n?.toggle(!0),this.parent.togglePointerEvents(!0),this.#j()}pointerdown(e){const{isMac:t}=It.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(this.#f=!0,this._isDraggable){this.#G(e);return}this.#z(e)}#z(e){const{isMac:t}=It.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}#G(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let s=!1;const a=new AbortController,l=this._uiManager.combinedSignal(a),c={capture:!0,passive:!1,signal:l},d=f=>{a.abort(),this.#a=null,this.#f=!1,this._uiManager.endDragSession()||this.#z(f),s&&this._onStopDragging()};t&&(this.#b=e.clientX,this.#x=e.clientY,this.#a=e.pointerId,this.#i=e.pointerType,window.addEventListener("pointermove",f=>{s||(s=!0,this._onStartDragging());const{clientX:p,clientY:b,pointerId:v}=f;if(v!==this.#a){gt(f);return}const[x,w]=this.screenToPageTranslation(p-this.#b,b-this.#x);this.#b=p,this.#x=b,this._uiManager.dragSelectedEditors(x,w)},c),window.addEventListener("touchmove",gt,c),window.addEventListener("pointerdown",f=>{f.pointerType===this.#i&&(this.#A||f.isPrimary)&&d(f),gt(f)},c));const h=f=>{if(!this.#a||this.#a===f.pointerId){d(f);return}gt(f)};window.addEventListener("pointerup",h,{signal:l}),window.addEventListener("blur",h,{signal:l})}_onStartDragging(){}_onStopDragging(){}moveInDOM(){this.#y&&clearTimeout(this.#y),this.#y=setTimeout(()=>{this.#y=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(e,t,s){e.changeParent(this),this.x=t,this.y=s,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,s=this.rotation){const a=this.parentScale,[l,c]=this.pageDimensions,[d,h]=this.pageTranslation,f=e/a,p=t/a,b=this.x*l,v=this.y*c,x=this.width*l,w=this.height*c;switch(s){case 0:return[b+f+d,c-v-p-w+h,b+f+x+d,c-v-p+h];case 90:return[b+p+d,c-v+f+h,b+p+w+d,c-v+f+x+h];case 180:return[b-f-x+d,c-v+p+h,b-f+d,c-v+p+w+h];case 270:return[b-p-w+d,c-v-f-x+h,b-p+d,c-v-f+h];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[s,a,l,c]=e,d=l-s,h=c-a;switch(this.rotation){case 0:return[s,t-c,d,h];case 90:return[s,t-a,h,d];case 180:return[l,t-a,d,h];case 270:return[l,t-c,h,d];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),this.#c=!0,!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),this.#c=!1,!0):!1}isInEditMode(){return this.#c}shouldGetKeyboardEvents(){return this.#g}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:s,right:a}=this.getClientDimensions(),{innerHeight:l,innerWidth:c}=window;return t<c&&a>0&&e<l&&s>0}#q(){if(this.#h||!this.div)return;this.#h=new AbortController;const e=this._uiManager.combinedSignal(this.#h);this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}rebuild(){this.#q()}rotate(e){}resize(){}serializeDeleted(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:this._initialData?.popupRef||""}}serialize(e=!1,t=null){Ye("An editor must be serializable")}static async deserialize(e,t,s){const a=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:s,annotationElementId:e.annotationElementId});a.rotation=e.rotation,a.#e=e.accessibilityData,a._isCopy=e.isCopy||!1;const[l,c]=a.pageDimensions,[d,h,f,p]=a.getRectInCurrentCoords(e.rect,c);return a.x=d/l,a.y=h/c,a.width=f/l,a.height=p/c,a}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.#h?.abort(),this.#h=null,this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#y&&(clearTimeout(this.#y),this.#y=null),this.#H(),this.removeEditToolbar(),this.#w){for(const e of this.#w.values())clearTimeout(e);this.#w=null}this.parent=null,this.#A?.destroy(),this.#A=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#C(),this.#r.classList.remove("hidden"))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),this.#l={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const t=this.#r.children;if(!this.#t){this.#t=Array.from(t);const c=this.#V.bind(this),d=this.#B.bind(this),h=this._uiManager._signal;for(const f of this.#t){const p=f.getAttribute("data-resizer-name");f.setAttribute("role","spinbutton"),f.addEventListener("keydown",c,{signal:h}),f.addEventListener("blur",d,{signal:h}),f.addEventListener("focus",this.#P.bind(this,p),{signal:h}),f.setAttribute("data-l10n-id",ve._l10nResizer[p])}}const s=this.#t[0];let a=0;for(const c of t){if(c===s)break;a++}const l=(360-this.rotation+this.parentRotation)%360/90*(this.#t.length/4);if(l!==a){if(l<a)for(let d=0;d<a-l;d++)this.#r.append(this.#r.firstChild);else if(l>a)for(let d=0;d<l-a;d++)this.#r.firstChild.before(this.#r.lastChild);let c=0;for(const d of t){const f=this.#t[c++].getAttribute("data-resizer-name");d.setAttribute("data-l10n-id",ve._l10nResizer[f])}}this.#L(0),this.#g=!0,this.#r.firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}#V(e){ve._resizerKeyboardManager.exec(this,e)}#B(e){this.#g&&e.relatedTarget?.parentNode!==this.#r&&this.#H()}#P(e){this.#u=this.#g?e:""}#L(e){if(this.#t)for(const t of this.#t)t.tabIndex=e}_resizeWithKeyboard(e,t){this.#g&&this.#U(this.#u,{deltaX:e,deltaY:t,fromKeyboard:!0})}#H(){this.#g=!1,this.#L(-1),this.#j()}_stopResizingWithKeyboard(){this.#H(),this.div.focus()}select(){if(!(this.isSelected&&this._editToolbar)){if(this.isSelected=!0,this.makeResizable(),this.div?.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this._editToolbar?.show()});return}this._editToolbar?.show(),this.#n?.toggleAltTextBadge(!1)}}unselect(){this.isSelected&&(this.isSelected=!1,this.#r?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),this._editToolbar?.hide(),this.#n?.toggleAltTextBadge(!0))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id})}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return this.#p}set isEditing(e){this.#p=e,this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){this.#o=!0;const s=e/t,{style:a}=this.div;a.aspectRatio=s,a.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){this.#w||=new Map;const{action:s}=e;let a=this.#w.get(s);a&&clearTimeout(a),a=setTimeout(()=>{this._reportTelemetry(e),this.#w.delete(s),this.#w.size===0&&(this.#w=null)},ve._telemetryTimeout),this.#w.set(s,a);return}e.type||=this.editorType,this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),this.#s=!1}disable(){this.div&&(this.div.tabIndex=-1),this.#s=!0}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const s=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),s.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;t?.nodeName==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}}class Gk extends ve{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const Sv=3285377520,Dn=4294901760,Jn=65535;class $x{constructor(e){this.h1=e?e&4294967295:Sv,this.h2=e?e&4294967295:Sv}update(e){let t,s;if(typeof e=="string"){t=new Uint8Array(e.length*2),s=0;for(let A=0,_=e.length;A<_;A++){const C=e.charCodeAt(A);C<=255?t[s++]=C:(t[s++]=C>>>8,t[s++]=C&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),s=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const a=s>>2,l=s-a*4,c=new Uint32Array(t.buffer,0,a);let d=0,h=0,f=this.h1,p=this.h2;const b=3432918353,v=461845907,x=b&Jn,w=v&Jn;for(let A=0;A<a;A++)A&1?(d=c[A],d=d*b&Dn|d*x&Jn,d=d<<15|d>>>17,d=d*v&Dn|d*w&Jn,f^=d,f=f<<13|f>>>19,f=f*5+3864292196):(h=c[A],h=h*b&Dn|h*x&Jn,h=h<<15|h>>>17,h=h*v&Dn|h*w&Jn,p^=h,p=p<<13|p>>>19,p=p*5+3864292196);switch(d=0,l){case 3:d^=t[a*4+2]<<16;case 2:d^=t[a*4+1]<<8;case 1:d^=t[a*4],d=d*b&Dn|d*x&Jn,d=d<<15|d>>>17,d=d*v&Dn|d*w&Jn,a&1?f^=d:p^=d}this.h1=f,this.h2=p}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Dn|e*36045&Jn,t=t*4283543511&Dn|((t<<16|e>>>16)*2950163797&Dn)>>>16,e^=t>>>1,e=e*444984403&Dn|e*60499&Jn,t=t*3301882366&Dn|((t<<16|e>>>16)*3120437893&Dn)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const kf=Object.freeze({map:null,hash:"",transfer:void 0});class Em{#e=!1;#t=null;#n=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const s=this.#n.get(e);return s===void 0?t:Object.assign(t,s)}getRawValue(e){return this.#n.get(e)}remove(e){if(this.#n.delete(e),this.#n.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of this.#n.values())if(t instanceof ve)return;this.onAnnotationEditor(null)}}setValue(e,t){const s=this.#n.get(e);let a=!1;if(s!==void 0)for(const[l,c]of Object.entries(t))s[l]!==c&&(a=!0,s[l]=c);else a=!0,this.#n.set(e,t);a&&this.#s(),t instanceof ve&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return this.#n.has(e)}get size(){return this.#n.size}#s(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new Yx(this)}get serializable(){if(this.#n.size===0)return kf;const e=new Map,t=new $x,s=[],a=Object.create(null);let l=!1;for(const[c,d]of this.#n){const h=d instanceof ve?d.serialize(!1,a):d;h&&(e.set(c,h),t.update(`${c}:${JSON.stringify(h)}`),l||=!!h.bitmap)}if(l)for(const c of e.values())c.bitmap&&s.push(c.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:s}:kf}get editorStats(){let e=null;const t=new Map;for(const s of this.#n.values()){if(!(s instanceof ve))continue;const a=s.telemetryFinalData;if(!a)continue;const{type:l}=a;t.has(l)||t.set(l,Object.getPrototypeOf(s).constructor),e||=Object.create(null);const c=e[l]||=new Map;for(const[d,h]of Object.entries(a)){if(d==="type")continue;let f=c.get(d);f||(f=new Map,c.set(d,f));const p=f.get(h)??0;f.set(h,p+1)}}for(const[s,a]of t)e[s]=a.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){this.#t=null}get modifiedIds(){if(this.#t)return this.#t;const e=[];for(const t of this.#n.values())!(t instanceof ve)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return this.#t={ids:new Set(e),hash:e.join(",")}}[Symbol.iterator](){return this.#n.entries()}}class Yx extends Em{#e;constructor(e){super();const{map:t,hash:s,transfer:a}=e.serializable,l=structuredClone(t,a?{transfer:a}:null);this.#e={map:l,hash:s,transfer:a}}get print(){Ye("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}get modifiedIds(){return Pe(this,"modifiedIds",{ids:new Set,hash:""})}}class qk{#e=new Set;constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:s}){if(!(!e||this.#e.has(e.loadedName))){if(Ct(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:a,src:l,style:c}=e,d=new FontFace(a,l,c);this.addNativeFontFace(d);try{await d.load(),this.#e.add(a),s?.(e)}catch{Ce(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(d)}return}Ye("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const s=e.createNativeFontFace();if(s){this.addNativeFontFace(s);try{await s.loaded}catch(a){throw Ce(`Failed to load font '${s.family}': '${a}'.`),e.disableFontFace=!0,a}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(s=>{const a=this._queueLoadingCallback(s);this._prepareFontLoadEvent(e,a)})}}get isFontLoadingAPISupported(){const e=!!this._document?.fonts;return Pe(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return Pe(this,"isSyncFontLoadingSupported",Zt||It.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Ct(!a.done,"completeRequest() cannot be called twice."),a.done=!0;s.length>0&&s[0].done;){const l=s.shift();setTimeout(l.callback,0)}}const{loadingRequests:s}=this,a={done:!1,complete:t,callback:e};return s.push(a),a}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Pe(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function s(M,R){return M.charCodeAt(R)<<24|M.charCodeAt(R+1)<<16|M.charCodeAt(R+2)<<8|M.charCodeAt(R+3)&255}function a(M,R,P,O){const D=M.substring(0,R),Y=M.substring(R+P);return D+O+Y}let l,c;const d=this._document.createElement("canvas");d.width=1,d.height=1;const h=d.getContext("2d");let f=0;function p(M,R){if(++f>30){Ce("Load test font never loaded."),R();return}if(h.font="30px "+M,h.fillText(".",0,20),h.getImageData(0,0,1,1).data[3]>0){R();return}setTimeout(p.bind(null,M,R))}const b=`lt${Date.now()}${this.loadTestFontId++}`;let v=this._loadTestFont;v=a(v,976,b.length,b);const w=16,A=1482184792;let _=s(v,w);for(l=0,c=b.length-3;l<c;l+=4)_=_-A+s(b,l)|0;l<b.length&&(_=_-A+s(b+"XXX",l)|0),v=a(v,w,4,Dk(_));const C=`url(data:font/opentype;base64,${btoa(v)});`,k=`@font-face {font-family:"${b}";src:${C}}`;this.insertRule(k);const N=this._document.createElement("div");N.style.visibility="hidden",N.style.width=N.style.height="10px",N.style.position="absolute",N.style.top=N.style.left="0px";for(const M of[e.loadedName,b]){const R=this._document.createElement("span");R.textContent="Hi",R.style.fontFamily=M,N.append(R)}this._document.body.append(N),p(b,()=>{N.remove(),t.complete()})}}class Vk{constructor(e,t=null){this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this._inspectFont=t}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const t={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(t.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,t)}return this._inspectFont?.(this),e}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${Bx(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let s=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(s+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${s}src:${e}}`}return this._inspectFont?.(this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const s=this.loadedName+"_path_"+t;let a;try{a=e.get(s)}catch(c){Ce(`getPathGenerator - ignoring character: "${c}".`)}const l=new Path2D(a||"");return this.fontExtraProperties||e.delete(s),this.compiledGlyphs[t]=l}}function $k(r){if(r instanceof URL)return r.href;if(typeof r=="string"){if(Zt)return r;const e=URL.parse(r,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function Yk(r){if(Zt&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return jo(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r?.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function dc(r){if(typeof r!="string")return null;if(r.endsWith("/"))return r;throw new Error(`Invalid factory url: "${r}" must include trailing slash.`)}const Rf=r=>typeof r=="object"&&Number.isInteger(r?.num)&&r.num>=0&&Number.isInteger(r?.gen)&&r.gen>=0,Xk=r=>typeof r=="object"&&typeof r?.name=="string",Xx=Ok.bind(null,Rf,Xk);class Wk{#e=new Map;#t=Promise.resolve();postMessage(e,t){const s={data:structuredClone(e,t?{transfer:t}:null)};this.#t.then(()=>{for(const[a]of this.#e)a.call(this,s)})}addEventListener(e,t,s=null){let a=null;if(s?.signal instanceof AbortSignal){const{signal:l}=s;if(l.aborted){Ce("LoopbackPort - cannot use an `aborted` signal.");return}const c=()=>this.removeEventListener(e,t);a=()=>l.removeEventListener("abort",c),l.addEventListener("abort",c)}this.#e.set(t,a)}removeEventListener(e,t){this.#e.get(t)?.(),this.#e.delete(t)}terminate(){for(const[,e]of this.#e)e?.();this.#e.clear()}}const hc={DATA:1,ERROR:2},Et={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Ev(){}function on(r){if(r instanceof Ns||r instanceof Ic||r instanceof xv||r instanceof Ao||r instanceof tf)return r;switch(r instanceof Error||typeof r=="object"&&r!==null||Ye('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new Ns(r.message);case"InvalidPDFException":return new Ic(r.message);case"PasswordException":return new xv(r.message,r.code);case"ResponseException":return new Ao(r.message,r.status,r.missing);case"UnknownErrorException":return new tf(r.message,r.details)}return new tf(r.message,r.toString())}class ao{#e=new AbortController;constructor(e,t,s){this.sourceName=e,this.targetName=t,this.comObj=s,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),s.addEventListener("message",this.#t.bind(this),{signal:this.#e.signal})}#t({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){this.#s(e);return}if(e.callback){const s=e.callbackId,a=this.callbackCapabilities[s];if(!a)throw new Error(`Cannot resolve callback ${s}`);if(delete this.callbackCapabilities[s],e.callback===hc.DATA)a.resolve(e.data);else if(e.callback===hc.ERROR)a.reject(on(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const s=this.sourceName,a=e.sourceName,l=this.comObj;Promise.try(t,e.data).then(function(c){l.postMessage({sourceName:s,targetName:a,callback:hc.DATA,callbackId:e.callbackId,data:c})},function(c){l.postMessage({sourceName:s,targetName:a,callback:hc.ERROR,callbackId:e.callbackId,reason:on(c)})});return}if(e.streamId){this.#n(e);return}t(e.data)}on(e,t){const s=this.actionHandler;if(s[e])throw new Error(`There is already an actionName called "${e}"`);s[e]=t}send(e,t,s){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},s)}sendWithPromise(e,t,s){const a=this.callbackId++,l=Promise.withResolvers();this.callbackCapabilities[a]=l;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:a,data:t},s)}catch(c){l.reject(c)}return l.promise}sendWithStream(e,t,s,a){const l=this.streamId++,c=this.sourceName,d=this.targetName,h=this.comObj;return new ReadableStream({start:f=>{const p=Promise.withResolvers();return this.streamControllers[l]={controller:f,startCall:p,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:c,targetName:d,action:e,streamId:l,data:t,desiredSize:f.desiredSize},a),p.promise},pull:f=>{const p=Promise.withResolvers();return this.streamControllers[l].pullCall=p,h.postMessage({sourceName:c,targetName:d,stream:Et.PULL,streamId:l,desiredSize:f.desiredSize}),p.promise},cancel:f=>{Ct(f instanceof Error,"cancel must have a valid reason");const p=Promise.withResolvers();return this.streamControllers[l].cancelCall=p,this.streamControllers[l].isClosed=!0,h.postMessage({sourceName:c,targetName:d,stream:Et.CANCEL,streamId:l,reason:on(f)}),p.promise}},s)}#n(e){const t=e.streamId,s=this.sourceName,a=e.sourceName,l=this.comObj,c=this,d=this.actionHandler[e.action],h={enqueue(f,p=1,b){if(this.isCancelled)return;const v=this.desiredSize;this.desiredSize-=p,v>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),l.postMessage({sourceName:s,targetName:a,stream:Et.ENQUEUE,streamId:t,chunk:f},b)},close(){this.isCancelled||(this.isCancelled=!0,l.postMessage({sourceName:s,targetName:a,stream:Et.CLOSE,streamId:t}),delete c.streamSinks[t])},error(f){Ct(f instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,l.postMessage({sourceName:s,targetName:a,stream:Et.ERROR,streamId:t,reason:on(f)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[t]=h,Promise.try(d,e.data,h).then(function(){l.postMessage({sourceName:s,targetName:a,stream:Et.START_COMPLETE,streamId:t,success:!0})},function(f){l.postMessage({sourceName:s,targetName:a,stream:Et.START_COMPLETE,streamId:t,reason:on(f)})})}#s(e){const t=e.streamId,s=this.sourceName,a=e.sourceName,l=this.comObj,c=this.streamControllers[t],d=this.streamSinks[t];switch(e.stream){case Et.START_COMPLETE:e.success?c.startCall.resolve():c.startCall.reject(on(e.reason));break;case Et.PULL_COMPLETE:e.success?c.pullCall.resolve():c.pullCall.reject(on(e.reason));break;case Et.PULL:if(!d){l.postMessage({sourceName:s,targetName:a,stream:Et.PULL_COMPLETE,streamId:t,success:!0});break}d.desiredSize<=0&&e.desiredSize>0&&d.sinkCapability.resolve(),d.desiredSize=e.desiredSize,Promise.try(d.onPull||Ev).then(function(){l.postMessage({sourceName:s,targetName:a,stream:Et.PULL_COMPLETE,streamId:t,success:!0})},function(f){l.postMessage({sourceName:s,targetName:a,stream:Et.PULL_COMPLETE,streamId:t,reason:on(f)})});break;case Et.ENQUEUE:if(Ct(c,"enqueue should have stream controller"),c.isClosed)break;c.controller.enqueue(e.chunk);break;case Et.CLOSE:if(Ct(c,"close should have stream controller"),c.isClosed)break;c.isClosed=!0,c.controller.close(),this.#a(c,t);break;case Et.ERROR:Ct(c,"error should have stream controller"),c.controller.error(on(e.reason)),this.#a(c,t);break;case Et.CANCEL_COMPLETE:e.success?c.cancelCall.resolve():c.cancelCall.reject(on(e.reason)),this.#a(c,t);break;case Et.CANCEL:if(!d)break;const h=on(e.reason);Promise.try(d.onCancel||Ev,h).then(function(){l.postMessage({sourceName:s,targetName:a,stream:Et.CANCEL_COMPLETE,streamId:t,success:!0})},function(f){l.postMessage({sourceName:s,targetName:a,stream:Et.CANCEL_COMPLETE,streamId:t,reason:on(f)})}),d.sinkCapability.reject(h),d.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async#a(e,t){await Promise.allSettled([e.startCall?.promise,e.pullCall?.promise,e.cancelCall?.promise]),delete this.streamControllers[t]}destroy(){this.#e?.abort(),this.#e=null}}class Wx{#e=!1;constructor({enableHWA:e=!1}){this.#e=e}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const s=this._createCanvas(e,t);return{canvas:s,context:s.getContext("2d",{willReadFrequently:!this.#e})}}reset(e,t,s){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||s<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=s}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){Ye("Abstract method `_createCanvas` called.")}}class Kk extends Wx{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const s=this._document.createElement("canvas");return s.width=e,s.height=t,s}}class Kx{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(s=>({cMapData:s,isCompressed:this.isCompressed})).catch(s=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){Ye("Abstract method `_fetch` called.")}}class _v extends Kx{async _fetch(e){const t=await Qa(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):jo(t)}}class Qx{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,s,a,l){return"none"}destroy(e=!1){}}class Qk extends Qx{#e;#t;#n;#s;#a;#i;#o=0;constructor({docId:e,ownerDocument:t=globalThis.document}){super(),this.#s=e,this.#a=t}get#r(){return this.#t||=new Map}get#d(){return this.#i||=new Map}get#l(){if(!this.#n){const e=this.#a.createElement("div"),{style:t}=e;t.visibility="hidden",t.contain="strict",t.width=t.height=0,t.position="absolute",t.top=t.left=0,t.zIndex=-1;const s=this.#a.createElementNS(As,"svg");s.setAttribute("width",0),s.setAttribute("height",0),this.#n=this.#a.createElementNS(As,"defs"),e.append(s),s.append(this.#n),this.#a.body.append(e)}return this.#n}#h(e){if(e.length===1){const h=e[0],f=new Array(256);for(let b=0;b<256;b++)f[b]=h[b]/255;const p=f.join(",");return[p,p,p]}const[t,s,a]=e,l=new Array(256),c=new Array(256),d=new Array(256);for(let h=0;h<256;h++)l[h]=t[h]/255,c[h]=s[h]/255,d[h]=a[h]/255;return[l.join(","),c.join(","),d.join(",")]}#u(e){if(this.#e===void 0){this.#e="";const t=this.#a.URL;t!==this.#a.baseURI&&(Lo(t)?Ce('#createUrl: ignore "data:"-URL for performance reasons.'):this.#e=ym(t,""))}return`url(${this.#e}#${e})`}addFilter(e){if(!e)return"none";let t=this.#r.get(e);if(t)return t;const[s,a,l]=this.#h(e),c=e.length===1?s:`${s}${a}${l}`;if(t=this.#r.get(c),t)return this.#r.set(e,t),t;const d=`g_${this.#s}_transfer_map_${this.#o++}`,h=this.#u(d);this.#r.set(e,h),this.#r.set(c,h);const f=this.#p(d);return this.#g(s,a,l,f),h}addHCMFilter(e,t){const s=`${e}-${t}`,a="base";let l=this.#d.get(a);if(l?.key===s||(l?(l.filter?.remove(),l.key=s,l.url="none",l.filter=null):(l={key:s,url:"none",filter:null},this.#d.set(a,l)),!e||!t))return l.url;const c=this.#b(e);e=ye.makeHexColor(...c);const d=this.#b(t);if(t=ye.makeHexColor(...d),this.#l.style.color="",e==="#000000"&&t==="#ffffff"||e===t)return l.url;const h=new Array(256);for(let x=0;x<=255;x++){const w=x/255;h[x]=w<=.03928?w/12.92:((w+.055)/1.055)**2.4}const f=h.join(","),p=`g_${this.#s}_hcm_filter`,b=l.filter=this.#p(p);this.#g(f,f,f,b),this.#m(b);const v=(x,w)=>{const A=c[x]/255,_=d[x]/255,C=new Array(w+1);for(let k=0;k<=w;k++)C[k]=A+k/w*(_-A);return C.join(",")};return this.#g(v(0,5),v(1,5),v(2,5),b),l.url=this.#u(p),l.url}addAlphaFilter(e){let t=this.#r.get(e);if(t)return t;const[s]=this.#h([e]),a=`alpha_${s}`;if(t=this.#r.get(a),t)return this.#r.set(e,t),t;const l=`g_${this.#s}_alpha_map_${this.#o++}`,c=this.#u(l);this.#r.set(e,c),this.#r.set(a,c);const d=this.#p(l);return this.#y(s,d),c}addLuminosityFilter(e){let t=this.#r.get(e||"luminosity");if(t)return t;let s,a;if(e?([s]=this.#h([e]),a=`luminosity_${s}`):a="luminosity",t=this.#r.get(a),t)return this.#r.set(e,t),t;const l=`g_${this.#s}_luminosity_map_${this.#o++}`,c=this.#u(l);this.#r.set(e,c),this.#r.set(a,c);const d=this.#p(l);return this.#f(d),e&&this.#y(s,d),c}addHighlightHCMFilter(e,t,s,a,l){const c=`${t}-${s}-${a}-${l}`;let d=this.#d.get(e);if(d?.key===c||(d?(d.filter?.remove(),d.key=c,d.url="none",d.filter=null):(d={key:c,url:"none",filter:null},this.#d.set(e,d)),!t||!s))return d.url;const[h,f]=[t,s].map(this.#b.bind(this));let p=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),b=Math.round(.2126*f[0]+.7152*f[1]+.0722*f[2]),[v,x]=[a,l].map(this.#b.bind(this));b<p&&([p,b,v,x]=[b,p,x,v]),this.#l.style.color="";const w=(C,k,N)=>{const M=new Array(256),R=(b-p)/N,P=C/255,O=(k-C)/(255*N);let D=0;for(let Y=0;Y<=N;Y++){const te=Math.round(p+Y*R),H=P+Y*O;for(let ne=D;ne<=te;ne++)M[ne]=H;D=te+1}for(let Y=D;Y<256;Y++)M[Y]=M[D-1];return M.join(",")},A=`g_${this.#s}_hcm_${e}_filter`,_=d.filter=this.#p(A);return this.#m(_),this.#g(w(v[0],x[0],5),w(v[1],x[1],5),w(v[2],x[2],5),_),d.url=this.#u(A),d.url}destroy(e=!1){e&&this.#i?.size||(this.#n?.parentNode.parentNode.remove(),this.#n=null,this.#t?.clear(),this.#t=null,this.#i?.clear(),this.#i=null,this.#o=0)}#f(e){const t=this.#a.createElementNS(As,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}#m(e){const t=this.#a.createElementNS(As,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}#p(e){const t=this.#a.createElementNS(As,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),this.#l.append(t),t}#c(e,t,s){const a=this.#a.createElementNS(As,t);a.setAttribute("type","discrete"),a.setAttribute("tableValues",s),e.append(a)}#g(e,t,s,a){const l=this.#a.createElementNS(As,"feComponentTransfer");a.append(l),this.#c(l,"feFuncR",e),this.#c(l,"feFuncG",t),this.#c(l,"feFuncB",s)}#y(e,t){const s=this.#a.createElementNS(As,"feComponentTransfer");t.append(s),this.#c(s,"feFuncA",e)}#b(e){return this.#l.style.color=e,wm(getComputedStyle(this.#l).getPropertyValue("color"))}}class Zx{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(s=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){Ye("Abstract method `_fetch` called.")}}class Cv extends Zx{async _fetch(e){const t=await Qa(e,"arraybuffer");return new Uint8Array(t)}}class Jx{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(s=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){Ye("Abstract method `_fetch` called.")}}class Tv extends Jx{async _fetch(e){const t=await Qa(e,"arraybuffer");return new Uint8Array(t)}}Zt&&Ce("Please use the `legacy` build in Node.js environments.");async function _m(r){const t=await process.getBuiltinModule("fs").promises.readFile(r);return new Uint8Array(t)}class Zk extends Qx{}class Jk extends Wx{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class eR extends Kx{async _fetch(e){return _m(e)}}class tR extends Zx{async _fetch(e){return _m(e)}}class nR extends Jx{async _fetch(e){return _m(e)}}const Gt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Mf(r,e){if(!e)return;const t=e[2]-e[0],s=e[3]-e[1],a=new Path2D;a.rect(e[0],e[1],t,s),r.clip(a)}class Cm{isModifyingCurrentTransform(){return!1}getPattern(){Ye("Abstract method `getPattern` called.")}}class sR extends Cm{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const s of this._colorStops)t.addColorStop(s[0],s[1]);return t}getPattern(e,t,s,a){let l;if(a===Gt.STROKE||a===Gt.FILL){const c=t.current.getClippedPathBoundingBox(a,at(e))||[0,0,0,0],d=Math.ceil(c[2]-c[0])||1,h=Math.ceil(c[3]-c[1])||1,f=t.cachedCanvases.getCanvas("pattern",d,h),p=f.context;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),p.translate(-c[0],-c[1]),s=ye.transform(s,[1,0,0,1,c[0],c[1]]),p.transform(...t.baseTransform),this.matrix&&p.transform(...this.matrix),Mf(p,this._bbox),p.fillStyle=this._createGradient(p),p.fill(),l=e.createPattern(f.canvas,"no-repeat");const b=new DOMMatrix(s);l.setTransform(b)}else Mf(e,this._bbox),l=this._createGradient(e);return l}}function af(r,e,t,s,a,l,c,d){const h=e.coords,f=e.colors,p=r.data,b=r.width*4;let v;h[t+1]>h[s+1]&&(v=t,t=s,s=v,v=l,l=c,c=v),h[s+1]>h[a+1]&&(v=s,s=a,a=v,v=c,c=d,d=v),h[t+1]>h[s+1]&&(v=t,t=s,s=v,v=l,l=c,c=v);const x=(h[t]+e.offsetX)*e.scaleX,w=(h[t+1]+e.offsetY)*e.scaleY,A=(h[s]+e.offsetX)*e.scaleX,_=(h[s+1]+e.offsetY)*e.scaleY,C=(h[a]+e.offsetX)*e.scaleX,k=(h[a+1]+e.offsetY)*e.scaleY;if(w>=k)return;const N=f[l],M=f[l+1],R=f[l+2],P=f[c],O=f[c+1],D=f[c+2],Y=f[d],te=f[d+1],H=f[d+2],ne=Math.round(w),le=Math.round(k);let q,ee,j,B,V,ce,I,Q;for(let L=ne;L<=le;L++){if(L<_){const re=L<w?0:(w-L)/(w-_);q=x-(x-A)*re,ee=N-(N-P)*re,j=M-(M-O)*re,B=R-(R-D)*re}else{let re;L>k?re=1:_===k?re=0:re=(_-L)/(_-k),q=A-(A-C)*re,ee=P-(P-Y)*re,j=O-(O-te)*re,B=D-(D-H)*re}let z;L<w?z=0:L>k?z=1:z=(w-L)/(w-k),V=x-(x-C)*z,ce=N-(N-Y)*z,I=M-(M-te)*z,Q=R-(R-H)*z;const $=Math.round(Math.min(q,V)),oe=Math.round(Math.max(q,V));let J=b*L+$*4;for(let re=$;re<=oe;re++)z=(q-re)/(q-V),z<0?z=0:z>1&&(z=1),p[J++]=ee-(ee-ce)*z|0,p[J++]=j-(j-I)*z|0,p[J++]=B-(B-Q)*z|0,p[J++]=255}}function iR(r,e,t){const s=e.coords,a=e.colors;let l,c;switch(e.type){case"lattice":const d=e.verticesPerRow,h=Math.floor(s.length/d)-1,f=d-1;for(l=0;l<h;l++){let p=l*d;for(let b=0;b<f;b++,p++)af(r,t,s[p],s[p+1],s[p+d],a[p],a[p+1],a[p+d]),af(r,t,s[p+d+1],s[p+1],s[p+d],a[p+d+1],a[p+1],a[p+d])}break;case"triangles":for(l=0,c=s.length;l<c;l+=3)af(r,t,s[l],s[l+1],s[l+2],a[l],a[l+1],a[l+2]);break;default:throw new Error("illegal figure")}}class aR extends Cm{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,s){const d=Math.floor(this._bounds[0]),h=Math.floor(this._bounds[1]),f=Math.ceil(this._bounds[2])-d,p=Math.ceil(this._bounds[3])-h,b=Math.min(Math.ceil(Math.abs(f*e[0]*1.1)),3e3),v=Math.min(Math.ceil(Math.abs(p*e[1]*1.1)),3e3),x=f/b,w=p/v,A={coords:this._coords,colors:this._colors,offsetX:-d,offsetY:-h,scaleX:1/x,scaleY:1/w},_=b+4,C=v+4,k=s.getCanvas("mesh",_,C),N=k.context,M=N.createImageData(b,v);if(t){const P=M.data;for(let O=0,D=P.length;O<D;O+=4)P[O]=t[0],P[O+1]=t[1],P[O+2]=t[2],P[O+3]=255}for(const P of this._figures)iR(M,P,A);return N.putImageData(M,2,2),{canvas:k.canvas,offsetX:d-2*x,offsetY:h-2*w,scaleX:x,scaleY:w}}isModifyingCurrentTransform(){return!0}getPattern(e,t,s,a){Mf(e,this._bbox);const l=new Float32Array(2);if(a===Gt.SHADING)ye.singularValueDecompose2dScale(at(e),l);else if(this.matrix){ye.singularValueDecompose2dScale(this.matrix,l);const[d,h]=l;ye.singularValueDecompose2dScale(t.baseTransform,l),l[0]*=d,l[1]*=h}else ye.singularValueDecompose2dScale(t.baseTransform,l);const c=this._createMeshCanvas(l,a===Gt.SHADING?null:this._background,t.cachedCanvases);return a!==Gt.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(c.offsetX,c.offsetY),e.scale(c.scaleX,c.scaleY),e.createPattern(c.canvas,"no-repeat")}}class rR extends Cm{getPattern(){return"hotpink"}}function oR(r){switch(r[0]){case"RadialAxial":return new sR(r);case"Mesh":return new aR(r);case"Dummy":return new rR}throw new Error(`Unknown IR type: ${r[0]}`)}const Nv={COLORED:1,UNCOLORED:2};class Tm{static MAX_PATTERN_SIZE=3e3;constructor(e,t,s,a){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=s,this.baseTransform=a}createPatternCanvas(e){const{bbox:t,operatorList:s,paintType:a,tilingType:l,color:c,canvasGraphicsFactory:d}=this;let{xstep:h,ystep:f}=this;h=Math.abs(h),f=Math.abs(f),iu("TilingType: "+l);const p=t[0],b=t[1],v=t[2],x=t[3],w=v-p,A=x-b,_=new Float32Array(2);ye.singularValueDecompose2dScale(this.matrix,_);const[C,k]=_;ye.singularValueDecompose2dScale(this.baseTransform,_);const N=C*_[0],M=k*_[1];let R=w,P=A,O=!1,D=!1;const Y=Math.ceil(h*N),te=Math.ceil(f*M),H=Math.ceil(w*N),ne=Math.ceil(A*M);Y>=H?R=h:O=!0,te>=ne?P=f:D=!0;const le=this.getSizeAndScale(R,this.ctx.canvas.width,N),q=this.getSizeAndScale(P,this.ctx.canvas.height,M),ee=e.cachedCanvases.getCanvas("pattern",le.size,q.size),j=ee.context,B=d.createCanvasGraphics(j);if(B.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(B,a,c),j.translate(-le.scale*p,-q.scale*b),B.transform(le.scale,0,0,q.scale,0,0),j.save(),this.clipBbox(B,p,b,v,x),B.baseTransform=at(B.ctx),B.executeOperatorList(s),B.endDrawing(),j.restore(),O||D){const V=ee.canvas;O&&(R=h),D&&(P=f);const ce=this.getSizeAndScale(R,this.ctx.canvas.width,N),I=this.getSizeAndScale(P,this.ctx.canvas.height,M),Q=ce.size,L=I.size,z=e.cachedCanvases.getCanvas("pattern-workaround",Q,L),$=z.context,oe=O?Math.floor(w/h):0,J=D?Math.floor(A/f):0;for(let re=0;re<=oe;re++)for(let be=0;be<=J;be++)$.drawImage(V,Q*re,L*be,Q,L,0,0,Q,L);return{canvas:z.canvas,scaleX:ce.scale,scaleY:I.scale,offsetX:p,offsetY:b}}return{canvas:ee.canvas,scaleX:le.scale,scaleY:q.scale,offsetX:p,offsetY:b}}getSizeAndScale(e,t,s){const a=Math.max(Tm.MAX_PATTERN_SIZE,t);let l=Math.ceil(e*s);return l>=a?l=a:s=l/e,{scale:s,size:l}}clipBbox(e,t,s,a,l){const c=a-t,d=l-s;e.ctx.rect(t,s,c,d),ye.axialAlignedBoundingBox([t,s,a,l],at(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,s){const a=e.ctx,l=e.current;switch(t){case Nv.COLORED:const{fillStyle:c,strokeStyle:d}=this.ctx;a.fillStyle=l.fillColor=c,a.strokeStyle=l.strokeColor=d;break;case Nv.UNCOLORED:a.fillStyle=a.strokeStyle=s,l.fillColor=l.strokeColor=s;break;default:throw new Mk(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,s,a){let l=s;a!==Gt.SHADING&&(l=ye.transform(l,t.baseTransform),this.matrix&&(l=ye.transform(l,this.matrix)));const c=this.createPatternCanvas(t);let d=new DOMMatrix(l);d=d.translate(c.offsetX,c.offsetY),d=d.scale(1/c.scaleX,1/c.scaleY);const h=e.createPattern(c.canvas,"repeat");return h.setTransform(d),h}}function lR({src:r,srcPos:e=0,dest:t,width:s,height:a,nonBlackColor:l=4294967295,inverseDecode:c=!1}){const d=It.isLittleEndian?4278190080:255,[h,f]=c?[l,d]:[d,l],p=s>>3,b=s&7,v=r.length;t=new Uint32Array(t.buffer);let x=0;for(let w=0;w<a;w++){for(const _=e+p;e<_;e++){const C=e<v?r[e]:255;t[x++]=C&128?f:h,t[x++]=C&64?f:h,t[x++]=C&32?f:h,t[x++]=C&16?f:h,t[x++]=C&8?f:h,t[x++]=C&4?f:h,t[x++]=C&2?f:h,t[x++]=C&1?f:h}if(b===0)continue;const A=e<v?r[e++]:255;for(let _=0;_<b;_++)t[x++]=A&1<<7-_?f:h}return{srcPos:e,destPos:x}}const kv=16,Rv=100,cR=15,Mv=10,ln=16,rf=new DOMMatrix,xn=new Float32Array(2),Pa=new Float32Array([1/0,1/0,-1/0,-1/0]);function uR(r,e){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){e.save(),this.__originalSave()},r.restore=function(){e.restore(),this.__originalRestore()},r.translate=function(t,s){e.translate(t,s),this.__originalTranslate(t,s)},r.scale=function(t,s){e.scale(t,s),this.__originalScale(t,s)},r.transform=function(t,s,a,l,c,d){e.transform(t,s,a,l,c,d),this.__originalTransform(t,s,a,l,c,d)},r.setTransform=function(t,s,a,l,c,d){e.setTransform(t,s,a,l,c,d),this.__originalSetTransform(t,s,a,l,c,d)},r.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},r.rotate=function(t){e.rotate(t),this.__originalRotate(t)},r.clip=function(t){e.clip(t),this.__originalClip(t)},r.moveTo=function(t,s){e.moveTo(t,s),this.__originalMoveTo(t,s)},r.lineTo=function(t,s){e.lineTo(t,s),this.__originalLineTo(t,s)},r.bezierCurveTo=function(t,s,a,l,c,d){e.bezierCurveTo(t,s,a,l,c,d),this.__originalBezierCurveTo(t,s,a,l,c,d)},r.rect=function(t,s,a,l){e.rect(t,s,a,l),this.__originalRect(t,s,a,l)},r.closePath=function(){e.closePath(),this.__originalClosePath()},r.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class dR{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,s){let a;return this.cache[e]!==void 0?(a=this.cache[e],this.canvasFactory.reset(a,t,s)):(a=this.canvasFactory.create(t,s),this.cache[e]=a),a}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function fc(r,e,t,s,a,l,c,d,h,f){const[p,b,v,x,w,A]=at(r);if(b===0&&v===0){const k=c*p+w,N=Math.round(k),M=d*x+A,R=Math.round(M),P=(c+h)*p+w,O=Math.abs(Math.round(P)-N)||1,D=(d+f)*x+A,Y=Math.abs(Math.round(D)-R)||1;return r.setTransform(Math.sign(p),0,0,Math.sign(x),N,R),r.drawImage(e,t,s,a,l,0,0,O,Y),r.setTransform(p,b,v,x,w,A),[O,Y]}if(p===0&&x===0){const k=d*v+w,N=Math.round(k),M=c*b+A,R=Math.round(M),P=(d+f)*v+w,O=Math.abs(Math.round(P)-N)||1,D=(c+h)*b+A,Y=Math.abs(Math.round(D)-R)||1;return r.setTransform(0,Math.sign(b),Math.sign(v),0,N,R),r.drawImage(e,t,s,a,l,0,0,Y,O),r.setTransform(p,b,v,x,w,A),[Y,O]}r.drawImage(e,t,s,a,l,c,d,h,f);const _=Math.hypot(p,b),C=Math.hypot(v,x);return[_*h,C*f]}class Dv{alphaIsShape=!1;fontSize=0;fontSizeScale=1;textMatrix=null;textMatrixScale=1;fontMatrix=Nf;leading=0;x=0;y=0;lineX=0;lineY=0;charSpacing=0;wordSpacing=0;textHScale=1;textRenderingMode=Yt.FILL;textRise=0;fillColor="#000000";strokeColor="#000000";patternFill=!1;patternStroke=!1;fillAlpha=1;strokeAlpha=1;lineWidth=1;activeSMask=null;transferMaps="none";constructor(e,t){this.clipBox=new Float32Array([0,0,e,t]),this.minMax=Pa.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=Gt.FILL,t=null){const s=this.minMax.slice();if(e===Gt.STROKE){t||Ye("Stroke bounding box must include transform."),ye.singularValueDecompose2dScale(t,xn);const a=xn[0]*this.lineWidth/2,l=xn[1]*this.lineWidth/2;s[0]-=a,s[1]-=l,s[2]+=a,s[3]+=l}return s}updateClipFromPath(){const e=ye.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(Pa,0)}getClippedPathBoundingBox(e=Gt.FILL,t=null){return ye.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function jv(r,e){if(e instanceof ImageData){r.putImageData(e,0,0);return}const t=e.height,s=e.width,a=t%ln,l=(t-a)/ln,c=a===0?l:l+1,d=r.createImageData(s,ln);let h=0,f;const p=e.data,b=d.data;let v,x,w,A;if(e.kind===uo.GRAYSCALE_1BPP){const _=p.byteLength,C=new Uint32Array(b.buffer,0,b.byteLength>>2),k=C.length,N=s+7>>3,M=4294967295,R=It.isLittleEndian?4278190080:255;for(v=0;v<c;v++){for(w=v<l?ln:a,f=0,x=0;x<w;x++){const P=_-h;let O=0;const D=P>N?s:P*8-7,Y=D&-8;let te=0,H=0;for(;O<Y;O+=8)H=p[h++],C[f++]=H&128?M:R,C[f++]=H&64?M:R,C[f++]=H&32?M:R,C[f++]=H&16?M:R,C[f++]=H&8?M:R,C[f++]=H&4?M:R,C[f++]=H&2?M:R,C[f++]=H&1?M:R;for(;O<D;O++)te===0&&(H=p[h++],te=128),C[f++]=H&te?M:R,te>>=1}for(;f<k;)C[f++]=0;r.putImageData(d,0,v*ln)}}else if(e.kind===uo.RGBA_32BPP){for(x=0,A=s*ln*4,v=0;v<l;v++)b.set(p.subarray(h,h+A)),h+=A,r.putImageData(d,0,x),x+=ln;v<c&&(A=s*a*4,b.set(p.subarray(h,h+A)),r.putImageData(d,0,x))}else if(e.kind===uo.RGB_24BPP)for(w=ln,A=s*w,v=0;v<c;v++){for(v>=l&&(w=a,A=s*w),f=0,x=A;x--;)b[f++]=p[h++],b[f++]=p[h++],b[f++]=p[h++],b[f++]=255;r.putImageData(d,0,v*ln)}else throw new Error(`bad image kind: ${e.kind}`)}function Pv(r,e){if(e.bitmap){r.drawImage(e.bitmap,0,0);return}const t=e.height,s=e.width,a=t%ln,l=(t-a)/ln,c=a===0?l:l+1,d=r.createImageData(s,ln);let h=0;const f=e.data,p=d.data;for(let b=0;b<c;b++){const v=b<l?ln:a;({srcPos:h}=lR({src:f,srcPos:h,dest:p,width:s,height:v,nonBlackColor:0})),r.putImageData(d,0,b*ln)}}function Jr(r,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const s of t)r[s]!==void 0&&(e[s]=r[s]);r.setLineDash!==void 0&&(e.setLineDash(r.getLineDash()),e.lineDashOffset=r.lineDashOffset)}function mc(r){r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0);const{filter:e}=r;e!=="none"&&e!==""&&(r.filter="none")}function Lv(r,e){if(e)return!0;ye.singularValueDecompose2dScale(r,xn);const t=Math.fround(Bn.pixelRatio*Fi.PDF_TO_CSS_UNITS);return xn[0]<=t&&xn[1]<=t}const hR=["butt","round","square"],fR=["miter","round","bevel"],mR={},Ov={};class Ia{constructor(e,t,s,a,l,{optionalContentConfig:c,markedContentStack:d=null},h,f){this.ctx=e,this.current=new Dv(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=s,this.canvasFactory=a,this.filterFactory=l,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=d||[],this.optionalContentConfig=c,this.cachedCanvases=new dR(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=h,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=f,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:s=!1,background:a=null}){const l=this.ctx.canvas.width,c=this.ctx.canvas.height,d=this.ctx.fillStyle;if(this.ctx.fillStyle=a||"#ffffff",this.ctx.fillRect(0,0,l,c),this.ctx.fillStyle=d,s){const h=this.cachedCanvases.getCanvas("transparent",l,c);this.compositeCtx=this.ctx,this.transparentCanvas=h.canvas,this.ctx=h.context,this.ctx.save(),this.ctx.transform(...at(this.compositeCtx))}this.ctx.save(),mc(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=at(this.ctx)}executeOperatorList(e,t,s,a){const l=e.argsArray,c=e.fnArray;let d=t||0;const h=l.length;if(h===d)return d;const f=h-d>Mv&&typeof s=="function",p=f?Date.now()+cR:0;let b=0;const v=this.commonObjs,x=this.objs;let w;for(;;){if(a!==void 0&&d===a.nextBreakPoint)return a.breakIt(d,s),d;if(w=c[d],w!==wo.dependency)this[w].apply(this,l[d]);else for(const A of l[d]){const _=A.startsWith("g_")?v:x;if(!_.has(A))return _.get(A,s),d}if(d++,d===h)return d;if(f&&++b>Mv){if(Date.now()>p)return s(),d;b=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}_scaleImage(e,t){const s=e.width??e.displayWidth,a=e.height??e.displayHeight;let l=Math.max(Math.hypot(t[0],t[1]),1),c=Math.max(Math.hypot(t[2],t[3]),1),d=s,h=a,f="prescale1",p,b;for(;l>2&&d>1||c>2&&h>1;){let v=d,x=h;l>2&&d>1&&(v=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d/2),l/=d/v),c>2&&h>1&&(x=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,c/=h/x),p=this.cachedCanvases.getCanvas(f,v,x),b=p.context,b.clearRect(0,0,v,x),b.drawImage(e,0,0,d,h,0,0,v,x),e=p.canvas,d=v,h=x,f=f==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:d,paintHeight:h}}_createMaskCanvas(e){const t=this.ctx,{width:s,height:a}=e,l=this.current.fillColor,c=this.current.patternFill,d=at(t);let h,f,p,b;if((e.bitmap||e.data)&&e.count>1){const Y=e.bitmap||e.data.buffer;f=JSON.stringify(c?d:[d.slice(0,4),l]),h=this._cachedBitmapsMap.get(Y),h||(h=new Map,this._cachedBitmapsMap.set(Y,h));const te=h.get(f);if(te&&!c){const H=Math.round(Math.min(d[0],d[2])+d[4]),ne=Math.round(Math.min(d[1],d[3])+d[5]);return{canvas:te,offsetX:H,offsetY:ne}}p=te}p||(b=this.cachedCanvases.getCanvas("maskCanvas",s,a),Pv(b.context,e));let v=ye.transform(d,[1/s,0,0,-1/a,0,0]);v=ye.transform(v,[1,0,0,1,0,-a]);const x=Pa.slice();ye.axialAlignedBoundingBox([0,0,s,a],v,x);const[w,A,_,C]=x,k=Math.round(_-w)||1,N=Math.round(C-A)||1,M=this.cachedCanvases.getCanvas("fillCanvas",k,N),R=M.context,P=w,O=A;R.translate(-P,-O),R.transform(...v),p||(p=this._scaleImage(b.canvas,Zn(R)),p=p.img,h&&c&&h.set(f,p)),R.imageSmoothingEnabled=Lv(at(R),e.interpolate),fc(R,p,0,0,p.width,p.height,0,0,s,a),R.globalCompositeOperation="source-in";const D=ye.transform(Zn(R),[1,0,0,1,-P,-O]);return R.fillStyle=c?l.getPattern(t,this,D,Gt.FILL):l,R.fillRect(0,0,s,a),h&&!c&&(this.cachedCanvases.delete("fillCanvas"),h.set(f,M.canvas)),{canvas:M.canvas,offsetX:Math.round(P),offsetY:Math.round(O)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=hR[e]}setLineJoin(e){this.ctx.lineJoin=fR[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const s=this.ctx;s.setLineDash!==void 0&&(s.setLineDash(e),s.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,s]of e)switch(t){case"LW":this.setLineWidth(s);break;case"LC":this.setLineCap(s);break;case"LJ":this.setLineJoin(s);break;case"ML":this.setMiterLimit(s);break;case"D":this.setDash(s[0],s[1]);break;case"RI":this.setRenderingIntent(s);break;case"FL":this.setFlatness(s);break;case"Font":this.setFont(s[0],s[1]);break;case"CA":this.current.strokeAlpha=s;break;case"ca":this.ctx.globalAlpha=this.current.fillAlpha=s;break;case"BM":this.ctx.globalCompositeOperation=s;break;case"SMask":this.current.activeSMask=s?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(s);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,s="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(s,e,t);this.suspendedCtx=this.ctx;const l=this.ctx=a.context;l.setTransform(this.suspendedCtx.getTransform()),Jr(this.suspendedCtx,l),uR(l,this.suspendedCtx),this.setGState([["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Jr(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,s=this.suspendedCtx;this.composeSMask(s,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,s,a){const l=a[0],c=a[1],d=a[2]-l,h=a[3]-c;d===0||h===0||(this.genericComposeSMask(t.context,s,d,h,t.subtype,t.backdrop,t.transferMap,l,c,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(s.canvas,0,0),e.restore())}genericComposeSMask(e,t,s,a,l,c,d,h,f,p,b){let v=e.canvas,x=h-p,w=f-b;if(c)if(x<0||w<0||x+s>v.width||w+a>v.height){const _=this.cachedCanvases.getCanvas("maskExtension",s,a),C=_.context;C.drawImage(v,-x,-w),C.globalCompositeOperation="destination-atop",C.fillStyle=c,C.fillRect(0,0,s,a),C.globalCompositeOperation="source-over",v=_.canvas,x=w=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const _=new Path2D;_.rect(x,w,s,a),e.clip(_),e.globalCompositeOperation="destination-atop",e.fillStyle=c,e.fillRect(x,w,s,a),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),l==="Alpha"&&d?t.filter=this.filterFactory.addAlphaFilter(d):l==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(d));const A=new Path2D;A.rect(h,f,s,a),t.clip(A),t.globalCompositeOperation="destination-in",t.drawImage(v,x,w,s,a,h,f,s,a),t.restore()}save(){this.inSMaskMode&&Jr(this.ctx,this.suspendedCtx),this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){if(this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Jr(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,s,a,l,c){this.ctx.transform(e,t,s,a,l,c),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,s){let[a]=t;if(!s){a||=t[0]=new Path2D,this[e](a);return}if(!(a instanceof Path2D)){const l=t[0]=new Path2D;for(let c=0,d=a.length;c<d;)switch(a[c++]){case uc.moveTo:l.moveTo(a[c++],a[c++]);break;case uc.lineTo:l.lineTo(a[c++],a[c++]);break;case uc.curveTo:l.bezierCurveTo(a[c++],a[c++],a[c++],a[c++],a[c++],a[c++]);break;case uc.closePath:l.closePath();break;default:Ce(`Unrecognized drawing path operator: ${a[c-1]}`);break}a=l}ye.axialAlignedBoundingBox(s,at(this.ctx),this.current.minMax),this[e](a)}closePath(){this.ctx.closePath()}stroke(e,t=!0){const s=this.ctx,a=this.current.strokeColor;if(s.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof a=="object"&&a?.getPattern){const l=a.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.strokeStyle=a.getPattern(s,this,Zn(s),Gt.STROKE),l){const c=new Path2D;c.addPath(e,s.getTransform().invertSelf().multiplySelf(l)),e=c}this.rescaleAndStroke(e,!1),s.restore()}else this.rescaleAndStroke(e,!0);t&&this.consumePath(e,this.current.getClippedPathBoundingBox(Gt.STROKE,at(this.ctx))),s.globalAlpha=this.current.fillAlpha}closeStroke(e){this.stroke(e)}fill(e,t=!0){const s=this.ctx,a=this.current.fillColor,l=this.current.patternFill;let c=!1;if(l){const h=a.isModifyingCurrentTransform()?s.getTransform():null;if(s.save(),s.fillStyle=a.getPattern(s,this,Zn(s),Gt.FILL),h){const f=new Path2D;f.addPath(e,s.getTransform().invertSelf().multiplySelf(h)),e=f}c=!0}const d=this.current.getClippedPathBoundingBox();this.contentVisible&&d!==null&&(this.pendingEOFill?(s.fill(e,"evenodd"),this.pendingEOFill=!1):s.fill(e)),c&&s.restore(),t&&this.consumePath(e,d)}eoFill(e){this.pendingEOFill=!0,this.fill(e)}fillStroke(e){this.fill(e,!1),this.stroke(e,!1),this.consumePath(e)}eoFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}closeFillStroke(e){this.fillStroke(e)}closeEOFillStroke(e){this.pendingEOFill=!0,this.fillStroke(e)}endPath(e){this.consumePath(e)}rawFillPath(e){this.ctx.fill(e)}clip(){this.pendingClip=mR}eoClip(){this.pendingClip=Ov}beginText(){this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0)return;const s=new Path2D,a=t.getTransform().invertSelf();for(const{transform:l,x:c,y:d,fontSize:h,path:f}of e)s.addPath(f,new DOMMatrix(l).preMultiplySelf(a).translate(c,d).scale(h,-h));t.clip(s),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){const s=this.commonObjs.get(e),a=this.current;if(!s)throw new Error(`Can't find font for ${e}`);if(a.fontMatrix=s.fontMatrix||Nf,(a.fontMatrix[0]===0||a.fontMatrix[3]===0)&&Ce("Invalid font matrix for font "+e),t<0?(t=-t,a.fontDirection=-1):a.fontDirection=1,this.current.font=s,this.current.fontSize=t,s.isType3Font)return;const l=s.loadedName||"sans-serif",c=s.systemFontInfo?.css||`"${l}", ${s.fallbackName}`;let d="normal";s.black?d="900":s.bold&&(d="bold");const h=s.italic?"italic":"normal";let f=t;t<kv?f=kv:t>Rv&&(f=Rv),this.current.fontSizeScale=t/f,this.ctx.font=`${h} ${d} ${f}px ${c}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e){const{current:t}=this;t.textMatrix=e,t.textMatrixScale=Math.hypot(e[0],e[1]),t.x=t.lineX=0,t.y=t.lineY=0}nextLine(){this.moveText(0,this.current.leading)}#n(e,t,s){const a=new Path2D;return a.addPath(e,new DOMMatrix(s).invertSelf().multiplySelf(t)),a}paintChar(e,t,s,a,l){const c=this.ctx,d=this.current,h=d.font,f=d.textRenderingMode,p=d.fontSize/d.fontSizeScale,b=f&Yt.FILL_STROKE_MASK,v=!!(f&Yt.ADD_TO_PATH_FLAG),x=d.patternFill&&!h.missingFile,w=d.patternStroke&&!h.missingFile;let A;if((h.disableFontFace||v||x||w)&&(A=h.getPathGenerator(this.commonObjs,e)),h.disableFontFace||x||w){c.save(),c.translate(t,s),c.scale(p,-p);let _;if((b===Yt.FILL||b===Yt.FILL_STROKE)&&(a?(_=c.getTransform(),c.setTransform(...a),c.fill(this.#n(A,_,a))):c.fill(A)),b===Yt.STROKE||b===Yt.FILL_STROKE)if(l){_||=c.getTransform(),c.setTransform(...l);const{a:C,b:k,c:N,d:M}=_,R=ye.inverseTransform(l),P=ye.transform([C,k,N,M,0,0],R);ye.singularValueDecompose2dScale(P,xn),c.lineWidth*=Math.max(xn[0],xn[1])/p,c.stroke(this.#n(A,_,l))}else c.lineWidth/=p,c.stroke(A);c.restore()}else(b===Yt.FILL||b===Yt.FILL_STROKE)&&c.fillText(e,t,s),(b===Yt.STROKE||b===Yt.FILL_STROKE)&&c.strokeText(e,t,s);v&&(this.pendingTextPaths||=[]).push({transform:at(c),x:t,y:s,fontSize:p,path:A})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let s=!1;for(let a=3;a<t.length;a+=4)if(t[a]>0&&t[a]<255){s=!0;break}return Pe(this,"isFontSubpixelAAEnabled",s)}showText(e){const t=this.current,s=t.font;if(s.isType3Font)return this.showType3Text(e);const a=t.fontSize;if(a===0)return;const l=this.ctx,c=t.fontSizeScale,d=t.charSpacing,h=t.wordSpacing,f=t.fontDirection,p=t.textHScale*f,b=e.length,v=s.vertical,x=v?1:-1,w=s.defaultVMetrics,A=a*t.fontMatrix[0],_=t.textRenderingMode===Yt.FILL&&!s.disableFontFace&&!t.patternFill;l.save(),t.textMatrix&&l.transform(...t.textMatrix),l.translate(t.x,t.y+t.textRise),f>0?l.scale(p,-1):l.scale(p,1);let C,k;if(t.patternFill){l.save();const O=t.fillColor.getPattern(l,this,Zn(l),Gt.FILL);C=at(l),l.restore(),l.fillStyle=O}if(t.patternStroke){l.save();const O=t.strokeColor.getPattern(l,this,Zn(l),Gt.STROKE);k=at(l),l.restore(),l.strokeStyle=O}let N=t.lineWidth;const M=t.textMatrixScale;if(M===0||N===0){const O=t.textRenderingMode&Yt.FILL_STROKE_MASK;(O===Yt.STROKE||O===Yt.FILL_STROKE)&&(N=this.getSinglePixelWidth())}else N/=M;if(c!==1&&(l.scale(c,c),N/=c),l.lineWidth=N,s.isInvalidPDFjsFont){const O=[];let D=0;for(const Y of e)O.push(Y.unicode),D+=Y.width;l.fillText(O.join(""),0,0),t.x+=D*A*p,l.restore(),this.compose();return}let R=0,P;for(P=0;P<b;++P){const O=e[P];if(typeof O=="number"){R+=x*O*a/1e3;continue}let D=!1;const Y=(O.isSpace?h:0)+d,te=O.fontChar,H=O.accent;let ne,le,q=O.width;if(v){const j=O.vmetric||w,B=-(O.vmetric?j[1]:q*.5)*A,V=j[2]*A;q=j?-j[0]:q,ne=B/c,le=(R+V)/c}else ne=R/c,le=0;if(s.remeasure&&q>0){const j=l.measureText(te).width*1e3/a*c;if(q<j&&this.isFontSubpixelAAEnabled){const B=q/j;D=!0,l.save(),l.scale(B,1),ne/=B}else q!==j&&(ne+=(q-j)/2e3*a/c)}if(this.contentVisible&&(O.isInFont||s.missingFile)){if(_&&!H)l.fillText(te,ne,le);else if(this.paintChar(te,ne,le,C,k),H){const j=ne+a*H.offset.x/c,B=le-a*H.offset.y/c;this.paintChar(H.fontChar,j,B,C,k)}}const ee=v?q*A-Y*f:q*A+Y*f;R+=ee,D&&l.restore()}v?t.y-=R:t.x+=R*p,l.restore(),this.compose()}showType3Text(e){const t=this.ctx,s=this.current,a=s.font,l=s.fontSize,c=s.fontDirection,d=a.vertical?1:-1,h=s.charSpacing,f=s.wordSpacing,p=s.textHScale*c,b=s.fontMatrix||Nf,v=e.length,x=s.textRenderingMode===Yt.INVISIBLE;let w,A,_,C;if(!(x||l===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),s.textMatrix&&t.transform(...s.textMatrix),t.translate(s.x,s.y+s.textRise),t.scale(p,c),w=0;w<v;++w){if(A=e[w],typeof A=="number"){C=d*A*l/1e3,this.ctx.translate(C,0),s.x+=C*p;continue}const k=(A.isSpace?f:0)+h,N=a.charProcOperatorList[A.operatorListId];N?this.contentVisible&&(this.save(),t.scale(l,l),t.transform(...b),this.executeOperatorList(N),this.restore()):Ce(`Type3 character "${A.operatorListId}" is not available.`);const M=[A.width,0];ye.applyTransform(M,b),_=M[0]*l+k,t.translate(_,0),s.x+=_*p}t.restore()}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,s,a,l,c){const d=new Path2D;d.rect(s,a,l-s,c-a),this.ctx.clip(d),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const s=this.baseTransform||at(this.ctx),a={createCanvasGraphics:l=>new Ia(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new Tm(e,this.ctx,a,s)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e){this.ctx.strokeStyle=this.current.strokeColor=e,this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e){this.ctx.fillStyle=this.current.fillColor=e,this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let s;return this.cachedPatterns.has(e)?s=this.cachedPatterns.get(e):(s=oR(this.getObject(e)),this.cachedPatterns.set(e,s)),t&&(s.matrix=t),s}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const s=this._getPattern(e);t.fillStyle=s.getPattern(t,this,Zn(t),Gt.SHADING);const a=Zn(t);if(a){const{width:l,height:c}=t.canvas,d=Pa.slice();ye.axialAlignedBoundingBox([0,0,l,c],a,d);const[h,f,p,b]=d;this.ctx.fillRect(h,f,p-h,b-f)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Ye("Should not call beginInlineImage")}beginImageData(){Ye("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=at(this.ctx),t)){ye.axialAlignedBoundingBox(t,this.baseTransform,this.current.minMax);const[s,a,l,c]=t,d=new Path2D;d.rect(s,a,l-s,c-a),this.ctx.clip(d),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||iu("TODO: Support non-isolated groups."),e.knockout&&Ce("Knockout groups not supported.");const s=at(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let a=Pa.slice();ye.axialAlignedBoundingBox(e.bbox,at(t),a);const l=[0,0,t.canvas.width,t.canvas.height];a=ye.intersect(a,l)||[0,0,0,0];const c=Math.floor(a[0]),d=Math.floor(a[1]),h=Math.max(Math.ceil(a[2])-c,1),f=Math.max(Math.ceil(a[3])-d,1);this.current.startNewPathAndClipBox([0,0,h,f]);let p="groupAt"+this.groupLevel;e.smask&&(p+="_smask_"+this.smaskCounter++%2);const b=this.cachedCanvases.getCanvas(p,h,f),v=b.context;v.translate(-c,-d),v.transform(...s);let x=new Path2D;const[w,A,_,C]=e.bbox;if(x.rect(w,A,_-w,C-A),e.matrix){const k=new Path2D;k.addPath(x,new DOMMatrix(e.matrix)),x=k}v.clip(x),e.smask?this.smaskStack.push({canvas:b.canvas,context:v,offsetX:c,offsetY:d,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(c,d),t.save()),Jr(t,v),this.ctx=v,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,s=this.groupStack.pop();if(this.ctx=s,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const a=at(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...a);const l=Pa.slice();ye.axialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],a,l),this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(l)}}beginAnnotation(e,t,s,a,l){if(this.#e(),mc(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const c=t[2]-t[0],d=t[3]-t[1];if(l&&this.annotationCanvasMap){s=s.slice(),s[4]-=t[0],s[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=c,t[3]=d,ye.singularValueDecompose2dScale(at(this.ctx),xn);const{viewportScale:h}=this,f=Math.ceil(c*this.outputScaleX*h),p=Math.ceil(d*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(f,p);const{canvas:b,context:v}=this.annotationCanvas;this.annotationCanvasMap.set(e,b),this.annotationCanvas.savedCtx=this.ctx,this.ctx=v,this.ctx.save(),this.ctx.setTransform(xn[0],0,0,-xn[1],0,d*xn[1]),mc(this.ctx)}else{mc(this.ctx),this.endPath();const h=new Path2D;h.rect(t[0],t[1],c,d),this.ctx.clip(h)}}this.current=new Dv(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...s),this.transform(...a)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const s=this.ctx,a=this._createMaskCanvas(e),l=a.canvas;s.save(),s.setTransform(1,0,0,1,0,0),s.drawImage(l,a.offsetX,a.offsetY),s.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,s=0,a=0,l,c){if(!this.contentVisible)return;e=this.getObject(e.data,e);const d=this.ctx;d.save();const h=at(d);d.transform(t,s,a,l,0,0);const f=this._createMaskCanvas(e);d.setTransform(1,0,0,1,f.offsetX-h[4],f.offsetY-h[5]);for(let p=0,b=c.length;p<b;p+=2){const v=ye.transform(h,[t,s,a,l,c[p],c[p+1]]);d.drawImage(f.canvas,v[4],v[5])}d.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,s=this.current.fillColor,a=this.current.patternFill;for(const l of e){const{data:c,width:d,height:h,transform:f}=l,p=this.cachedCanvases.getCanvas("maskCanvas",d,h),b=p.context;b.save();const v=this.getObject(c,l);Pv(b,v),b.globalCompositeOperation="source-in",b.fillStyle=a?s.getPattern(b,this,Zn(t),Gt.FILL):s,b.fillRect(0,0,d,h),b.restore(),t.save(),t.transform(...f),t.scale(1,-1),fc(t,p.canvas,0,0,d,h,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Ce("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,s,a){if(!this.contentVisible)return;const l=this.getObject(e);if(!l){Ce("Dependent image isn't ready yet");return}const c=l.width,d=l.height,h=[];for(let f=0,p=a.length;f<p;f+=2)h.push({transform:[t,0,0,s,a[f],a[f+1]],x:0,y:0,w:c,h:d});this.paintInlineImageXObjectGroup(l,h)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:s,height:a}=e,l=this.cachedCanvases.getCanvas("inlineImage",s,a),c=l.context;return c.filter=this.current.transferMaps,c.drawImage(t,0,0),c.filter="none",l.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,s=e.height,a=this.ctx;this.save();const{filter:l}=a;l!=="none"&&l!==""&&(a.filter="none"),a.scale(1/t,-1/s);let c;if(e.bitmap)c=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)c=e;else{const f=this.cachedCanvases.getCanvas("inlineImage",t,s).context;jv(f,e),c=this.applyTransferMapsToCanvas(f)}const d=this._scaleImage(c,Zn(a));a.imageSmoothingEnabled=Lv(at(a),e.interpolate),fc(a,d.img,0,0,d.paintWidth,d.paintHeight,0,-s,t,s),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const s=this.ctx;let a;if(e.bitmap)a=e.bitmap;else{const l=e.width,c=e.height,h=this.cachedCanvases.getCanvas("inlineImage",l,c).context;jv(h,e),a=this.applyTransferMapsToCanvas(h)}for(const l of t)s.save(),s.transform(...l.transform),s.scale(1,-1),fc(s,a,l.x,l.y,l.w,l.h,0,-1,1,1),s.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e,t){const s=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const a=this.ctx;this.pendingClip&&(s||(this.pendingClip===Ov?a.clip(e,"evenodd"):a.clip(e)),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=at(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),s=Math.hypot(e[0],e[2]),a=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(s,a)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:s,c:a,d:l}=this.ctx.getTransform();let c,d;if(s===0&&a===0){const h=Math.abs(t),f=Math.abs(l);if(h===f)if(e===0)c=d=1/h;else{const p=h*e;c=d=p<1?1/p:1}else if(e===0)c=1/h,d=1/f;else{const p=h*e,b=f*e;c=p<1?1/p:1,d=b<1?1/b:1}}else{const h=Math.abs(t*l-s*a),f=Math.hypot(t,s),p=Math.hypot(a,l);if(e===0)c=p/h,d=f/h;else{const b=e*h;c=p>b?p/b:1,d=f>b?f/b:1}}this._cachedScaleForStroking[0]=c,this._cachedScaleForStroking[1]=d}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:s,current:{lineWidth:a}}=this,[l,c]=this.getScaleForStroking();if(l===c){s.lineWidth=(a||1)*l,s.stroke(e);return}const d=s.getLineDash();t&&s.save(),s.scale(l,c),rf.a=1/l,rf.d=1/c;const h=new Path2D;if(h.addPath(e,rf),d.length>0){const f=Math.max(l,c);s.setLineDash(d.map(p=>p/f)),s.lineDashOffset/=f}s.lineWidth=a||1,s.stroke(h),t&&s.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}for(const r in wo)Ia.prototype[r]!==void 0&&(Ia.prototype[wo[r]]=Ia.prototype[r]);class is{static#e=null;static#t="";static get workerPort(){return this.#e}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");this.#e=e}static get workerSrc(){return this.#t}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");this.#t=e}}class pR{#e;#t;constructor({parsedData:e,rawData:t}){this.#e=e,this.#t=t}getRaw(){return this.#t}get(e){return this.#e.get(e)??null}[Symbol.iterator](){return this.#e.entries()}}const ja=Symbol("INTERNAL");class gR{#e=!1;#t=!1;#n=!1;#s=!0;constructor(e,{name:t,intent:s,usage:a,rbGroups:l}){this.#e=!!(e&bn.DISPLAY),this.#t=!!(e&bn.PRINT),this.name=t,this.intent=s,this.usage=a,this.rbGroups=l}get visible(){if(this.#n)return this.#s;if(!this.#s)return!1;const{print:e,view:t}=this.usage;return this.#e?t?.viewState!=="OFF":this.#t?e?.printState!=="OFF":!0}_setVisible(e,t,s=!1){e!==ja&&Ye("Internal method `_setVisible` called."),this.#n=s,this.#s=t}}class yR{#e=null;#t=new Map;#n=null;#s=null;constructor(e,t=bn.DISPLAY){if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,this.#s=e.order;for(const s of e.groups)this.#t.set(s.id,new gR(t,s));if(e.baseState==="OFF")for(const s of this.#t.values())s._setVisible(ja,!1);for(const s of e.on)this.#t.get(s)._setVisible(ja,!0);for(const s of e.off)this.#t.get(s)._setVisible(ja,!1);this.#n=this.getHash()}}#a(e){const t=e.length;if(t<2)return!0;const s=e[0];for(let a=1;a<t;a++){const l=e[a];let c;if(Array.isArray(l))c=this.#a(l);else if(this.#t.has(l))c=this.#t.get(l).visible;else return Ce(`Optional content group not found: ${l}`),!0;switch(s){case"And":if(!c)return!1;break;case"Or":if(c)return!0;break;case"Not":return!c;default:return!0}}return s==="And"}isVisible(e){if(this.#t.size===0)return!0;if(!e)return iu("Optional content group not defined."),!0;if(e.type==="OCG")return this.#t.has(e.id)?this.#t.get(e.id).visible:(Ce(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return this.#a(e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!this.#t.has(t))return Ce(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!this.#t.has(t))return Ce(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!this.#t.has(t))return Ce(`Optional content group not found: ${t}`),!0;if(!this.#t.get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!this.#t.has(t))return Ce(`Optional content group not found: ${t}`),!0;if(this.#t.get(t).visible)return!1}return!0}return Ce(`Unknown optional content policy ${e.policy}.`),!0}return Ce(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,s=!0){const a=this.#t.get(e);if(!a){Ce(`Optional content group not found: ${e}`);return}if(s&&t&&a.rbGroups.length)for(const l of a.rbGroups)for(const c of l)c!==e&&this.#t.get(c)?._setVisible(ja,!1,!0);a._setVisible(ja,!!t,!0),this.#e=null}setOCGState({state:e,preserveRB:t}){let s;for(const a of e){switch(a){case"ON":case"OFF":case"Toggle":s=a;continue}const l=this.#t.get(a);if(l)switch(s){case"ON":this.setVisibility(a,!0,t);break;case"OFF":this.setVisibility(a,!1,t);break;case"Toggle":this.setVisibility(a,!l.visible,t);break}}this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#s?this.#s.slice():[...this.#t.keys()]:null}getGroup(e){return this.#t.get(e)||null}getHash(){if(this.#e!==null)return this.#e;const e=new $x;for(const[t,s]of this.#t)e.update(`${t}:${s.visible}`);return this.#e=e.hexdigest()}[Symbol.iterator](){return this.#t.entries()}}class bR{constructor(e,{disableRange:t=!1,disableStream:s=!1}){Ct(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:a,initialData:l,progressiveDone:c,contentDispositionFilename:d}=e;if(this._queuedChunks=[],this._progressiveDone=c,this._contentDispositionFilename=d,l?.length>0){const h=l instanceof Uint8Array&&l.byteLength===l.buffer.byteLength?l.buffer:new Uint8Array(l).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!s,this._isRangeSupported=!t,this._contentLength=a,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((h,f)=>{this._onReceiveData({begin:h,chunk:f})}),e.addProgressListener((h,f)=>{this._onProgress({loaded:h,total:f})}),e.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const s=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(s):this._queuedChunks.push(s);else{const a=this._rangeReaders.some(function(l){return l._begin!==e?!1:(l._enqueue(s),!0)});Ct(a,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(e){e.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:e.loaded}):this._fullRequestReader?.onProgress?.({loaded:e.loaded,total:e.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ct(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new vR(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new xR(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(s),s}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeReaders.slice(0))t.cancel(e);this._pdfDataRangeTransport.abort()}}class vR{constructor(e,t,s=!1,a=null){this._stream=e,this._done=s||!1,this._filename=ru(a)?a:null,this._queuedChunks=t||[],this._loaded=0;for(const l of this._queuedChunks)this._loaded+=l.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class xR{constructor(e,t,s){this._stream=e,this._begin=t,this._end=s,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function wR(r){let e=!0,t=s("filename\\*","i").exec(r);if(t){t=t[1];let p=d(t);return p=unescape(p),p=h(p),p=f(p),l(p)}if(t=c(r),t){const p=f(t);return l(p)}if(t=s("filename","i").exec(r),t){t=t[1];let p=d(t);return p=f(p),l(p)}function s(p,b){return new RegExp("(?:^|;)\\s*"+p+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',b)}function a(p,b){if(p){if(!/^[\x00-\xFF]+$/.test(b))return b;try{const v=new TextDecoder(p,{fatal:!0}),x=jo(b);b=v.decode(x),e=!1}catch{}}return b}function l(p){return e&&/[\x80-\xff]/.test(p)&&(p=a("utf-8",p),e&&(p=a("iso-8859-1",p))),p}function c(p){const b=[];let v;const x=s("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(v=x.exec(p))!==null;){let[,A,_,C]=v;if(A=parseInt(A,10),A in b){if(A===0)break;continue}b[A]=[_,C]}const w=[];for(let A=0;A<b.length&&A in b;++A){let[_,C]=b[A];C=d(C),_&&(C=unescape(C),A===0&&(C=h(C))),w.push(C)}return w.join("")}function d(p){if(p.startsWith('"')){const b=p.slice(1).split('\\"');for(let v=0;v<b.length;++v){const x=b[v].indexOf('"');x!==-1&&(b[v]=b[v].slice(0,x),b.length=v+1),b[v]=b[v].replaceAll(/\\(.)/g,"$1")}p=b.join('"')}return p}function h(p){const b=p.indexOf("'");if(b===-1)return p;const v=p.slice(0,b),w=p.slice(b+1).replace(/^[^']*'/,"");return a(v,w)}function f(p){return!p.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(p)?p:p.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(b,v,x,w){if(x==="q"||x==="Q")return w=w.replaceAll("_"," "),w=w.replaceAll(/=([0-9a-fA-F]{2})/g,function(A,_){return String.fromCharCode(parseInt(_,16))}),a(v,w);try{w=atob(w)}catch{}return a(v,w)})}return""}function ew(r,e){const t=new Headers;if(!r||!e||typeof e!="object")return t;for(const s in e){const a=e[s];a!==void 0&&t.append(s,a)}return t}function ou(r){return URL.parse(r)?.origin??null}function tw({responseHeaders:r,isHttp:e,rangeChunkSize:t,disableRange:s}){const a={allowRangeRequests:!1,suggestedLength:void 0},l=parseInt(r.get("Content-Length"),10);return!Number.isInteger(l)||(a.suggestedLength=l,l<=2*t)||s||!e||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(a.allowRangeRequests=!0),a}function nw(r){const e=r.get("Content-Disposition");if(e){let t=wR(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(ru(t))return t}return null}function zo(r,e){return new Ao(`Unexpected server response (${r}) while retrieving PDF "${e}".`,r,r===404||r===0&&e.startsWith("file:"))}function sw(r){return r===200||r===206}function iw(r,e,t){return{method:"GET",headers:r,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function aw(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(Ce(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class AR{_responseOrigin=null;constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=ew(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ct(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new SR(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new ER(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class SR{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const s=new Headers(e.headers),a=t.url;fetch(a,iw(s,this._withCredentials,this._abortController)).then(l=>{if(e._responseOrigin=ou(l.url),!sw(l.status))throw zo(l.status,a);this._reader=l.body.getReader(),this._headersCapability.resolve();const c=l.headers,{allowRangeRequests:d,suggestedLength:h}=tw({responseHeaders:c,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=d,this._contentLength=h||this._contentLength,this._filename=nw(c),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ns("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:aw(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}class ER{constructor(e,t,s){this._stream=e,this._reader=null,this._loaded=0;const a=e.source;this._withCredentials=a.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!a.disableStream,this._abortController=new AbortController;const l=new Headers(e.headers);l.append("Range",`bytes=${t}-${s-1}`);const c=a.url;fetch(c,iw(l,this._withCredentials,this._abortController)).then(d=>{const h=ou(d.url);if(h!==e._responseOrigin)throw new Error(`Expected range response-origin "${h}" to match "${e._responseOrigin}".`);if(!sw(d.status))throw zo(d.status,c);this._readCapability.resolve(),this._reader=d.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,this.onProgress?.({loaded:this._loaded}),{value:aw(e),done:!1})}cancel(e){this._reader?.cancel(e),this._abortController.abort()}}const of=200,lf=206;function _R(r){const e=r.response;return typeof e!="string"?e:jo(e).buffer}class CR{_responseOrigin=null;constructor({url:e,httpHeaders:t,withCredentials:s}){this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=ew(this.isHttp,t),this.withCredentials=s||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,s=this.currXhrId++,a=this.pendingRequests[s]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[l,c]of this.headers)t.setRequestHeader(l,c);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),a.expectedStatus=lf):a.expectedStatus=of,t.responseType="arraybuffer",Ct(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,s),t.onprogress=this.onProgress.bind(this,s),a.onHeadersReceived=e.onHeadersReceived,a.onDone=e.onDone,a.onError=e.onError,a.onProgress=e.onProgress,t.send(null),s}onProgress(e,t){const s=this.pendingRequests[e];s&&s.onProgress?.(t)}onStateChange(e,t){const s=this.pendingRequests[e];if(!s)return;const a=s.xhr;if(a.readyState>=2&&s.onHeadersReceived&&(s.onHeadersReceived(),delete s.onHeadersReceived),a.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],a.status===0&&this.isHttp){s.onError(a.status);return}const l=a.status||of;if(!(l===of&&s.expectedStatus===lf)&&l!==s.expectedStatus){s.onError(a.status);return}const d=_R(a);if(l===lf){const h=a.getResponseHeader("Content-Range"),f=/bytes (\d+)-(\d+)\/(\d+)/.exec(h);f?s.onDone({begin:parseInt(f[1],10),chunk:d}):(Ce('Missing or invalid "Content-Range" header.'),s.onError(0))}else d?s.onDone({begin:0,chunk:d}):s.onError(a.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class TR{constructor(e){this._source=e,this._manager=new CR(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ct(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new NR(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const s=new kR(this._manager,e,t);return s.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(s),s}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class NR{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=ou(t.responseURL);const s=t.getAllResponseHeaders(),a=new Headers(s?s.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(d=>{const[h,...f]=d.split(": ");return[h,f.join(": ")]}):[]),{allowRangeRequests:l,suggestedLength:c}=tw({responseHeaders:a,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});l&&(this._isRangeSupported=!0),this._contentLength=c||this._contentLength,this._filename=nw(a),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=zo(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){this.onProgress?.({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class kR{constructor(e,t,s){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:s,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){const e=ou(this._manager.getRequestXhr(this._requestId)?.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){this.onClosed?.(this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const s of this._requests)s.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??=zo(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){this.isStreamingSupported||this.onProgress?.({loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const RR=/^[a-z][a-z0-9\-+.]+:/i;function MR(r){if(RR.test(r))return new URL(r);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(r))}class DR{constructor(e){this.source=e,this.url=MR(e.url),Ct(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return Ct(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new jR(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const s=new PR(this,e,t);return this._rangeRequestReaders.push(s),s}cancelAllRequests(e){this._fullRequestReader?.cancel(e);for(const t of this._rangeRequestReaders.slice(0))t.cancel(e)}}class jR{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const s=process.getBuiltinModule("fs");s.promises.lstat(this._url).then(a=>{this._contentLength=a.size,this._setReadableStream(s.createReadStream(this._url)),this._headersCapability.resolve()},a=>{a.code==="ENOENT"&&(a=zo(0,this._url.href)),this._storedError=a,this._headersCapability.reject(a)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ns("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class PR{constructor(e,t,s){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const a=e.source;this._isStreamingSupported=!a.disableStream;const l=process.getBuiltinModule("fs");this._setReadableStream(l.createReadStream(this._url,{start:t,end:s-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const eo=Symbol("INITIAL_DATA");class rw{#e=Object.create(null);#t(e){return this.#e[e]||={...Promise.withResolvers(),data:eo}}get(e,t=null){if(t){const a=this.#t(e);return a.promise.then(()=>t(a.data)),null}const s=this.#e[e];if(!s||s.data===eo)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return s.data}has(e){const t=this.#e[e];return!!t&&t.data!==eo}delete(e){const t=this.#e[e];return!t||t.data===eo?!1:(delete this.#e[e],!0)}resolve(e,t=null){const s=this.#t(e);s.data=t,s.resolve()}clear(){for(const e in this.#e){const{data:t}=this.#e[e];t?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const e in this.#e){const{data:t}=this.#e[e];t!==eo&&(yield[e,t])}}}const LR=1e5,Iv=30;let So=class jn{#e=Promise.withResolvers();#t=null;#n=!1;#s=!!globalThis.FontInspector?.enabled;#a=null;#i=null;#o=0;#r=0;#d=null;#l=null;#h=0;#u=0;#f=Object.create(null);#m=[];#p=null;#c=[];#g=new WeakMap;#y=null;static#b=new Map;static#x=new Map;static#w=new WeakMap;static#A=null;static#_=new Set;constructor({textContentSource:e,container:t,viewport:s}){if(e instanceof ReadableStream)this.#p=e;else if(typeof e=="object")this.#p=new ReadableStream({start(h){h.enqueue(e),h.close()}});else throw new Error('No "textContentSource" parameter specified.');this.#t=this.#l=t,this.#u=s.scale*Bn.pixelRatio,this.#h=s.rotation,this.#i={div:null,properties:null,ctx:null};const{pageWidth:a,pageHeight:l,pageX:c,pageY:d}=s.rawDims;this.#y=[1,0,0,-1,-c,d+l],this.#r=a,this.#o=l,jn.#M(),ai(t,s),this.#e.promise.finally(()=>{jn.#_.delete(this),this.#i=null,this.#f=null}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=It.platform;return Pe(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{this.#d.read().then(({value:t,done:s})=>{if(s){this.#e.resolve();return}this.#a??=t.lang,Object.assign(this.#f,t.styles),this.#T(t.items),e()},this.#e.reject)};return this.#d=this.#p.getReader(),jn.#_.add(this),e(),this.#e.promise}update({viewport:e,onBefore:t=null}){const s=e.scale*Bn.pixelRatio,a=e.rotation;if(a!==this.#h&&(t?.(),this.#h=a,ai(this.#l,{rotation:a})),s!==this.#u){t?.(),this.#u=s;const l={div:null,properties:null,ctx:jn.#N(this.#a)};for(const c of this.#c)l.properties=this.#g.get(c),l.div=c,this.#S(l)}}cancel(){const e=new Ns("TextLayer task cancelled.");this.#d?.cancel(e).catch(()=>{}),this.#d=null,this.#e.reject(e)}get textDivs(){return this.#c}get textContentItemsStr(){return this.#m}#T(e){if(this.#n)return;this.#i.ctx??=jn.#N(this.#a);const t=this.#c,s=this.#m;for(const a of e){if(t.length>LR){Ce("Ignoring additional textDivs for performance reasons."),this.#n=!0;return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const l=this.#t;this.#t=document.createElement("span"),this.#t.classList.add("markedContent"),a.id!==null&&this.#t.setAttribute("id",`${a.id}`),l.append(this.#t)}else a.type==="endMarkedContent"&&(this.#t=this.#t.parentNode);continue}s.push(a.str),this.#k(a)}}#k(e){const t=document.createElement("span"),s={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};this.#c.push(t);const a=ye.transform(this.#y,e.transform);let l=Math.atan2(a[1],a[0]);const c=this.#f[e.fontName];c.vertical&&(l+=Math.PI/2);let d=this.#s&&c.fontSubstitution||c.fontFamily;d=jn.fontFamilyMap.get(d)||d;const h=Math.hypot(a[2],a[3]),f=h*jn.#D(d,c,this.#a);let p,b;l===0?(p=a[4],b=a[5]-f):(p=a[4]+f*Math.sin(l),b=a[5]-f*Math.cos(l));const v="calc(var(--total-scale-factor) *",x=t.style;this.#t===this.#l?(x.left=`${(100*p/this.#r).toFixed(2)}%`,x.top=`${(100*b/this.#o).toFixed(2)}%`):(x.left=`${v}${p.toFixed(2)}px)`,x.top=`${v}${b.toFixed(2)}px)`),x.fontSize=`${v}${(jn.#A*h).toFixed(2)}px)`,x.fontFamily=d,s.fontSize=h,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,this.#s&&(t.dataset.fontName=c.fontSubstitutionLoadedName||e.fontName),l!==0&&(s.angle=l*(180/Math.PI));let w=!1;if(e.str.length>1)w=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const A=Math.abs(e.transform[0]),_=Math.abs(e.transform[3]);A!==_&&Math.max(A,_)/Math.min(A,_)>1.5&&(w=!0)}if(w&&(s.canvasWidth=c.vertical?e.height:e.width),this.#g.set(t,s),this.#i.div=t,this.#i.properties=s,this.#S(this.#i),s.hasText&&this.#t.append(t),s.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),this.#t.append(A)}}#S(e){const{div:t,properties:s,ctx:a}=e,{style:l}=t;let c="";if(jn.#A>1&&(c=`scale(${1/jn.#A})`),s.canvasWidth!==0&&s.hasText){const{fontFamily:d}=l,{canvasWidth:h,fontSize:f}=s;jn.#C(a,f*this.#u,d);const{width:p}=a.measureText(t.textContent);p>0&&(c=`scaleX(${h*this.#u/p}) ${c}`)}s.angle!==0&&(c=`rotate(${s.angle}deg) ${c}`),c.length>0&&(l.transform=c)}static cleanup(){if(!(this.#_.size>0)){this.#b.clear();for(const{canvas:e}of this.#x.values())e.remove();this.#x.clear()}}static#N(e=null){let t=this.#x.get(e||="");if(!t){const s=document.createElement("canvas");s.className="hiddenCanvasElement",s.lang=e,document.body.append(s),t=s.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.#x.set(e,t),this.#w.set(t,{size:0,family:""})}return t}static#C(e,t,s){const a=this.#w.get(e);t===a.size&&s===a.family||(e.font=`${t}px ${s}`,a.size=t,a.family=s)}static#M(){if(this.#A!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),this.#A=e.getBoundingClientRect().height,e.remove()}static#D(e,t,s){const a=this.#b.get(e);if(a)return a;const l=this.#N(s);l.canvas.width=l.canvas.height=Iv,this.#C(l,Iv,e);const c=l.measureText(""),d=c.fontBoundingBoxAscent,h=Math.abs(c.fontBoundingBoxDescent);l.canvas.width=l.canvas.height=0;let f=.8;return d?f=d/(d+h):(It.platform.isFirefox&&Ce("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?f=t.ascent:t.descent&&(f=1+t.descent)),this.#b.set(e,f),f}};class Eo{static textContent(e){const t=[],s={items:t,styles:Object.create(null)};function a(l){if(!l)return;let c=null;const d=l.name;if(d==="#text")c=l.value;else if(Eo.shouldBuildText(d))l?.attributes?.textContent?c=l.attributes.textContent:l.value&&(c=l.value);else return;if(c!==null&&t.push({str:c}),!!l.children)for(const h of l.children)a(h)}return a(e),s}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const OR=100;function Nm(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const e=new km,{docId:t}=e,s=r.url?$k(r.url):null,a=r.data?Yk(r.data):null,l=r.httpHeaders||null,c=r.withCredentials===!0,d=r.password??null,h=r.range instanceof Rm?r.range:null,f=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:2**16;let p=r.worker instanceof Ha?r.worker:null;const b=r.verbosity,v=typeof r.docBaseUrl=="string"&&!Lo(r.docBaseUrl)?r.docBaseUrl:null,x=dc(r.cMapUrl),w=r.cMapPacked!==!1,A=r.CMapReaderFactory||(Zt?eR:_v),_=dc(r.iccUrl),C=dc(r.standardFontDataUrl),k=r.StandardFontDataFactory||(Zt?tR:Cv),N=dc(r.wasmUrl),M=r.WasmFactory||(Zt?nR:Tv),R=r.stopAtErrors!==!0,P=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,O=r.isEvalSupported!==!1,D=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!Zt,Y=typeof r.isImageDecoderSupported=="boolean"?r.isImageDecoderSupported:!Zt&&(It.platform.isFirefox||!globalThis.chrome),te=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,H=typeof r.disableFontFace=="boolean"?r.disableFontFace:Zt,ne=r.fontExtraProperties===!0,le=r.enableXfa===!0,q=r.ownerDocument||globalThis.document,ee=r.disableRange===!0,j=r.disableStream===!0,B=r.disableAutoFetch===!0,V=r.pdfBug===!0,ce=r.CanvasFactory||(Zt?Jk:Kk),I=r.FilterFactory||(Zt?Zk:Qk),Q=r.enableHWA===!0,L=r.useWasm!==!1,z=h?h.length:r.length??NaN,$=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!Zt&&!H,oe=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:!!(A===_v&&k===Cv&&M===Tv&&x&&C&&N&&io(x,document.baseURI)&&io(C,document.baseURI)&&io(N,document.baseURI)),J=null;Nk(b);const re={canvasFactory:new ce({ownerDocument:q,enableHWA:Q}),filterFactory:new I({docId:t,ownerDocument:q}),cMapReaderFactory:oe?null:new A({baseUrl:x,isCompressed:w}),standardFontDataFactory:oe?null:new k({baseUrl:C}),wasmFactory:oe?null:new M({baseUrl:N})};p||(p=Ha.create({verbosity:b,port:is.workerPort}),e._worker=p);const be={docId:t,apiVersion:"5.3.93",data:a,password:d,disableAutoFetch:B,rangeChunkSize:f,length:z,docBaseUrl:v,enableXfa:le,evaluatorOptions:{maxImageSize:P,disableFontFace:H,ignoreErrors:R,isEvalSupported:O,isOffscreenCanvasSupported:D,isImageDecoderSupported:Y,canvasMaxAreaInBytes:te,fontExtraProperties:ne,useSystemFonts:$,useWasm:L,useWorkerFetch:oe,cMapUrl:x,iccUrl:_,standardFontDataUrl:C,wasmUrl:N}},Ne={ownerDocument:q,pdfBug:V,styleElement:J,loadingParams:{disableAutoFetch:B,enableXfa:le}};return p.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const _e=p.messageHandler.sendWithPromise("GetDocRequest",be,a?[a.buffer]:null);let rt;if(h)rt=new bR(h,{disableRange:ee,disableStream:j});else if(!a){if(!s)throw new Error("getDocument - no `url` parameter provided.");const xt=io(s)?AR:Zt?DR:TR;rt=new xt({url:s,length:z,httpHeaders:l,withCredentials:c,rangeChunkSize:f,disableRange:ee,disableStream:j})}return _e.then(xt=>{if(e.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const Oe=new ao(t,xt,p.port),Ge=new FR(Oe,e,rt,Ne,re);e._transport=Ge,Oe.send("Ready",null)})}).catch(e._capability.reject),e}class km{static#e=0;_capability=Promise.withResolvers();_transport=null;_worker=null;docId=`d${km.#e++}`;destroyed=!1;onPassword=null;onProgress=null;get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(e){throw this._worker?.port&&delete this._worker._pendingDestroy,e}this._transport=null,this._worker?.destroy(),this._worker=null}async getData(){return this._transport.getData()}}let Rm=class{#e=Promise.withResolvers();#t=[];#n=[];#s=[];#a=[];constructor(e,t,s=!1,a=null){this.length=e,this.initialData=t,this.progressiveDone=s,this.contentDispositionFilename=a}addRangeListener(e){this.#a.push(e)}addProgressListener(e){this.#s.push(e)}addProgressiveReadListener(e){this.#n.push(e)}addProgressiveDoneListener(e){this.#t.push(e)}onDataRange(e,t){for(const s of this.#a)s(e,t)}onDataProgress(e,t){this.#e.promise.then(()=>{for(const s of this.#s)s(e,t)})}onDataProgressiveRead(e){this.#e.promise.then(()=>{for(const t of this.#n)t(e)})}onDataProgressiveDone(){this.#e.promise.then(()=>{for(const e of this.#t)e()})}transportReady(){this.#e.resolve()}requestDataRange(e,t){Ye("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class IR{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Pe(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class zR{#e=!1;constructor(e,t,s,a=!1){this._pageIndex=e,this._pageInfo=t,this._transport=s,this._stats=a?new Av:null,this._pdfBug=a,this.commonObjs=s.commonObjs,this.objs=new rw,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:s=0,offsetY:a=0,dontFlip:l=!1}={}){return new Po({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:s,offsetY:a,dontFlip:l})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Pe(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,viewport:t,intent:s="display",annotationMode:a=ss.ENABLE,transform:l=null,background:c=null,optionalContentConfigPromise:d=null,annotationCanvasMap:h=null,pageColors:f=null,printAnnotationStorage:p=null,isEditing:b=!1}){this._stats?.time("Overall");const v=this._transport.getRenderingIntent(s,a,p,b),{renderingIntent:x,cacheKey:w}=v;this.#e=!1,d||=this._transport.getOptionalContentConfig(x);let A=this._intentStates.get(w);A||(A=Object.create(null),this._intentStates.set(w,A)),A.streamReaderCancelTimeout&&(clearTimeout(A.streamReaderCancelTimeout),A.streamReaderCancelTimeout=null);const _=!!(x&bn.PRINT);A.displayReadyCapability||(A.displayReadyCapability=Promise.withResolvers(),A.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(v));const C=M=>{A.renderTasks.delete(k),_&&(this.#e=!0),this.#t(),M?(k.capability.reject(M),this._abortOperatorList({intentState:A,reason:M instanceof Error?M:new Error(M)})):k.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),globalThis.Stats?.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},k=new La({callback:C,params:{canvasContext:e,viewport:t,transform:l,background:c},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:h,operatorList:A.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!_,pdfBug:this._pdfBug,pageColors:f});(A.renderTasks||=new Set).add(k);const N=k.task;return Promise.all([A.displayReadyCapability.promise,d]).then(([M,R])=>{if(this.destroyed){C();return}if(this._stats?.time("Rendering"),!(R.renderingIntent&x))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");k.initializeGraphics({transparency:M,optionalContentConfig:R}),k.operatorListChanged()}).catch(C),N}getOperatorList({intent:e="display",annotationMode:t=ss.ENABLE,printAnnotationStorage:s=null,isEditing:a=!1}={}){function l(){d.operatorList.lastChunk&&(d.opListReadCapability.resolve(d.operatorList),d.renderTasks.delete(h))}const c=this._transport.getRenderingIntent(e,t,s,a,!0);let d=this._intentStates.get(c.cacheKey);d||(d=Object.create(null),this._intentStates.set(c.cacheKey,d));let h;return d.opListReadCapability||(h=Object.create(null),h.operatorListChanged=l,d.opListReadCapability=Promise.withResolvers(),(d.renderTasks||=new Set).add(h),d.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(c)),d.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(a){return a.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>Eo.textContent(s));const t=this.streamTextContent(e);return new Promise(function(s,a){function l(){c.read().then(function({value:h,done:f}){if(f){s(d);return}d.lang??=h.lang,Object.assign(d.styles,h.styles),d.items.push(...h.items),l()},a)}const c=t.getReader(),d={items:[],styles:Object.create(null),lang:null};l()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const s of t.renderTasks)e.push(s.completed),s.cancel();return this.objs.clear(),this.#e=!1,Promise.all(e)}cleanup(e=!1){this.#e=!0;const t=this.#t();return e&&t&&(this._stats&&=new Av),t}#t(){if(!this.#e||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#e=!1,!0}_startRenderPage(e,t){const s=this._intentStates.get(t);s&&(this._stats?.timeEnd("Page Request"),s.displayReadyCapability?.resolve(e))}_renderPageChunk(e,t){for(let s=0,a=e.length;s<a;s++)t.operatorList.fnArray.push(e.fnArray[s]),t.operatorList.argsArray.push(e.argsArray[s]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const s of t.renderTasks)s.operatorListChanged();e.lastChunk&&this.#t()}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:s,modifiedIds:a}){const{map:l,transfer:c}=s,h=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:l,modifiedIds:a},c).getReader(),f=this._intentStates.get(t);f.streamReader=h;const p=()=>{h.read().then(({value:b,done:v})=>{if(v){f.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(b,f),p())},b=>{if(f.streamReader=null,!this._transport.destroyed){if(f.operatorList){f.operatorList.lastChunk=!0;for(const v of f.renderTasks)v.operatorListChanged();this.#t()}if(f.displayReadyCapability)f.displayReadyCapability.reject(b);else if(f.opListReadCapability)f.opListReadCapability.reject(b);else throw b}})};p()}_abortOperatorList({intentState:e,reason:t,force:s=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!s){if(e.renderTasks.size>0)return;if(t instanceof au){let a=OR;t.extraDelay>0&&t.extraDelay<1e3&&(a+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},a);return}}if(e.streamReader.cancel(new Ns(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[a,l]of this._intentStates)if(l===e){this._intentStates.delete(a);break}this.cleanup()}}}get stats(){return this._stats}}var ni,zn,Ss,Mi,Uc,Di,ji,Jt,Ec,ow,lw,ro,Ua,_c;const tt=class tt{constructor({name:e=null,port:t=null,verbosity:s=kk()}={}){Kn(this,Jt);Kn(this,ni,Promise.withResolvers());Kn(this,zn,null);Kn(this,Ss,null);Kn(this,Mi,null);if(this.name=e,this.destroyed=!1,this.verbosity=s,t){if(Je(tt,ji).has(t))throw new Error("Cannot use more than one PDFWorker per port.");Je(tt,ji).set(t,this),Qn(this,Jt,ow).call(this,t)}else Qn(this,Jt,lw).call(this)}get promise(){return Je(this,ni).promise}get port(){return Je(this,Ss)}get messageHandler(){return Je(this,zn)}destroy(){this.destroyed=!0,Je(this,Mi)?.terminate(),rn(this,Mi,null),Je(tt,ji).delete(Je(this,Ss)),rn(this,Ss,null),Je(this,zn)?.destroy(),rn(this,zn,null)}static create(e){const t=Je(this,ji).get(e?.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new tt(e)}static get workerSrc(){if(is.workerSrc)return is.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Pe(this,"_setupFakeWorkerGlobal",(async()=>Je(this,Ua,_c)?Je(this,Ua,_c):(await import(this.workerSrc)).WorkerMessageHandler)())}};ni=new WeakMap,zn=new WeakMap,Ss=new WeakMap,Mi=new WeakMap,Uc=new WeakMap,Di=new WeakMap,ji=new WeakMap,Jt=new WeakSet,Ec=function(){Je(this,ni).resolve(),Je(this,zn).send("configure",{verbosity:this.verbosity})},ow=function(e){rn(this,Ss,e),rn(this,zn,new ao("main","worker",e)),Je(this,zn).on("ready",()=>{}),Qn(this,Jt,Ec).call(this)},lw=function(){if(Je(tt,Di)||Je(tt,Ua,_c)){Qn(this,Jt,ro).call(this);return}let{workerSrc:e}=tt;try{tt._isSameOrigin(window.location,e)||(e=tt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),s=new ao("main","worker",t),a=()=>{l.abort(),s.destroy(),t.terminate(),this.destroyed?Je(this,ni).reject(new Error("Worker was destroyed")):Qn(this,Jt,ro).call(this)},l=new AbortController;t.addEventListener("error",()=>{Je(this,Mi)||a()},{signal:l.signal}),s.on("test",d=>{if(l.abort(),this.destroyed||!d){a();return}rn(this,zn,s),rn(this,Ss,t),rn(this,Mi,t),Qn(this,Jt,Ec).call(this)}),s.on("ready",d=>{if(l.abort(),this.destroyed){a();return}try{c()}catch{Qn(this,Jt,ro).call(this)}});const c=()=>{const d=new Uint8Array;s.send("test",d,[d.buffer])};c();return}catch{iu("The worker has been disabled.")}Qn(this,Jt,ro).call(this)},ro=function(){Je(tt,Di)||(Ce("Setting up fake worker."),rn(tt,Di,!0)),tt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){Je(this,ni).reject(new Error("Worker was destroyed"));return}const t=new Wk;rn(this,Ss,t);const s=`fake${Nb(tt,Uc)._++}`,a=new ao(s+"_worker",s,t);e.setup(a,t),rn(this,zn,new ao(s,s+"_worker",t)),Qn(this,Jt,Ec).call(this)}).catch(e=>{Je(this,ni).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},Ua=new WeakSet,_c=function(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}},Kn(tt,Ua),Kn(tt,Uc,0),Kn(tt,Di,!1),Kn(tt,ji,new WeakMap),Zt&&(rn(tt,Di,!0),is.workerSrc||="./pdf.worker.mjs"),tt._isSameOrigin=(e,t)=>{const s=URL.parse(e);if(!s?.origin||s.origin==="null")return!1;const a=new URL(t,s);return s.origin===a.origin},tt._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},tt.fromPort=e=>{if(zk("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!e?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return tt.create(e)};let Ha=tt;class FR{#e=new Map;#t=new Map;#n=new Map;#s=new Map;#a=null;constructor(e,t,s,a,l){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new rw,this.fontLoader=new qk({ownerDocument:a.ownerDocument,styleElement:a.styleElement}),this.loadingParams=a.loadingParams,this._params=a,this.canvasFactory=l.canvasFactory,this.filterFactory=l.filterFactory,this.cMapReaderFactory=l.cMapReaderFactory,this.standardFontDataFactory=l.standardFontDataFactory,this.wasmFactory=l.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}#i(e,t=null){const s=this.#e.get(e);if(s)return s;const a=this.messageHandler.sendWithPromise(e,t);return this.#e.set(e,a),a}get annotationStorage(){return Pe(this,"annotationStorage",new Em)}getRenderingIntent(e,t=ss.ENABLE,s=null,a=!1,l=!1){let c=bn.DISPLAY,d=kf;switch(e){case"any":c=bn.ANY;break;case"display":break;case"print":c=bn.PRINT;break;default:Ce(`getRenderingIntent - invalid intent: ${e}`)}const h=c&bn.PRINT&&s instanceof Yx?s:this.annotationStorage;switch(t){case ss.DISABLE:c+=bn.ANNOTATIONS_DISABLE;break;case ss.ENABLE:break;case ss.ENABLE_FORMS:c+=bn.ANNOTATIONS_FORMS;break;case ss.ENABLE_STORAGE:c+=bn.ANNOTATIONS_STORAGE,d=h.serializable;break;default:Ce(`getRenderingIntent - invalid annotationMode: ${t}`)}a&&(c+=bn.IS_EDITING),l&&(c+=bn.OPLIST);const{ids:f,hash:p}=h.modifiedIds,b=[c,d.hash,p];return{renderingIntent:c,cacheKey:b.join("_"),annotationStorageSerializable:d,modifiedIds:f}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),this.#a?.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const s of this.#t.values())e.push(s._destroy());this.#t.clear(),this.#n.clear(),this.#s.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),So.cleanup(),this._networkStream?.cancelAllRequests(new Ns("Worker was terminated.")),this.messageHandler?.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(s,a)=>{Ct(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=l=>{this._lastProgress={loaded:l.loaded,total:l.total}},a.onPull=()=>{this._fullReader.read().then(function({value:l,done:c}){if(c){a.close();return}Ct(l instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{a.error(l)})},a.onCancel=l=>{this._fullReader.cancel(l),a.ready.catch(c=>{if(!this.destroyed)throw c})}}),e.on("ReaderHeadersReady",async s=>{await this._fullReader.headersReady;const{isStreamingSupported:a,isRangeSupported:l,contentLength:c}=this._fullReader;return(!a||!l)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),this._fullReader.onProgress=d=>{t.onProgress?.({loaded:d.loaded,total:d.total})}),{isStreamingSupported:a,isRangeSupported:l,contentLength:c}}),e.on("GetRangeReader",(s,a)=>{Ct(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const l=this._networkStream.getRangeReader(s.begin,s.end);if(!l){a.close();return}a.onPull=()=>{l.read().then(function({value:c,done:d}){if(d){a.close();return}Ct(c instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),a.enqueue(new Uint8Array(c),1,[c])}).catch(c=>{a.error(c)})},a.onCancel=c=>{l.cancel(c),a.ready.catch(d=>{if(!this.destroyed)throw d})}}),e.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,t._capability.resolve(new IR(s,this))}),e.on("DocException",s=>{t._capability.reject(on(s))}),e.on("PasswordRequest",s=>{this.#a=Promise.withResolvers();try{if(!t.onPassword)throw on(s);const a=l=>{l instanceof Error?this.#a.reject(l):this.#a.resolve({password:l})};t.onPassword(a,s.code)}catch(a){this.#a.reject(a)}return this.#a.promise}),e.on("DataLoaded",s=>{t.onProgress?.({loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),e.on("StartRenderPage",s=>{if(this.destroyed)return;this.#t.get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),e.on("commonobj",([s,a,l])=>{if(this.destroyed||this.commonObjs.has(s))return null;switch(a){case"Font":if("error"in l){const f=l.error;Ce(`Error during font loading: ${f}`),this.commonObjs.resolve(s,f);break}const c=this._params.pdfBug&&globalThis.FontInspector?.enabled?(f,p)=>globalThis.FontInspector.fontAdded(f,p):null,d=new Vk(l,c);this.fontLoader.bind(d).catch(()=>e.sendWithPromise("FontFallback",{id:s})).finally(()=>{!d.fontExtraProperties&&d.data&&(d.data=null),this.commonObjs.resolve(s,d)});break;case"CopyLocalImage":const{imageRef:h}=l;Ct(h,"The imageRef must be defined.");for(const f of this.#t.values())for(const[,p]of f.objs)if(p?.ref===h)return p.dataLen?(this.commonObjs.resolve(s,structuredClone(p)),p.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(s,l);break;default:throw new Error(`Got unknown common object type ${a}`)}return null}),e.on("obj",([s,a,l,c])=>{if(this.destroyed)return;const d=this.#t.get(a);if(!d.objs.has(s)){if(d._intentStates.size===0){c?.bitmap?.close();return}switch(l){case"Image":case"Pattern":d.objs.resolve(s,c);break;default:throw new Error(`Got unknown object type ${l}`)}}}),e.on("DocProgress",s=>{this.destroyed||t.onProgress?.({loaded:s.loaded,total:s.total})}),e.on("FetchBinaryData",async s=>{if(this.destroyed)throw new Error("Worker was destroyed.");const a=this[s.type];if(!a)throw new Error(`${s.type} not initialized, see the \`useWorkerFetch\` parameter.`);return a.fetch(s)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&Ce("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:this._fullReader?.filename??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,s=this.#n.get(t);if(s)return s;const a=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(l=>{if(this.destroyed)throw new Error("Transport destroyed");l.refStr&&this.#s.set(l.refStr,e);const c=new zR(t,l,this,this._params.pdfBug);return this.#t.set(t,c),c});return this.#n.set(t,a),a}getPageIndex(e){return Rf(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return this.#i("GetFieldObjects")}hasJSActions(){return this.#i("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#i("GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return this.#i("GetOptionalContentConfig").then(t=>new yR(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=this.#e.get(e);if(t)return t;const s=this.messageHandler.sendWithPromise(e,null).then(a=>({info:a[0],metadata:a[1]?new pR(a[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(e,s),s}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of this.#t.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0),So.cleanup()}}cachedPageNumber(e){if(!Rf(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return this.#s.get(t)??null}}class UR{#e=null;onContinue=null;onError=null;constructor(e){this.#e=e}get promise(){return this.#e.capability.promise}cancel(e=0){this.#e.cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;const{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}}class La{#e=null;static#t=new WeakSet;constructor({callback:e,params:t,objs:s,commonObjs:a,annotationCanvasMap:l,operatorList:c,pageIndex:d,canvasFactory:h,filterFactory:f,useRequestAnimationFrame:p=!1,pdfBug:b=!1,pageColors:v=null}){this.callback=e,this.params=t,this.objs=s,this.commonObjs=a,this.annotationCanvasMap=l,this.operatorListIdx=null,this.operatorList=c,this._pageIndex=d,this.canvasFactory=h,this.filterFactory=f,this._pdfBug=b,this.pageColors=v,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=p===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new UR(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(La.#t.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");La.#t.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:a,transform:l,background:c}=this.params;this.gfx=new Ia(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:l,viewport:a,transparency:e,background:c}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(e=null,t=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),this.#e&&(window.cancelAnimationFrame(this.#e),this.#e=null),La.#t.delete(this._canvas),e||=new au(`Rendering cancelled, page ${this._pageIndex+1}`,t),this.callback(e),this.task.onError?.(e)}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?this.#e=window.requestAnimationFrame(()=>{this.#e=null,this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),La.#t.delete(this._canvas),this.callback())))}}const Oa="5.3.93",cw="cbeef3233";function zv(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function to(r){return Math.max(0,Math.min(255,255*r))}class Fv{static CMYK_G([e,t,s,a]){return["G",1-Math.min(1,.3*e+.59*s+.11*t+a)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=to(e),[e,e,e]}static G_HTML([e]){const t=zv(e);return`#${t}${t}${t}`}static RGB_G([e,t,s]){return["G",.3*e+.59*t+.11*s]}static RGB_rgb(e){return e.map(to)}static RGB_HTML(e){return`#${e.map(zv).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,s,a]){return["RGB",1-Math.min(1,e+a),1-Math.min(1,s+a),1-Math.min(1,t+a)]}static CMYK_rgb([e,t,s,a]){return[to(1-Math.min(1,e+a)),to(1-Math.min(1,s+a)),to(1-Math.min(1,t+a))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,s]){const a=1-e,l=1-t,c=1-s,d=Math.min(a,l,c);return["CMYK",a,l,c,d]}}class BR{create(e,t,s=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const a=this._createSVG("svg:svg");return a.setAttribute("version","1.1"),s||(a.setAttribute("width",`${e}px`),a.setAttribute("height",`${t}px`)),a.setAttribute("preserveAspectRatio","none"),a.setAttribute("viewBox",`0 0 ${e} ${t}`),a}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){Ye("Abstract method `_createSVG` called.")}}class _o extends BR{_createSVG(e){return document.createElementNS(As,e)}}class Mm{static setupStorage(e,t,s,a,l){const c=a.getValue(t,{value:null});switch(s.name){case"textarea":if(c.value!==null&&(e.textContent=c.value),l==="print")break;e.addEventListener("input",d=>{a.setValue(t,{value:d.target.value})});break;case"input":if(s.attributes.type==="radio"||s.attributes.type==="checkbox"){if(c.value===s.attributes.xfaOn?e.setAttribute("checked",!0):c.value===s.attributes.xfaOff&&e.removeAttribute("checked"),l==="print")break;e.addEventListener("change",d=>{a.setValue(t,{value:d.target.checked?d.target.getAttribute("xfaOn"):d.target.getAttribute("xfaOff")})})}else{if(c.value!==null&&e.setAttribute("value",c.value),l==="print")break;e.addEventListener("input",d=>{a.setValue(t,{value:d.target.value})})}break;case"select":if(c.value!==null){e.setAttribute("value",c.value);for(const d of s.children)d.attributes.value===c.value?d.attributes.selected=!0:d.attributes.hasOwnProperty("selected")&&delete d.attributes.selected}e.addEventListener("input",d=>{const h=d.target.options,f=h.selectedIndex===-1?"":h[h.selectedIndex].value;a.setValue(t,{value:f})});break}}static setAttributes({html:e,element:t,storage:s=null,intent:a,linkService:l}){const{attributes:c}=t,d=e instanceof HTMLAnchorElement;c.type==="radio"&&(c.name=`${c.name}-${a}`);for(const[h,f]of Object.entries(c))if(f!=null)switch(h){case"class":f.length&&e.setAttribute(h,f.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",f);break;case"style":Object.assign(e.style,f);break;case"textContent":e.textContent=f;break;default:(!d||h!=="href"&&h!=="newWindow")&&e.setAttribute(h,f)}d&&l.addLinkAttributes(e,c.href,c.newWindow),s&&c.dataId&&this.setupStorage(e,c.dataId,t,s)}static render(e){const t=e.annotationStorage,s=e.linkService,a=e.xfaHtml,l=e.intent||"display",c=document.createElement(a.name);a.attributes&&this.setAttributes({html:c,element:a,intent:l,linkService:s});const d=l!=="richText",h=e.div;if(h.append(c),e.viewport){const b=`matrix(${e.viewport.transform.join(",")})`;h.style.transform=b}d&&h.setAttribute("class","xfaLayer xfaFont");const f=[];if(a.children.length===0){if(a.value){const b=document.createTextNode(a.value);c.append(b),d&&Eo.shouldBuildText(a.name)&&f.push(b)}return{textDivs:f}}const p=[[a,-1,c]];for(;p.length>0;){const[b,v,x]=p.at(-1);if(v+1===b.children.length){p.pop();continue}const w=b.children[++p.at(-1)[1]];if(w===null)continue;const{name:A}=w;if(A==="#text"){const C=document.createTextNode(w.value);f.push(C),x.append(C);continue}const _=w?.attributes?.xmlns?document.createElementNS(w.attributes.xmlns,A):document.createElement(A);if(x.append(_),w.attributes&&this.setAttributes({html:_,element:w,storage:t,intent:l,linkService:s}),w.children?.length>0)p.push([w,-1,_]);else if(w.value){const C=document.createTextNode(w.value);d&&Eo.shouldBuildText(A)&&f.push(C),_.append(C)}}for(const b of h.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))b.setAttribute("readOnly",!0);return{textDivs:f}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const HR=9,Ui=new WeakSet;class Uv{static create(e){switch(e.data.annotationType){case mt.LINK:return new uw(e);case mt.TEXT:return new GR(e);case mt.WIDGET:switch(e.data.fieldType){case"Tx":return new qR(e);case"Btn":return e.data.radioButton?new dw(e):e.data.checkBox?new $R(e):new YR(e);case"Ch":return new XR(e);case"Sig":return new VR(e)}return new qi(e);case mt.POPUP:return new Df(e);case mt.FREETEXT:return new hw(e);case mt.LINE:return new KR(e);case mt.SQUARE:return new QR(e);case mt.CIRCLE:return new ZR(e);case mt.POLYLINE:return new fw(e);case mt.CARET:return new eM(e);case mt.INK:return new Dm(e);case mt.POLYGON:return new JR(e);case mt.HIGHLIGHT:return new mw(e);case mt.UNDERLINE:return new tM(e);case mt.SQUIGGLY:return new nM(e);case mt.STRIKEOUT:return new sM(e);case mt.STAMP:return new pw(e);case mt.FILEATTACHMENT:return new iM(e);default:return new vt(e)}}}class vt{#e=null;#t=!1;#n=null;constructor(e,{isRenderable:t=!1,ignoreBorder:s=!1,createQuadrilaterals:a=!1}={}){this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(s)),a&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e?.str||t?.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return vt._hasPopupData(this.data)}updateEdited(e){if(!this.container)return;this.#e||={rect:this.data.rect.slice(0)};const{rect:t}=e;t&&this.#s(t),this.#n?.popup.updateEdited(e)}resetEdited(){this.#e&&(this.#s(this.#e.rect),this.#n?.popup.resetEdited(),this.#e=null)}#s(e){const{container:{style:t},data:{rect:s,rotation:a},parent:{viewport:{rawDims:{pageWidth:l,pageHeight:c,pageX:d,pageY:h}}}}=this;s?.splice(0,4,...e),t.left=`${100*(e[0]-d)/l}%`,t.top=`${100*(c-e[3]+h)/c}%`,a===0?(t.width=`${100*(e[2]-e[0])/l}%`,t.height=`${100*(e[3]-e[1])/c}%`):this.setRotation(a)}_createContainer(e){const{data:t,parent:{page:s,viewport:a}}=this,l=document.createElement("section");l.setAttribute("data-annotation-id",t.id),this instanceof qi||(l.tabIndex=0);const{style:c}=l;if(c.zIndex=this.parent.zIndex++,t.alternativeText&&(l.title=t.alternativeText),t.noRotate&&l.classList.add("norotate"),!t.rect||this instanceof Df){const{rotation:A}=t;return!t.hasOwnCanvas&&A!==0&&this.setRotation(A,l),l}const{width:d,height:h}=this;if(!e&&t.borderStyle.width>0){c.borderWidth=`${t.borderStyle.width}px`;const A=t.borderStyle.horizontalCornerRadius,_=t.borderStyle.verticalCornerRadius;if(A>0||_>0){const k=`calc(${A}px * var(--total-scale-factor)) / calc(${_}px * var(--total-scale-factor))`;c.borderRadius=k}else if(this instanceof dw){const k=`calc(${d}px * var(--total-scale-factor)) / calc(${h}px * var(--total-scale-factor))`;c.borderRadius=k}switch(t.borderStyle.style){case Da.SOLID:c.borderStyle="solid";break;case Da.DASHED:c.borderStyle="dashed";break;case Da.BEVELED:Ce("Unimplemented border style: beveled");break;case Da.INSET:Ce("Unimplemented border style: inset");break;case Da.UNDERLINE:c.borderBottomStyle="solid";break}const C=t.borderColor||null;C?(this.#t=!0,c.borderColor=ye.makeHexColor(C[0]|0,C[1]|0,C[2]|0)):c.borderWidth=0}const f=ye.normalizeRect([t.rect[0],s.view[3]-t.rect[1]+s.view[1],t.rect[2],s.view[3]-t.rect[3]+s.view[1]]),{pageWidth:p,pageHeight:b,pageX:v,pageY:x}=a.rawDims;c.left=`${100*(f[0]-v)/p}%`,c.top=`${100*(f[1]-x)/b}%`;const{rotation:w}=t;return t.hasOwnCanvas||w===0?(c.width=`${100*d/p}%`,c.height=`${100*h/b}%`):this.setRotation(w,l),l}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:s,pageHeight:a}=this.parent.viewport.rawDims;let{width:l,height:c}=this;e%180!==0&&([l,c]=[c,l]),t.style.width=`${100*l/s}%`,t.style.height=`${100*c/a}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,s,a)=>{const l=a.detail[t],c=l[0],d=l.slice(1);a.target.style[s]=Fv[`${c}_HTML`](d),this.annotationStorage.setValue(this.data.id,{[s]:Fv[`${c}_rgb`](d)})};return Pe(this,"_commonActions",{display:t=>{const{display:s}=t.detail,a=s%2===1;this.container.style.visibility=a?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:a,noPrint:s===1||s===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:s}=t.detail;this.container.style.visibility=s?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:s,noView:s})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const s=t.detail.rotation;this.setRotation(s),this.annotationStorage.setValue(this.data.id,{rotation:s})}})}_dispatchEventFromSandbox(e,t){const s=this._commonActions;for(const a of Object.keys(t.detail))(e[a]||s[a])?.(t)}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const s=this._commonActions;for(const[a,l]of Object.entries(t)){const c=s[a];if(c){const d={detail:{[a]:l},target:e};c(d),delete t[a]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,s,a,l]=this.data.rect.map(A=>Math.fround(A));if(e.length===8){const[A,_,C,k]=e.subarray(2,6);if(a===A&&l===_&&t===C&&s===k)return}const{style:c}=this.container;let d;if(this.#t){const{borderColor:A,borderWidth:_}=c;c.borderWidth=0,d=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${A}" stroke-width="${_}">`],this.container.classList.add("hasBorder")}const h=a-t,f=l-s,{svgFactory:p}=this,b=p.createElement("svg");b.classList.add("quadrilateralsContainer"),b.setAttribute("width",0),b.setAttribute("height",0),b.role="none";const v=p.createElement("defs");b.append(v);const x=p.createElement("clipPath"),w=`clippath_${this.data.id}`;x.setAttribute("id",w),x.setAttribute("clipPathUnits","objectBoundingBox"),v.append(x);for(let A=2,_=e.length;A<_;A+=8){const C=e[A],k=e[A+1],N=e[A+2],M=e[A+3],R=p.createElement("rect"),P=(N-t)/h,O=(l-k)/f,D=(C-N)/h,Y=(k-M)/f;R.setAttribute("x",P),R.setAttribute("y",O),R.setAttribute("width",D),R.setAttribute("height",Y),x.append(R),d?.push(`<rect vector-effect="non-scaling-stroke" x="${P}" y="${O}" width="${D}" height="${Y}"/>`)}this.#t&&(d.push("</g></svg>')"),c.backgroundImage=d.join("")),this.container.append(b),this.container.style.clipPath=`url(#${w})`}_createPopup(){const{data:e}=this,t=this.#n=new Df({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation,noRotate:!0},parent:this.parent,elements:[this]});this.parent.div.append(t.render())}render(){Ye("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const s=[];if(this._fieldObjects){const a=this._fieldObjects[e];if(a)for(const{page:l,id:c,exportValues:d}of a){if(l===-1||c===t)continue;const h=typeof d=="string"?d:null,f=document.querySelector(`[data-element-id="${c}"]`);if(f&&!Ui.has(f)){Ce(`_getElementsByName - element not allowed: ${c}`);continue}s.push({id:c,exportValue:h,domElement:f})}return s}for(const a of document.getElementsByName(e)){const{exportValue:l}=a,c=a.getAttribute("data-element-id");c!==t&&Ui.has(a)&&s.push({id:c,exportValue:l,domElement:a})}return s}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}}class uw extends vt{constructor(e,t=null){super(e,{isRenderable:!0,ignoreBorder:!!t?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,s=document.createElement("a");s.setAttribute("data-element-id",e.id);let a=!1;return e.url?(t.addLinkAttributes(s,e.url,e.newWindow),a=!0):e.action?(this._bindNamedAction(s,e.action),a=!0):e.attachment?(this.#t(s,e.attachment,e.attachmentDest),a=!0):e.setOCGState?(this.#n(s,e.setOCGState),a=!0):e.dest?(this._bindLink(s,e.dest),a=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(s,e),a=!0),e.resetForm?(this._bindResetFormAction(s,e.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(s,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(s),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||t==="")&&this.#e()}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),this.#e()}#t(e,t,s=null){e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>(this.downloadManager?.openOrDownloadData(t.content,t.filename,s),!1),this.#e()}#n(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),this.#e()}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const s=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(t.actions)){const l=s.get(a);l&&(e[l]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:a}}),!1))}e.onclick||(e.onclick=()=>!1),this.#e()}_bindResetFormAction(e,t){const s=e.onclick;if(s||(e.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){Ce('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),s||(e.onclick=()=>!1);return}e.onclick=()=>{s?.();const{fields:a,refs:l,include:c}=t,d=[];if(a.length!==0||l.length!==0){const p=new Set(l);for(const b of a){const v=this._fieldObjects[b]||[];for(const{id:x}of v)p.add(x)}for(const b of Object.values(this._fieldObjects))for(const v of b)p.has(v.id)===c&&d.push(v)}else for(const p of Object.values(this._fieldObjects))d.push(...p);const h=this.annotationStorage,f=[];for(const p of d){const{id:b}=p;switch(f.push(b),p.type){case"text":{const x=p.defaultValue||"";h.setValue(b,{value:x});break}case"checkbox":case"radiobutton":{const x=p.defaultValue===p.exportValues;h.setValue(b,{value:x});break}case"combobox":case"listbox":{const x=p.defaultValue||"";h.setValue(b,{value:x});break}default:continue}const v=document.querySelector(`[data-element-id="${b}"]`);if(v){if(!Ui.has(v)){Ce(`_bindResetFormAction - element not allowed: ${b}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:f,name:"ResetForm"}}),!1}}}class GR extends vt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class qi extends vt{render(){return this.container}showElementAndHideCanvas(e){this.data.hasOwnCanvas&&(e.previousSibling?.nodeName==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return It.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,s,a,l){s.includes("mouse")?e.addEventListener(s,c=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:l(c),shift:c.shiftKey,modifier:this._getKeyModifier(c)}})}):e.addEventListener(s,c=>{if(s==="blur"){if(!t.focused||!c.relatedTarget)return;t.focused=!1}else if(s==="focus"){if(t.focused)return;t.focused=!0}l&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:a,value:l(c)}})})}_setEventListeners(e,t,s,a){for(const[l,c]of s)(c==="Action"||this.data.actions?.[c])&&((c==="Focus"||c==="Blur")&&(t||={focused:!1}),this._setEventListener(e,t,l,c,a),c==="Focus"&&!this.data.actions?.Blur?this._setEventListener(e,t,"blur","Blur",null):c==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":ye.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:s}=this.data.defaultAppearanceData,a=this.data.defaultAppearanceData.fontSize||HR,l=e.style;let c;const d=2,h=f=>Math.round(10*f)/10;if(this.data.multiLine){const f=Math.abs(this.data.rect[3]-this.data.rect[1]-d),p=Math.round(f/(ef*a))||1,b=f/p;c=Math.min(a,h(b/ef))}else{const f=Math.abs(this.data.rect[3]-this.data.rect[1]-d);c=Math.min(a,h(f/ef))}l.fontSize=`calc(${c}px * var(--total-scale-factor))`,l.color=ye.makeHexColor(s[0],s[1],s[2]),this.data.textAlignment!==null&&(l.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class qR extends qi{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,s,a){const l=this.annotationStorage;for(const c of this._getElementsByName(e.name,e.id))c.domElement&&(c.domElement[t]=s),l.setValue(c.id,{[a]:s})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let s=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let l=a.value||"";const c=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;c&&l.length>c&&(l=l.slice(0,c));let d=a.formattedValue||this.data.textContent?.join(`
`)||null;d&&this.data.comb&&(d=d.replaceAll(/\s+/g,""));const h={userValue:l,formattedValue:d,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(s=document.createElement("textarea"),s.textContent=d??l,this.data.doNotScroll&&(s.style.overflowY="hidden")):(s=document.createElement("input"),s.type=this.data.password?"password":"text",s.setAttribute("value",d??l),this.data.doNotScroll&&(s.style.overflowX="hidden")),this.data.hasOwnCanvas&&(s.hidden=!0),Ui.add(s),s.setAttribute("data-element-id",t),s.disabled=this.data.readOnly,s.name=this.data.fieldName,s.tabIndex=0;const f=this.data.dateFormat||this.data.timeFormat;f&&(s.title=f),this._setRequired(s,this.data.required),c&&(s.maxLength=c),s.addEventListener("input",b=>{e.setValue(t,{value:b.target.value}),this.setPropertyOnSiblings(s,"value",b.target.value,"value"),h.formattedValue=null}),s.addEventListener("resetform",b=>{const v=this.data.defaultFieldValue??"";s.value=h.userValue=v,h.formattedValue=null});let p=b=>{const{formattedValue:v}=h;v!=null&&(b.target.value=v),b.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){s.addEventListener("focus",v=>{if(h.focused)return;const{target:x}=v;h.userValue&&(x.value=h.userValue),h.lastCommittedValue=x.value,h.commitKey=1,this.data.actions?.Focus||(h.focused=!0)}),s.addEventListener("updatefromsandbox",v=>{this.showElementAndHideCanvas(v.target);const x={value(w){h.userValue=w.detail.value??"",e.setValue(t,{value:h.userValue.toString()}),w.target.value=h.userValue},formattedValue(w){const{formattedValue:A}=w.detail;h.formattedValue=A,A!=null&&w.target!==document.activeElement&&(w.target.value=A),e.setValue(t,{formattedValue:A})},selRange(w){w.target.setSelectionRange(...w.detail.selRange)},charLimit:w=>{const{charLimit:A}=w.detail,{target:_}=w;if(A===0){_.removeAttribute("maxLength");return}_.setAttribute("maxLength",A);let C=h.userValue;!C||C.length<=A||(C=C.slice(0,A),_.value=h.userValue=C,e.setValue(t,{value:C}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:C,willCommit:!0,commitKey:1,selStart:_.selectionStart,selEnd:_.selectionEnd}}))}};this._dispatchEventFromSandbox(x,v)}),s.addEventListener("keydown",v=>{h.commitKey=1;let x=-1;if(v.key==="Escape"?x=0:v.key==="Enter"&&!this.data.multiLine?x=2:v.key==="Tab"&&(h.commitKey=3),x===-1)return;const{value:w}=v.target;h.lastCommittedValue!==w&&(h.lastCommittedValue=w,h.userValue=w,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:x,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}))});const b=p;p=null,s.addEventListener("blur",v=>{if(!h.focused||!v.relatedTarget)return;this.data.actions?.Blur||(h.focused=!1);const{value:x}=v.target;h.userValue=x,h.lastCommittedValue!==x&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:h.commitKey,selStart:v.target.selectionStart,selEnd:v.target.selectionEnd}}),b(v)}),this.data.actions?.Keystroke&&s.addEventListener("beforeinput",v=>{h.lastCommittedValue=null;const{data:x,target:w}=v,{value:A,selectionStart:_,selectionEnd:C}=w;let k=_,N=C;switch(v.inputType){case"deleteWordBackward":{const M=A.substring(0,_).match(/\w*[^\w]*$/);M&&(k-=M[0].length);break}case"deleteWordForward":{const M=A.substring(_).match(/^[^\w]*\w*/);M&&(N+=M[0].length);break}case"deleteContentBackward":_===C&&(k-=1);break;case"deleteContentForward":_===C&&(N+=1);break}v.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:A,change:x||"",willCommit:!1,selStart:k,selEnd:N}})}),this._setEventListeners(s,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],v=>v.target.value)}if(p&&s.addEventListener("blur",p),this.data.comb){const v=(this.data.rect[2]-this.data.rect[0])/c;s.classList.add("comb"),s.style.letterSpacing=`calc(${v}px * var(--total-scale-factor) - 1ch)`}}else s=document.createElement("div"),s.textContent=this.data.fieldValue,s.style.verticalAlign="middle",s.style.display="table-cell",this.data.hasOwnCanvas&&(s.hidden=!0);return this._setTextStyle(s),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class VR extends qi{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class $R extends qi{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,s=t.id;let a=e.getValue(s,{value:t.exportValue===t.fieldValue}).value;typeof a=="string"&&(a=a!=="Off",e.setValue(s,{value:a})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const l=document.createElement("input");return Ui.add(l),l.setAttribute("data-element-id",s),l.disabled=t.readOnly,this._setRequired(l,this.data.required),l.type="checkbox",l.name=t.fieldName,a&&l.setAttribute("checked",!0),l.setAttribute("exportValue",t.exportValue),l.tabIndex=0,l.addEventListener("change",c=>{const{name:d,checked:h}=c.target;for(const f of this._getElementsByName(d,s)){const p=h&&f.exportValue===t.exportValue;f.domElement&&(f.domElement.checked=p),e.setValue(f.id,{value:p})}e.setValue(s,{value:h})}),l.addEventListener("resetform",c=>{const d=t.defaultFieldValue||"Off";c.target.checked=d===t.exportValue}),this.enableScripting&&this.hasJSActions&&(l.addEventListener("updatefromsandbox",c=>{const d={value(h){h.target.checked=h.detail.value!=="Off",e.setValue(s,{value:h.target.checked})}};this._dispatchEventFromSandbox(d,c)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)),this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class dw extends qi{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,s=t.id;let a=e.getValue(s,{value:t.fieldValue===t.buttonValue}).value;if(typeof a=="string"&&(a=a!==t.buttonValue,e.setValue(s,{value:a})),a)for(const c of this._getElementsByName(t.fieldName,s))e.setValue(c.id,{value:!1});const l=document.createElement("input");if(Ui.add(l),l.setAttribute("data-element-id",s),l.disabled=t.readOnly,this._setRequired(l,this.data.required),l.type="radio",l.name=t.fieldName,a&&l.setAttribute("checked",!0),l.tabIndex=0,l.addEventListener("change",c=>{const{name:d,checked:h}=c.target;for(const f of this._getElementsByName(d,s))e.setValue(f.id,{value:!1});e.setValue(s,{value:h})}),l.addEventListener("resetform",c=>{const d=t.defaultFieldValue;c.target.checked=d!=null&&d===t.buttonValue}),this.enableScripting&&this.hasJSActions){const c=t.buttonValue;l.addEventListener("updatefromsandbox",d=>{const h={value:f=>{const p=c===f.detail.value;for(const b of this._getElementsByName(f.target.name)){const v=p&&b.id===s;b.domElement&&(b.domElement.checked=v),e.setValue(b.id,{value:v})}}};this._dispatchEventFromSandbox(h,d)}),this._setEventListeners(l,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.checked)}return this._setBackgroundColor(l),this._setDefaultPropertiesFromJS(l),this.container.append(l),this.container}}class YR extends uw{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",s=>{this._dispatchEventFromSandbox({},s)})),e}}class XR extends qi{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,s=e.getValue(t,{value:this.data.fieldValue}),a=document.createElement("select");Ui.add(a),a.setAttribute("data-element-id",t),a.disabled=this.data.readOnly,this._setRequired(a,this.data.required),a.name=this.data.fieldName,a.tabIndex=0;let l=this.data.combo&&this.data.options.length>0;this.data.combo||(a.size=this.data.options.length,this.data.multiSelect&&(a.multiple=!0)),a.addEventListener("resetform",p=>{const b=this.data.defaultFieldValue;for(const v of a.options)v.selected=v.value===b});for(const p of this.data.options){const b=document.createElement("option");b.textContent=p.displayValue,b.value=p.exportValue,s.value.includes(p.exportValue)&&(b.setAttribute("selected",!0),l=!1),a.append(b)}let c=null;if(l){const p=document.createElement("option");p.value=" ",p.setAttribute("hidden",!0),p.setAttribute("selected",!0),a.prepend(p),c=()=>{p.remove(),a.removeEventListener("input",c),c=null},a.addEventListener("input",c)}const d=p=>{const b=p?"value":"textContent",{options:v,multiple:x}=a;return x?Array.prototype.filter.call(v,w=>w.selected).map(w=>w[b]):v.selectedIndex===-1?null:v[v.selectedIndex][b]};let h=d(!1);const f=p=>{const b=p.target.options;return Array.prototype.map.call(b,v=>({displayValue:v.textContent,exportValue:v.value}))};return this.enableScripting&&this.hasJSActions?(a.addEventListener("updatefromsandbox",p=>{const b={value(v){c?.();const x=v.detail.value,w=new Set(Array.isArray(x)?x:[x]);for(const A of a.options)A.selected=w.has(A.value);e.setValue(t,{value:d(!0)}),h=d(!1)},multipleSelection(v){a.multiple=!0},remove(v){const x=a.options,w=v.detail.remove;x[w].selected=!1,a.remove(w),x.length>0&&Array.prototype.findIndex.call(x,_=>_.selected)===-1&&(x[0].selected=!0),e.setValue(t,{value:d(!0),items:f(v)}),h=d(!1)},clear(v){for(;a.length!==0;)a.remove(0);e.setValue(t,{value:null,items:[]}),h=d(!1)},insert(v){const{index:x,displayValue:w,exportValue:A}=v.detail.insert,_=a.children[x],C=document.createElement("option");C.textContent=w,C.value=A,_?_.before(C):a.append(C),e.setValue(t,{value:d(!0),items:f(v)}),h=d(!1)},items(v){const{items:x}=v.detail;for(;a.length!==0;)a.remove(0);for(const w of x){const{displayValue:A,exportValue:_}=w,C=document.createElement("option");C.textContent=A,C.value=_,a.append(C)}a.options.length>0&&(a.options[0].selected=!0),e.setValue(t,{value:d(!0),items:f(v)}),h=d(!1)},indices(v){const x=new Set(v.detail.indices);for(const w of v.target.options)w.selected=x.has(w.index);e.setValue(t,{value:d(!0)}),h=d(!1)},editable(v){v.target.disabled=!v.detail.editable}};this._dispatchEventFromSandbox(b,p)}),a.addEventListener("input",p=>{const b=d(!0),v=d(!1);e.setValue(t,{value:b}),p.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:h,change:v,changeEx:b,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(a,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],p=>p.target.value)):a.addEventListener("input",function(p){e.setValue(t,{value:d(!0)})}),this.data.combo&&this._setTextStyle(a),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class Df extends vt{constructor(e){const{data:t,elements:s}=e;super(e,{isRenderable:vt._hasPopupData(t)}),this.elements=s,this.popup=null}render(){const{container:e}=this;e.classList.add("popupAnnotation"),e.role="comment";const t=this.popup=new WR({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),s=[];for(const a of this.elements)a.popup=t,a.container.ariaHasPopup="dialog",s.push(a.data.id),a.addHighlightArea();return this.container.setAttribute("aria-controls",s.map(a=>`${vm}${a}`).join(",")),this.container}}class WR{#e=this.#T.bind(this);#t=this.#C.bind(this);#n=this.#N.bind(this);#s=this.#S.bind(this);#a=null;#i=null;#o=null;#r=null;#d=null;#l=null;#h=null;#u=!1;#f=null;#m=null;#p=null;#c=null;#g=null;#y=null;#b=!1;constructor({container:e,color:t,elements:s,titleObj:a,modificationDate:l,contentsObj:c,richText:d,parent:h,rect:f,parentRect:p,open:b}){this.#i=e,this.#g=a,this.#o=c,this.#c=d,this.#l=h,this.#a=t,this.#p=f,this.#h=p,this.#d=s,this.#r=xm.toDateObject(l),this.trigger=s.flatMap(v=>v.getElementsToTriggerPopup());for(const v of this.trigger)v.addEventListener("click",this.#s),v.addEventListener("mouseenter",this.#n),v.addEventListener("mouseleave",this.#t),v.classList.add("popupTriggerArea");for(const v of s)v.container?.addEventListener("keydown",this.#e);this.#i.hidden=!0,b&&this.#S()}render(){if(this.#f)return;const e=this.#f=document.createElement("div");if(e.className="popup",this.#a){const l=e.style.outlineColor=ye.makeHexColor(...this.#a);e.style.backgroundColor=`color-mix(in srgb, ${l} 30%, white)`}const t=document.createElement("span");t.className="header";const s=document.createElement("h1");if(t.append(s),{dir:s.dir,str:s.textContent}=this.#g,e.append(t),this.#r){const l=document.createElement("time");l.classList.add("popupDate"),l.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),l.setAttribute("data-l10n-args",JSON.stringify({dateObj:this.#r.valueOf()})),l.dateTime=this.#r.toISOString(),t.append(l)}const a=this.#x;if(a)Mm.render({xfaHtml:a,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const l=this._formatContents(this.#o);e.append(l)}this.#i.append(e)}get#x(){const e=this.#c,t=this.#o;return e?.str&&(!t?.str||t.str===e.str)&&this.#c.html||null}get#w(){return this.#x?.attributes?.style?.fontSize||0}get#A(){return this.#x?.attributes?.style?.color||null}#_(e){const t=[],s={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},a={style:{color:this.#A,fontSize:this.#w?`calc(${this.#w}px * var(--total-scale-factor))`:""}};for(const l of e.split(`
`))t.push({name:"span",value:l,attributes:a});return s}_formatContents({str:e,dir:t}){const s=document.createElement("p");s.classList.add("popupContent"),s.dir=t;const a=e.split(/(?:\r\n?|\n)/);for(let l=0,c=a.length;l<c;++l){const d=a[l];s.append(document.createTextNode(d)),l<c-1&&s.append(document.createElement("br"))}return s}#T(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&this.#u)&&this.#S()}updateEdited({rect:e,popupContent:t}){this.#y||={contentsObj:this.#o,richText:this.#c},e&&(this.#m=null),t&&(this.#c=this.#_(t),this.#o=null),this.#f?.remove(),this.#f=null}resetEdited(){this.#y&&({contentsObj:this.#o,richText:this.#c}=this.#y,this.#y=null,this.#f?.remove(),this.#f=null,this.#m=null)}#k(){if(this.#m!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:s,pageX:a,pageY:l}}}=this.#l;let c=!!this.#h,d=c?this.#h:this.#p;for(const w of this.#d)if(!d||ye.intersect(w.data.rect,d)!==null){d=w.data.rect,c=!0;break}const h=ye.normalizeRect([d[0],e[3]-d[1]+e[1],d[2],e[3]-d[3]+e[1]]),p=c?d[2]-d[0]+5:0,b=h[0]+p,v=h[1];this.#m=[100*(b-a)/t,100*(v-l)/s];const{style:x}=this.#i;x.left=`${this.#m[0]}%`,x.top=`${this.#m[1]}%`}#S(){this.#u=!this.#u,this.#u?(this.#N(),this.#i.addEventListener("click",this.#s),this.#i.addEventListener("keydown",this.#e)):(this.#C(),this.#i.removeEventListener("click",this.#s),this.#i.removeEventListener("keydown",this.#e))}#N(){this.#f||this.render(),this.isVisible?this.#u&&this.#i.classList.add("focused"):(this.#k(),this.#i.hidden=!1,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)+1e3)}#C(){this.#i.classList.remove("focused"),!(this.#u||!this.isVisible)&&(this.#i.hidden=!0,this.#i.style.zIndex=parseInt(this.#i.style.zIndex)-1e3)}forceHide(){this.#b=this.isVisible,this.#b&&(this.#i.hidden=!0)}maybeShow(){this.#b&&(this.#f||this.#N(),this.#b=!1,this.#i.hidden=!1)}get isVisible(){return this.#i.hidden===!1}}class hw extends vt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=Ee.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const s=document.createElement("span");s.textContent=t,e.append(s)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class KR extends vt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const{data:e,width:t,height:s}=this,a=this.svgFactory.create(t,s,!0),l=this.#e=this.svgFactory.createElement("svg:line");return l.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),l.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),l.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),l.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),l.setAttribute("stroke-width",e.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class QR extends vt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const{data:e,width:t,height:s}=this,a=this.svgFactory.create(t,s,!0),l=e.borderStyle.width,c=this.#e=this.svgFactory.createElement("svg:rect");return c.setAttribute("x",l/2),c.setAttribute("y",l/2),c.setAttribute("width",t-l),c.setAttribute("height",s-l),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class ZR extends vt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const{data:e,width:t,height:s}=this,a=this.svgFactory.create(t,s,!0),l=e.borderStyle.width,c=this.#e=this.svgFactory.createElement("svg:ellipse");return c.setAttribute("cx",t/2),c.setAttribute("cy",s/2),c.setAttribute("rx",t/2-l/2),c.setAttribute("ry",s/2-l/2),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class fw extends vt{#e=null;constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:s,popupRef:a},width:l,height:c}=this;if(!t)return this.container;const d=this.svgFactory.create(l,c,!0);let h=[];for(let p=0,b=t.length;p<b;p+=2){const v=t[p]-e[0],x=e[3]-t[p+1];h.push(`${v},${x}`)}h=h.join(" ");const f=this.#e=this.svgFactory.createElement(this.svgElementName);return f.setAttribute("points",h),f.setAttribute("stroke-width",s.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),d.append(f),this.container.append(d),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class JR extends fw{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class eM extends vt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Dm extends vt{#e=null;#t=[];constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?Ee.HIGHLIGHT:Ee.INK}#n(e,t){switch(e){case 90:return{transform:`rotate(90) translate(${-t[0]},${t[1]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};case 180:return{transform:`rotate(180) translate(${-t[2]},${t[1]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]};case 270:return{transform:`rotate(270) translate(${-t[2]},${t[3]}) scale(1,-1)`,width:t[3]-t[1],height:t[2]-t[0]};default:return{transform:`translate(${-t[0]},${t[3]}) scale(1,-1)`,width:t[2]-t[0],height:t[3]-t[1]}}}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,rotation:t,inkLists:s,borderStyle:a,popupRef:l}}=this,{transform:c,width:d,height:h}=this.#n(t,e),f=this.svgFactory.create(d,h,!0),p=this.#e=this.svgFactory.createElement("svg:g");f.append(p),p.setAttribute("stroke-width",a.width||1),p.setAttribute("stroke-linecap","round"),p.setAttribute("stroke-linejoin","round"),p.setAttribute("stroke-miterlimit",10),p.setAttribute("stroke","transparent"),p.setAttribute("fill","transparent"),p.setAttribute("transform",c);for(let b=0,v=s.length;b<v;b++){const x=this.svgFactory.createElement(this.svgElementName);this.#t.push(x),x.setAttribute("points",s[b].join(",")),p.append(x)}return!l&&this.hasPopupData&&this._createPopup(),this.container.append(f),this._editOnDoubleClick(),this.container}updateEdited(e){super.updateEdited(e);const{thickness:t,points:s,rect:a}=e,l=this.#e;if(t>=0&&l.setAttribute("stroke-width",t||1),s)for(let c=0,d=this.#t.length;c<d;c++)this.#t[c].setAttribute("points",s[c].join(","));if(a){const{transform:c,width:d,height:h}=this.#n(this.data.rotation,a);l.parentElement.setAttribute("viewBox",`0 0 ${d} ${h}`),l.setAttribute("transform",c)}}getElementsToTriggerPopup(){return this.#t}addHighlightArea(){this.container.classList.add("highlightArea")}}class mw extends vt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=Ee.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const s=document.createElement("mark");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class tM extends vt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const s=document.createElement("u");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class nM extends vt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const s=document.createElement("u");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class sM extends vt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const s=document.createElement("s");s.classList.add("overlaidText"),s.textContent=e,this.container.append(s)}return this.container}}class pw extends vt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=Ee.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}class iM extends vt{#e=null;constructor(e){super(e,{isRenderable:!0});const{file:t}=this.data;this.filename=t.filename,this.content=t.content,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,...t})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let s;t.hasAppearance||t.fillAlpha===0?s=document.createElement("div"):(s=document.createElement("img"),s.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(t.name)?"paperclip":"pushpin"}.svg`,t.fillAlpha&&t.fillAlpha<1&&(s.style=`filter: opacity(${Math.round(t.fillAlpha*100)}%);`)),s.addEventListener("dblclick",this.#t.bind(this)),this.#e=s;const{isMac:a}=It.platform;return e.addEventListener("keydown",l=>{l.key==="Enter"&&(a?l.metaKey:l.ctrlKey)&&this.#t()}),!t.popupRef&&this.hasPopupData?this._createPopup():s.classList.add("popupTriggerArea"),e.append(s),e}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}let jm=class gw{#e=null;#t=null;#n=new Map;#s=null;constructor({div:e,accessibilityManager:t,annotationCanvasMap:s,annotationEditorUIManager:a,page:l,viewport:c,structTreeLayer:d}){this.div=e,this.#e=t,this.#t=s,this.#s=d||null,this.page=l,this.viewport=c,this.zIndex=0,this._annotationEditorUIManager=a}hasEditableAnnotations(){return this.#n.size>0}async#a(e,t,s){const a=e.firstChild||e,l=a.id=`${vm}${t}`,c=await this.#s?.getAriaAttributes(l);if(c)for(const[d,h]of c)a.setAttribute(d,h);s?s.at(-1).container.after(e):(this.div.append(e),this.#e?.moveElementInDOM(this.div,e,a,!1))}async render(e){const{annotations:t}=e,s=this.div;ai(s,this.viewport);const a=new Map,l={data:null,layer:s,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new _o,annotationStorage:e.annotationStorage||new Em,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const c of t){if(c.noHTML)continue;const d=c.annotationType===mt.POPUP;if(d){const p=a.get(c.id);if(!p)continue;l.elements=p}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;l.data=c;const h=Uv.create(l);if(!h.isRenderable)continue;if(!d&&c.popupRef){const p=a.get(c.popupRef);p?p.push(h):a.set(c.popupRef,[h])}const f=h.render();c.hidden&&(f.style.visibility="hidden"),await this.#a(f,c.id,l.elements),h._isEditable&&(this.#n.set(h.data.id,h),this._annotationEditorUIManager?.renderAnnotationElement(h))}this.#i()}async addLinkAnnotations(e,t){const s={data:null,layer:this.div,linkService:t,svgFactory:new _o,parent:this};for(const a of e){a.borderStyle||=gw._defaultBorderStyle,s.data=a;const l=Uv.create(s);if(!l.isRenderable)continue;const c=l.render();await this.#a(c,a.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,ai(t,{rotation:e.rotation}),this.#i(),t.hidden=!1}#i(){if(!this.#t)return;const e=this.div;for(const[t,s]of this.#t){const a=e.querySelector(`[data-annotation-id="${t}"]`);if(!a)continue;s.className="annotationContent";const{firstChild:l}=a;l?l.nodeName==="CANVAS"?l.replaceWith(s):l.classList.contains("annotationContent")?l.after(s):l.before(s):a.append(s);const c=this.#n.get(t);c&&(c._hasNoCanvas?(this._annotationEditorUIManager?.setMissingCanvas(t,a.id,s),c._hasNoCanvas=!1):c.canvas=s)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(e){return this.#n.get(e)}static get _defaultBorderStyle(){return Pe(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Da.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}};const pc=/\r\n?|\n/g;class Rt extends ve{#e;#t="";#n=`${this.id}-editor`;#s=null;#a;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const e=Rt.prototype,t=l=>l.isEmpty(),s=ks.TRANSLATE_SMALL,a=ks.TRANSLATE_BIG;return Pe(this,"_keyboardManager",new Oo([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-s,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-a,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[s,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[a,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-s],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-a],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,s],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,a],checker:t}]]))}static _type="freetext";static _editorType=Ee.FREETEXT;constructor(e){super({...e,name:"freeTextEditor"}),this.#e=e.color||Rt._defaultColor||ve._defaultLineColor,this.#a=e.fontSize||Rt._defaultFontSize,this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static initialize(e,t){ve.initialize(e,t);const s=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(s.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case Le.FREETEXT_SIZE:Rt._defaultFontSize=t;break;case Le.FREETEXT_COLOR:Rt._defaultColor=t;break}}updateParams(e,t){switch(e){case Le.FREETEXT_SIZE:this.#i(t);break;case Le.FREETEXT_COLOR:this.#o(t);break}}static get defaultPropertiesToUpdate(){return[[Le.FREETEXT_SIZE,Rt._defaultFontSize],[Le.FREETEXT_COLOR,Rt._defaultColor||ve._defaultLineColor]]}get propertiesToUpdate(){return[[Le.FREETEXT_SIZE,this.#a],[Le.FREETEXT_COLOR,this.#e]]}#i(e){const t=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--total-scale-factor))`,this.translate(0,-(a-this.#a)*this.parentScale),this.#a=a,this.#d()},s=this.#a;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Le.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#o(e){const t=a=>{this.#e=this.editorDiv.style.color=a},s=this.#e;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Le.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-Rt._internalPadding*e,-(Rt._internalPadding+this.#a)*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.#s=new AbortController;const e=this._uiManager.combinedSignal(this.#s);return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e}),!0}disableEditMode(){return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#n),this._isDraggable=!0,this.#s?.abort(),this.#s=null,this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(e){this.width||(this.enableEditMode(),e&&this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#r(){const e=[];this.editorDiv.normalize();let t=null;for(const s of this.editorDiv.childNodes)t?.nodeType===Node.TEXT_NODE&&s.nodeName==="BR"||(e.push(Rt.#l(s)),t=s);return e.join(`
`)}#d(){const[e,t]=this.parentDimensions;let s;if(this.isAttachedToDOM)s=this.div.getBoundingClientRect();else{const{currentLayer:a,div:l}=this,c=l.style.display,d=l.classList.contains("hidden");l.classList.remove("hidden"),l.style.display="hidden",a.div.append(this.div),s=l.getBoundingClientRect(),l.remove(),l.style.display=c,l.classList.toggle("hidden",d)}this.rotation%180===this.parentRotation%180?(this.width=s.width/e,this.height=s.height/t):(this.width=s.height/e,this.height=s.width/t),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=this.#t,t=this.#t=this.#r().trimEnd();if(e===t)return;const s=a=>{if(this.#t=a,!a){this.remove();return}this.#h(),this._uiManager.rebuild(this),this.#d()};this.addCommands({cmd:()=>{s(t)},undo:()=>{s(e)},mustExec:!1}),this.#d()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){Rt._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let e,t;(this._isCopy||this.annotationElementId)&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#n),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:s}=this.editorDiv;if(s.fontSize=`calc(${this.#a}px * var(--total-scale-factor))`,s.color=this.#e,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[a,l]=this.parentDimensions;if(this.annotationElementId){const{position:c}=this._initialData;let[d,h]=this.getInitialTranslation();[d,h]=this.pageTranslationToScreen(d,h);const[f,p]=this.pageDimensions,[b,v]=this.pageTranslation;let x,w;switch(this.rotation){case 0:x=e+(c[0]-b)/f,w=t+this.height-(c[1]-v)/p;break;case 90:x=e+(c[0]-b)/f,w=t-(c[1]-v)/p,[d,h]=[h,-d];break;case 180:x=e-this.width+(c[0]-b)/f,w=t-(c[1]-v)/p,[d,h]=[-d,-h];break;case 270:x=e+(c[0]-b-this.height*p)/f,w=t+(c[1]-v-this.width*f)/p,[d,h]=[-h,d];break}this.setAt(x*a,w*l,d,h)}else this._moveAfterPaste(e,t);this.#h(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}static#l(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(pc,"")}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:s}=t;if(s.length===1&&s[0]==="text/plain")return;e.preventDefault();const a=Rt.#f(t.getData("text")||"").replaceAll(pc,`
`);if(!a)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const c=l.getRangeAt(0);if(!a.includes(`
`)){c.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:d,startOffset:h}=c,f=[],p=[];if(d.nodeType===Node.TEXT_NODE){const x=d.parentElement;if(p.push(d.nodeValue.slice(h).replaceAll(pc,"")),x!==this.editorDiv){let w=f;for(const A of this.editorDiv.childNodes){if(A===x){w=p;continue}w.push(Rt.#l(A))}}f.push(d.nodeValue.slice(0,h).replaceAll(pc,""))}else if(d===this.editorDiv){let x=f,w=0;for(const A of this.editorDiv.childNodes)w++===h&&(x=p),x.push(Rt.#l(A))}this.#t=`${f.join(`
`)}${a}${p.join(`
`)}`,this.#h();const b=new Range;let v=Math.sumPrecise(f.map(x=>x.length));for(const{firstChild:x}of this.editorDiv.childNodes)if(x.nodeType===Node.TEXT_NODE){const w=x.nodeValue.length;if(v<=w){b.setStart(x,v),b.setEnd(x,v);break}v-=w}l.removeAllRanges(),l.addRange(b)}#h(){if(this.editorDiv.replaceChildren(),!!this.#t)for(const e of this.#t.split(`
`)){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}#u(){return this.#t.replaceAll(""," ")}static#f(e){return e.replaceAll(" ","")}get contentDiv(){return this.editorDiv}static async deserialize(e,t,s){let a=null;if(e instanceof hw){const{data:{defaultAppearanceData:{fontSize:c,fontColor:d},rect:h,rotation:f,id:p,popupRef:b},textContent:v,textPosition:x,parent:{page:{pageNumber:w}}}=e;if(!v||v.length===0)return null;a=e={annotationType:Ee.FREETEXT,color:Array.from(d),fontSize:c,value:v.join(`
`),position:x,pageIndex:w-1,rect:h.slice(0),rotation:f,annotationElementId:p,id:p,deleted:!1,popupRef:b}}const l=await super.deserialize(e,t,s);return l.#a=e.fontSize,l.#e=ye.makeHexColor(...e.color),l.#t=Rt.#f(e.value),l._initialData=a,l}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=Rt._internalPadding*this.parentScale,s=this.getRect(t,t),a=ve._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#e),l={annotationType:Ee.FREETEXT,color:a,fontSize:this.#a,value:this.#u(),pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(l.isCopy=!0,l):this.annotationElementId&&!this.#m(l)?null:(l.id=this.annotationElementId,l)}#m(e){const{value:t,fontSize:s,color:a,pageIndex:l}=this._initialData;return this._hasBeenMoved||e.value!==t||e.fontSize!==s||e.color.some((c,d)=>c!==a[d])||e.pageIndex!==l}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(this.deleted)return t;const{style:s}=t;s.fontSize=`calc(${this.#a}px * var(--total-scale-factor))`,s.color=this.#e,t.replaceChildren();for(const l of this.#t.split(`
`)){const c=document.createElement("div");c.append(l?document.createTextNode(l):document.createElement("br")),t.append(c)}const a=Rt._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(a,a),popupContent:this.#t}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}class de{static PRECISION=1e-4;toSVGPath(){Ye("Abstract method `toSVGPath` must be implemented.")}get box(){Ye("Abstract getter `box` must be implemented.")}serialize(e,t){Ye("Abstract method `serialize` must be implemented.")}static _rescale(e,t,s,a,l,c){c||=new Float32Array(e.length);for(let d=0,h=e.length;d<h;d+=2)c[d]=t+e[d]*a,c[d+1]=s+e[d+1]*l;return c}static _rescaleAndSwap(e,t,s,a,l,c){c||=new Float32Array(e.length);for(let d=0,h=e.length;d<h;d+=2)c[d]=t+e[d+1]*a,c[d+1]=s+e[d]*l;return c}static _translate(e,t,s,a){a||=new Float32Array(e.length);for(let l=0,c=e.length;l<c;l+=2)a[l]=t+e[l],a[l+1]=s+e[l+1];return a}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,s,a,l){switch(l){case 90:return[1-t/s,e/a];case 180:return[1-e/s,1-t/a];case 270:return[t/s,1-e/a];default:return[e/s,t/a]}}static _normalizePagePoint(e,t,s){switch(s){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,s,a,l,c){return[(e+5*s)/6,(t+5*a)/6,(5*s+l)/6,(5*a+c)/6,(s+l)/2,(a+c)/2]}}class Ri{#e;#t=[];#n;#s;#a=[];#i=new Float32Array(18);#o;#r;#d;#l;#h;#u;#f=[];static#m=8;static#p=2;static#c=Ri.#m+Ri.#p;constructor({x:e,y:t},s,a,l,c,d=0){this.#e=s,this.#u=l*a,this.#s=c,this.#i.set([NaN,NaN,NaN,NaN,e,t],6),this.#n=d,this.#l=Ri.#m*a,this.#d=Ri.#c*a,this.#h=a,this.#f.push(e,t)}isEmpty(){return isNaN(this.#i[8])}#g(){const e=this.#i.subarray(4,6),t=this.#i.subarray(16,18),[s,a,l,c]=this.#e;return[(this.#o+(e[0]-t[0])/2-s)/l,(this.#r+(e[1]-t[1])/2-a)/c,(this.#o+(t[0]-e[0])/2-s)/l,(this.#r+(t[1]-e[1])/2-a)/c]}add({x:e,y:t}){this.#o=e,this.#r=t;const[s,a,l,c]=this.#e;let[d,h,f,p]=this.#i.subarray(8,12);const b=e-f,v=t-p,x=Math.hypot(b,v);if(x<this.#d)return!1;const w=x-this.#l,A=w/x,_=A*b,C=A*v;let k=d,N=h;d=f,h=p,f+=_,p+=C,this.#f?.push(e,t);const M=-C/w,R=_/w,P=M*this.#u,O=R*this.#u;return this.#i.set(this.#i.subarray(2,8),0),this.#i.set([f+P,p+O],4),this.#i.set(this.#i.subarray(14,18),12),this.#i.set([f-P,p-O],16),isNaN(this.#i[6])?(this.#a.length===0&&(this.#i.set([d+P,h+O],2),this.#a.push(NaN,NaN,NaN,NaN,(d+P-s)/l,(h+O-a)/c),this.#i.set([d-P,h-O],14),this.#t.push(NaN,NaN,NaN,NaN,(d-P-s)/l,(h-O-a)/c)),this.#i.set([k,N,d,h,f,p],6),!this.isEmpty()):(this.#i.set([k,N,d,h,f,p],6),Math.abs(Math.atan2(N-h,k-d)-Math.atan2(C,_))<Math.PI/2?([d,h,f,p]=this.#i.subarray(2,6),this.#a.push(NaN,NaN,NaN,NaN,((d+f)/2-s)/l,((h+p)/2-a)/c),[d,h,k,N]=this.#i.subarray(14,18),this.#t.push(NaN,NaN,NaN,NaN,((k+d)/2-s)/l,((N+h)/2-a)/c),!0):([k,N,d,h,f,p]=this.#i.subarray(0,6),this.#a.push(((k+5*d)/6-s)/l,((N+5*h)/6-a)/c,((5*d+f)/6-s)/l,((5*h+p)/6-a)/c,((d+f)/2-s)/l,((h+p)/2-a)/c),[f,p,d,h,k,N]=this.#i.subarray(12,18),this.#t.push(((k+5*d)/6-s)/l,((N+5*h)/6-a)/c,((5*d+f)/6-s)/l,((5*h+p)/6-a)/c,((d+f)/2-s)/l,((h+p)/2-a)/c),!0))}toSVGPath(){if(this.isEmpty())return"";const e=this.#a,t=this.#t;if(isNaN(this.#i[6])&&!this.isEmpty())return this.#y();const s=[];s.push(`M${e[4]} ${e[5]}`);for(let a=6;a<e.length;a+=6)isNaN(e[a])?s.push(`L${e[a+4]} ${e[a+5]}`):s.push(`C${e[a]} ${e[a+1]} ${e[a+2]} ${e[a+3]} ${e[a+4]} ${e[a+5]}`);this.#x(s);for(let a=t.length-6;a>=6;a-=6)isNaN(t[a])?s.push(`L${t[a+4]} ${t[a+5]}`):s.push(`C${t[a]} ${t[a+1]} ${t[a+2]} ${t[a+3]} ${t[a+4]} ${t[a+5]}`);return this.#b(s),s.join(" ")}#y(){const[e,t,s,a]=this.#e,[l,c,d,h]=this.#g();return`M${(this.#i[2]-e)/s} ${(this.#i[3]-t)/a} L${(this.#i[4]-e)/s} ${(this.#i[5]-t)/a} L${l} ${c} L${d} ${h} L${(this.#i[16]-e)/s} ${(this.#i[17]-t)/a} L${(this.#i[14]-e)/s} ${(this.#i[15]-t)/a} Z`}#b(e){const t=this.#t;e.push(`L${t[4]} ${t[5]} Z`)}#x(e){const[t,s,a,l]=this.#e,c=this.#i.subarray(4,6),d=this.#i.subarray(16,18),[h,f,p,b]=this.#g();e.push(`L${(c[0]-t)/a} ${(c[1]-s)/l} L${h} ${f} L${p} ${b} L${(d[0]-t)/a} ${(d[1]-s)/l}`)}newFreeDrawOutline(e,t,s,a,l,c){return new yw(e,t,s,a,l,c)}getOutlines(){const e=this.#a,t=this.#t,s=this.#i,[a,l,c,d]=this.#e,h=new Float32Array((this.#f?.length??0)+2);for(let b=0,v=h.length-2;b<v;b+=2)h[b]=(this.#f[b]-a)/c,h[b+1]=(this.#f[b+1]-l)/d;if(h[h.length-2]=(this.#o-a)/c,h[h.length-1]=(this.#r-l)/d,isNaN(s[6])&&!this.isEmpty())return this.#w(h);const f=new Float32Array(this.#a.length+24+this.#t.length);let p=e.length;for(let b=0;b<p;b+=2){if(isNaN(e[b])){f[b]=f[b+1]=NaN;continue}f[b]=e[b],f[b+1]=e[b+1]}p=this.#_(f,p);for(let b=t.length-6;b>=6;b-=6)for(let v=0;v<6;v+=2){if(isNaN(t[b+v])){f[p]=f[p+1]=NaN,p+=2;continue}f[p]=t[b+v],f[p+1]=t[b+v+1],p+=2}return this.#A(f,p),this.newFreeDrawOutline(f,h,this.#e,this.#h,this.#n,this.#s)}#w(e){const t=this.#i,[s,a,l,c]=this.#e,[d,h,f,p]=this.#g(),b=new Float32Array(36);return b.set([NaN,NaN,NaN,NaN,(t[2]-s)/l,(t[3]-a)/c,NaN,NaN,NaN,NaN,(t[4]-s)/l,(t[5]-a)/c,NaN,NaN,NaN,NaN,d,h,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(t[16]-s)/l,(t[17]-a)/c,NaN,NaN,NaN,NaN,(t[14]-s)/l,(t[15]-a)/c],0),this.newFreeDrawOutline(b,e,this.#e,this.#h,this.#n,this.#s)}#A(e,t){const s=this.#t;return e.set([NaN,NaN,NaN,NaN,s[4],s[5]],t),t+=6}#_(e,t){const s=this.#i.subarray(4,6),a=this.#i.subarray(16,18),[l,c,d,h]=this.#e,[f,p,b,v]=this.#g();return e.set([NaN,NaN,NaN,NaN,(s[0]-l)/d,(s[1]-c)/h,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,b,v,NaN,NaN,NaN,NaN,(a[0]-l)/d,(a[1]-c)/h],t),t+=24}}class yw extends de{#e;#t=new Float32Array(4);#n;#s;#a;#i;#o;constructor(e,t,s,a,l,c){super(),this.#o=e,this.#a=t,this.#e=s,this.#i=a,this.#n=l,this.#s=c,this.lastPoint=[NaN,NaN],this.#r(c);const[d,h,f,p]=this.#t;for(let b=0,v=e.length;b<v;b+=2)e[b]=(e[b]-d)/f,e[b+1]=(e[b+1]-h)/p;for(let b=0,v=t.length;b<v;b+=2)t[b]=(t[b]-d)/f,t[b+1]=(t[b+1]-h)/p}toSVGPath(){const e=[`M${this.#o[4]} ${this.#o[5]}`];for(let t=6,s=this.#o.length;t<s;t+=6){if(isNaN(this.#o[t])){e.push(`L${this.#o[t+4]} ${this.#o[t+5]}`);continue}e.push(`C${this.#o[t]} ${this.#o[t+1]} ${this.#o[t+2]} ${this.#o[t+3]} ${this.#o[t+4]} ${this.#o[t+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,t,s,a],l){const c=s-e,d=a-t;let h,f;switch(l){case 0:h=de._rescale(this.#o,e,a,c,-d),f=de._rescale(this.#a,e,a,c,-d);break;case 90:h=de._rescaleAndSwap(this.#o,e,t,c,d),f=de._rescaleAndSwap(this.#a,e,t,c,d);break;case 180:h=de._rescale(this.#o,s,t,-c,d),f=de._rescale(this.#a,s,t,-c,d);break;case 270:h=de._rescaleAndSwap(this.#o,s,a,-c,-d),f=de._rescaleAndSwap(this.#a,s,a,-c,-d);break}return{outline:Array.from(h),points:[Array.from(f)]}}#r(e){const t=this.#o;let s=t[4],a=t[5];const l=[s,a,s,a];let c=s,d=a;const h=e?Math.max:Math.min;for(let p=6,b=t.length;p<b;p+=6){const v=t[p+4],x=t[p+5];if(isNaN(t[p]))ye.pointBoundingBox(v,x,l),d<x?(c=v,d=x):d===x&&(c=h(c,v));else{const w=[1/0,1/0,-1/0,-1/0];ye.bezierBoundingBox(s,a,...t.slice(p,p+6),w),ye.rectBoundingBox(...w,l),d<w[3]?(c=w[2],d=w[3]):d===w[3]&&(c=h(c,w[2]))}s=v,a=x}const f=this.#t;f[0]=l[0]-this.#n,f[1]=l[1]-this.#n,f[2]=l[2]-l[0]+2*this.#n,f[3]=l[3]-l[1]+2*this.#n,this.lastPoint=[c,d]}get box(){return this.#t}newOutliner(e,t,s,a,l,c=0){return new Ri(e,t,s,a,l,c)}getNewOutline(e,t){const[s,a,l,c]=this.#t,[d,h,f,p]=this.#e,b=l*f,v=c*p,x=s*f+d,w=a*p+h,A=this.newOutliner({x:this.#a[0]*b+x,y:this.#a[1]*v+w},this.#e,this.#i,e,this.#s,t??this.#n);for(let _=2;_<this.#a.length;_+=2)A.add({x:this.#a[_]*b+x,y:this.#a[_+1]*v+w});return A.getOutlines()}}class jf{#e;#t;#n=[];#s=[];constructor(e,t=0,s=0,a=!0){const l=[1/0,1/0,-1/0,-1/0],c=10**-4;for(const{x,y:w,width:A,height:_}of e){const C=Math.floor((x-t)/c)*c,k=Math.ceil((x+A+t)/c)*c,N=Math.floor((w-t)/c)*c,M=Math.ceil((w+_+t)/c)*c,R=[C,N,M,!0],P=[k,N,M,!1];this.#n.push(R,P),ye.rectBoundingBox(C,N,k,M,l)}const d=l[2]-l[0]+2*s,h=l[3]-l[1]+2*s,f=l[0]-s,p=l[1]-s,b=this.#n.at(a?-1:-2),v=[b[0],b[2]];for(const x of this.#n){const[w,A,_]=x;x[0]=(w-f)/d,x[1]=(A-p)/h,x[2]=(_-p)/h}this.#e=new Float32Array([f,p,d,h]),this.#t=v}getOutlines(){this.#n.sort((t,s)=>t[0]-s[0]||t[1]-s[1]||t[2]-s[2]);const e=[];for(const t of this.#n)t[3]?(e.push(...this.#d(t)),this.#o(t)):(this.#r(t),e.push(...this.#d(t)));return this.#a(e)}#a(e){const t=[],s=new Set;for(const c of e){const[d,h,f]=c;t.push([d,h,c],[d,f,c])}t.sort((c,d)=>c[1]-d[1]||c[0]-d[0]);for(let c=0,d=t.length;c<d;c+=2){const h=t[c][2],f=t[c+1][2];h.push(f),f.push(h),s.add(h),s.add(f)}const a=[];let l;for(;s.size>0;){const c=s.values().next().value;let[d,h,f,p,b]=c;s.delete(c);let v=d,x=h;for(l=[d,f],a.push(l);;){let w;if(s.has(p))w=p;else if(s.has(b))w=b;else break;s.delete(w),[d,h,f,p,b]=w,v!==d&&(l.push(v,x,d,x===h?h:f),v=d),x=x===h?f:h}l.push(v,x)}return new aM(a,this.#e,this.#t)}#i(e){const t=this.#s;let s=0,a=t.length-1;for(;s<=a;){const l=s+a>>1,c=t[l][0];if(c===e)return l;c<e?s=l+1:a=l-1}return a+1}#o([,e,t]){const s=this.#i(e);this.#s.splice(s,0,[e,t])}#r([,e,t]){const s=this.#i(e);for(let a=s;a<this.#s.length;a++){const[l,c]=this.#s[a];if(l!==e)break;if(l===e&&c===t){this.#s.splice(a,1);return}}for(let a=s-1;a>=0;a--){const[l,c]=this.#s[a];if(l!==e)break;if(l===e&&c===t){this.#s.splice(a,1);return}}}#d(e){const[t,s,a]=e,l=[[t,s,a]],c=this.#i(a);for(let d=0;d<c;d++){const[h,f]=this.#s[d];for(let p=0,b=l.length;p<b;p++){const[,v,x]=l[p];if(!(f<=v||x<=h)){if(v>=h){if(x>f)l[p][1]=f;else{if(b===1)return[];l.splice(p,1),p--,b--}continue}l[p][2]=h,x>f&&l.push([t,f,x])}}}return l}}class aM extends de{#e;#t;constructor(e,t,s){super(),this.#t=e,this.#e=t,this.lastPoint=s}toSVGPath(){const e=[];for(const t of this.#t){let[s,a]=t;e.push(`M${s} ${a}`);for(let l=2;l<t.length;l+=2){const c=t[l],d=t[l+1];c===s?(e.push(`V${d}`),a=d):d===a&&(e.push(`H${c}`),s=c)}e.push("Z")}return e.join(" ")}serialize([e,t,s,a],l){const c=[],d=s-e,h=a-t;for(const f of this.#t){const p=new Array(f.length);for(let b=0;b<f.length;b+=2)p[b]=e+f[b]*d,p[b+1]=a-f[b+1]*h;c.push(p)}return c}get box(){return this.#e}get classNamesForOutlining(){return["highlightOutline"]}}class Pf extends Ri{newFreeDrawOutline(e,t,s,a,l,c){return new rM(e,t,s,a,l,c)}}class rM extends yw{newOutliner(e,t,s,a,l,c=0){return new Pf(e,t,s,a,l,c)}}class vn{#e=null;#t=null;#n;#s=null;#a=!1;#i=!1;#o=null;#r;#d=null;#l=null;#h;static#u=null;static get _keyboardManager(){return Pe(this,"_keyboardManager",new Oo([[["Escape","mac+Escape"],vn.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],vn.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],vn.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],vn.prototype._moveToPrevious],[["Home","mac+Home"],vn.prototype._moveToBeginning],[["End","mac+End"],vn.prototype._moveToEnd]]))}constructor({editor:e=null,uiManager:t=null}){e?(this.#i=!1,this.#h=Le.HIGHLIGHT_COLOR,this.#o=e):(this.#i=!0,this.#h=Le.HIGHLIGHT_DEFAULT_COLOR),this.#l=e?._uiManager||t,this.#r=this.#l._eventBus,this.#n=e?.color?.toUpperCase()||this.#l?.highlightColors.values().next().value||"#FFFF98",vn.#u||=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"})}renderButton(){const e=this.#e=document.createElement("button");e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",this.#o&&(e.ariaControls=`${this.#o.id}_colorpicker_dropdown`);const t=this.#l._signal;e.addEventListener("click",this.#c.bind(this),{signal:t}),e.addEventListener("keydown",this.#p.bind(this),{signal:t});const s=this.#t=document.createElement("span");return s.className="swatch",s.ariaHidden="true",s.style.backgroundColor=this.#n,e.append(s),e}renderMainDropdown(){const e=this.#s=this.#f();return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}#f(){const e=document.createElement("div"),t=this.#l._signal;e.addEventListener("contextmenu",Pn,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),this.#o&&(e.id=`${this.#o.id}_colorpicker_dropdown`);for(const[s,a]of this.#l.highlightColors){const l=document.createElement("button");l.tabIndex="0",l.role="option",l.setAttribute("data-color",a),l.title=s,l.setAttribute("data-l10n-id",vn.#u[s]);const c=document.createElement("span");l.append(c),c.className="swatch",c.style.backgroundColor=a,l.ariaSelected=a===this.#n,l.addEventListener("click",this.#m.bind(this,a),{signal:t}),e.append(l)}return e.addEventListener("keydown",this.#p.bind(this),{signal:t}),e}#m(e,t){t.stopPropagation(),this.#r.dispatch("switchannotationeditorparams",{source:this,type:this.#h,value:e})}_colorSelectFromKeyboard(e){if(e.target===this.#e){this.#c(e);return}const t=e.target.getAttribute("data-color");t&&this.#m(t,e)}_moveToNext(e){if(!this.#y){this.#c(e);return}if(e.target===this.#e){this.#s.firstChild?.focus();return}e.target.nextSibling?.focus()}_moveToPrevious(e){if(e.target===this.#s?.firstChild||e.target===this.#e){this.#y&&this._hideDropdownFromKeyboard();return}this.#y||this.#c(e),e.target.previousSibling?.focus()}_moveToBeginning(e){if(!this.#y){this.#c(e);return}this.#s.firstChild?.focus()}_moveToEnd(e){if(!this.#y){this.#c(e);return}this.#s.lastChild?.focus()}#p(e){vn._keyboardManager.exec(this,e)}#c(e){if(this.#y){this.hideDropdown();return}if(this.#a=e.detail===0,this.#d||(this.#d=new AbortController,window.addEventListener("pointerdown",this.#g.bind(this),{signal:this.#l.combinedSignal(this.#d)})),this.#e.ariaExpanded="true",this.#s){this.#s.classList.remove("hidden");return}const t=this.#s=this.#f();this.#e.append(t)}#g(e){this.#s?.contains(e.target)||this.hideDropdown()}hideDropdown(){this.#s?.classList.add("hidden"),this.#e.ariaExpanded="false",this.#d?.abort(),this.#d=null}get#y(){return this.#s&&!this.#s.classList.contains("hidden")}_hideDropdownFromKeyboard(){if(!this.#i){if(!this.#y){this.#o?.unselect();return}this.hideDropdown(),this.#e.focus({preventScroll:!0,focusVisible:this.#a})}}updateColor(e){if(this.#t&&(this.#t.style.backgroundColor=e),!this.#s)return;const t=this.#l.highlightColors.values();for(const s of this.#s.children)s.ariaSelected=t.next().value===e.toUpperCase()}destroy(){this.#e?.remove(),this.#e=null,this.#t=null,this.#s?.remove(),this.#s=null}}class pt extends ve{#e=null;#t=0;#n;#s=null;#a=null;#i=null;#o=null;#r=0;#d=null;#l=null;#h=null;#u=!1;#f=null;#m;#p=null;#c="";#g;#y="";static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=12;static _type="highlight";static _editorType=Ee.HIGHLIGHT;static _freeHighlightId=-1;static _freeHighlight=null;static _freeHighlightClipId="";static get _keyboardManager(){const e=pt.prototype;return Pe(this,"_keyboardManager",new Oo([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super({...e,name:"highlightEditor"}),this.color=e.color||pt._defaultColor,this.#g=e.thickness||pt._defaultThickness,this.#m=e.opacity||pt._defaultOpacity,this.#n=e.boxes||null,this.#y=e.methodOfCreation||"",this.#c=e.text||"",this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",e.highlightId>-1?(this.#u=!0,this.#x(e),this.#k()):this.#n&&(this.#e=e.anchorNode,this.#t=e.anchorOffset,this.#o=e.focusNode,this.#r=e.focusOffset,this.#b(),this.#k(),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}get telemetryInitialData(){return{action:"added",type:this.#u?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:this.#g,methodOfCreation:this.#y}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}#b(){const e=new jf(this.#n,.001);this.#l=e.getOutlines(),[this.x,this.y,this.width,this.height]=this.#l.box;const t=new jf(this.#n,.0025,.001,this._uiManager.direction==="ltr");this.#i=t.getOutlines();const{lastPoint:s}=this.#i;this.#f=[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height]}#x({highlightOutlines:e,highlightId:t,clipPathId:s}){this.#l=e;const a=1.5;if(this.#i=e.getNewOutline(this.#g/2+a,.0025),t>=0)this.#h=t,this.#s=s,this.parent.drawLayer.finalizeDraw(t,{bbox:e.box,path:{d:e.toSVGPath()}}),this.#p=this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:this.#i.box,path:{d:this.#i.toSVGPath()}},!0);else if(this.parent){const p=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(this.#h,{bbox:pt.#S(this.#l.box,(p-this.rotation+360)%360),path:{d:e.toSVGPath()}}),this.parent.drawLayer.updateProperties(this.#p,{bbox:pt.#S(this.#i.box,p),path:{d:this.#i.toSVGPath()}})}const[l,c,d,h]=e.box;switch(this.rotation){case 0:this.x=l,this.y=c,this.width=d,this.height=h;break;case 90:{const[p,b]=this.parentDimensions;this.x=c,this.y=1-l,this.width=d*b/p,this.height=h*p/b;break}case 180:this.x=1-l,this.y=1-c,this.width=d,this.height=h;break;case 270:{const[p,b]=this.parentDimensions;this.x=1-c,this.y=l,this.width=d*b/p,this.height=h*p/b;break}}const{lastPoint:f}=this.#i;this.#f=[(f[0]-l)/d,(f[1]-c)/h]}static initialize(e,t){ve.initialize(e,t),pt._defaultColor||=t.highlightColors?.values().next().value||"#fff066"}static updateDefaultParams(e,t){switch(e){case Le.HIGHLIGHT_DEFAULT_COLOR:pt._defaultColor=t;break;case Le.HIGHLIGHT_THICKNESS:pt._defaultThickness=t;break}}translateInPage(e,t){}get toolbarPosition(){return this.#f}updateParams(e,t){switch(e){case Le.HIGHLIGHT_COLOR:this.#w(t);break;case Le.HIGHLIGHT_THICKNESS:this.#A(t);break}}static get defaultPropertiesToUpdate(){return[[Le.HIGHLIGHT_DEFAULT_COLOR,pt._defaultColor],[Le.HIGHLIGHT_THICKNESS,pt._defaultThickness]]}get propertiesToUpdate(){return[[Le.HIGHLIGHT_COLOR,this.color||pt._defaultColor],[Le.HIGHLIGHT_THICKNESS,this.#g||pt._defaultThickness],[Le.HIGHLIGHT_FREE,this.#u]]}#w(e){const t=(l,c)=>{this.color=l,this.#m=c,this.parent?.drawLayer.updateProperties(this.#h,{root:{fill:l,"fill-opacity":c}}),this.#a?.updateColor(l)},s=this.color,a=this.#m;this.addCommands({cmd:t.bind(this,e,pt._defaultOpacity),undo:t.bind(this,s,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Le.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}#A(e){const t=this.#g,s=a=>{this.#g=a,this.#_(a)};this.addCommands({cmd:s.bind(this,e),undo:s.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Le.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",this.#a=new vn({editor:this})]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(this.#M())}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,this.#M())}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),e&&this.div.focus()}remove(){this.#T(),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#k(),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?this.#T():e&&(this.#k(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),this.show(this._isVisible),t&&this.select()}#_(e){if(!this.#u)return;this.#x({highlightOutlines:this.#l.getNewOutline(e/2)}),this.fixAndSetPosition();const[t,s]=this.parentDimensions;this.setDims(this.width*t,this.height*s)}#T(){this.#h===null||!this.parent||(this.parent.drawLayer.remove(this.#h),this.#h=null,this.parent.drawLayer.remove(this.#p),this.#p=null)}#k(e=this.parent){this.#h===null&&({id:this.#h,clipPathId:this.#s}=e.drawLayer.draw({bbox:this.#l.box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.#m},rootClass:{highlight:!0,free:this.#u},path:{d:this.#l.toSVGPath()}},!1,!0),this.#p=e.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:this.#u},bbox:this.#i.box,path:{d:this.#i.toSVGPath()}},this.#u),this.#d&&(this.#d.style.clipPath=this.#s))}static#S([e,t,s,a],l){switch(l){case 90:return[1-t-a,e,a,s];case 180:return[1-e-s,1-t-a,s,a];case 270:return[t,1-e-s,a,s]}return[e,t,s,a]}rotate(e){const{drawLayer:t}=this.parent;let s;this.#u?(e=(e-this.rotation+360)%360,s=pt.#S(this.#l.box,e)):s=pt.#S([this.x,this.y,this.width,this.height],e),t.updateProperties(this.#h,{bbox:s,root:{"data-main-rotation":e}}),t.updateProperties(this.#p,{bbox:pt.#S(this.#i.box,e),root:{"data-main-rotation":e}})}render(){if(this.div)return this.div;const e=super.render();this.#c&&(e.setAttribute("aria-label",this.#c),e.setAttribute("role","mark")),this.#u?e.classList.add("free"):this.div.addEventListener("keydown",this.#N.bind(this),{signal:this._uiManager._signal});const t=this.#d=document.createElement("div");e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=this.#s;const[s,a]=this.parentDimensions;return this.setDims(this.width*s,this.height*a),Vx(this,this.#d,["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!0}})}pointerleave(){this.isSelected||this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1}})}#N(e){pt._keyboardManager.exec(this,e)}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:this.#C(!0);break;case 1:case 3:this.#C(!1);break}}#C(e){if(!this.#e)return;const t=window.getSelection();e?t.setPosition(this.#e,this.#t):t.setPosition(this.#o,this.#r)}select(){super.select(),this.#p&&this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{hovered:!1,selected:!0}})}unselect(){super.unselect(),this.#p&&(this.parent?.drawLayer.updateProperties(this.#p,{rootClass:{selected:!1}}),this.#u||this.#C(!1))}get _mustFixPosition(){return!this.#u}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.updateProperties(this.#h,{rootClass:{hidden:!e}}),this.parent.drawLayer.updateProperties(this.#p,{rootClass:{hidden:!e}}))}#M(){return this.#u?this.rotation:0}#D(){if(this.#u)return null;const[e,t]=this.pageDimensions,[s,a]=this.pageTranslation,l=this.#n,c=new Float32Array(l.length*8);let d=0;for(const{x:h,y:f,width:p,height:b}of l){const v=h*e+s,x=(1-f)*t+a;c[d]=c[d+4]=v,c[d+1]=c[d+3]=x,c[d+2]=c[d+6]=v+p*e,c[d+5]=c[d+7]=x-b*t,d+=8}return c}#j(e){return this.#l.serialize(e,this.#M())}static startHighlighting(e,t,{target:s,x:a,y:l}){const{x:c,y:d,width:h,height:f}=s.getBoundingClientRect(),p=new AbortController,b=e.combinedSignal(p),v=x=>{p.abort(),this.#E(e,x)};window.addEventListener("blur",v,{signal:b}),window.addEventListener("pointerup",v,{signal:b}),window.addEventListener("pointerdown",gt,{capture:!0,passive:!1,signal:b}),window.addEventListener("contextmenu",Pn,{signal:b}),s.addEventListener("pointermove",this.#U.bind(this,e),{signal:b}),this._freeHighlight=new Pf({x:a,y:l},[c,d,h,f],e.scale,this._defaultThickness/2,t,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static#U(e,t){this._freeHighlight.add(t)&&e.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})}static#E(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}static async deserialize(e,t,s){let a=null;if(e instanceof mw){const{data:{quadPoints:w,rect:A,rotation:_,id:C,color:k,opacity:N,popupRef:M},parent:{page:{pageNumber:R}}}=e;a=e={annotationType:Ee.HIGHLIGHT,color:Array.from(k),opacity:N,quadPoints:w,boxes:null,pageIndex:R-1,rect:A.slice(0),rotation:_,annotationElementId:C,id:C,deleted:!1,popupRef:M}}else if(e instanceof Dm){const{data:{inkLists:w,rect:A,rotation:_,id:C,color:k,borderStyle:{rawWidth:N},popupRef:M},parent:{page:{pageNumber:R}}}=e;a=e={annotationType:Ee.HIGHLIGHT,color:Array.from(k),thickness:N,inkLists:w,boxes:null,pageIndex:R-1,rect:A.slice(0),rotation:_,annotationElementId:C,id:C,deleted:!1,popupRef:M}}const{color:l,quadPoints:c,inkLists:d,opacity:h}=e,f=await super.deserialize(e,t,s);f.color=ye.makeHexColor(...l),f.#m=h||1,d&&(f.#g=e.thickness),f._initialData=a;const[p,b]=f.pageDimensions,[v,x]=f.pageTranslation;if(c){const w=f.#n=[];for(let A=0;A<c.length;A+=8)w.push({x:(c[A]-v)/p,y:1-(c[A+1]-x)/b,width:(c[A+2]-c[A])/p,height:(c[A+1]-c[A+5])/b});f.#b(),f.#k(),f.rotate(f.rotation)}else if(d){f.#u=!0;const w=d[0],A={x:w[0]-v,y:b-(w[1]-x)},_=new Pf(A,[0,0,p,b],1,f.#g/2,!0,.001);for(let N=0,M=w.length;N<M;N+=2)A.x=w[N]-v,A.y=b-(w[N+1]-x),_.add(A);const{id:C,clipPathId:k}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:f.color,"fill-opacity":f._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:_.toSVGPath()}},!0,!0);f.#x({highlightOutlines:_.getOutlines(),highlightId:C,clipPathId:k}),f.#k(),f.rotate(f.parentRotation)}return f}serialize(e=!1){if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=this.getRect(0,0),s=ve._colorManager.convert(this.color),a={annotationType:Ee.HIGHLIGHT,color:s,opacity:this.#m,thickness:this.#g,quadPoints:this.#D(),outlines:this.#j(t),pageIndex:this.pageIndex,rect:t,rotation:this.#M(),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!this.#v(a)?null:(a.id=this.annotationElementId,a)}#v(e){const{color:t}=this._initialData;return e.color.some((s,a)=>s!==t[a])}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class bw{#e=Object.create(null);updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,s]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,s)}updateSVGProperty(e,t){this.#e[e]=t}toSVGProperties(){const e=this.#e;return this.#e=Object.create(null),{root:e}}reset(){this.#e=Object.create(null)}updateAll(e=this){this.updateProperties(e)}clone(){Ye("Not implemented")}}class Ae extends ve{#e=null;#t;_drawId=null;static _currentDrawId=-1;static _currentParent=null;static#n=null;static#s=null;static#a=null;static#i=NaN;static#o=null;static#r=null;static#d=NaN;static _INNER_MARGIN=3;constructor(e){super(e),this.#t=e.mustBeCommitted||!1,this._addOutlines(e)}_addOutlines(e){e.drawOutlines&&(this.#l(e),this.#f())}#l({drawOutlines:e,drawId:t,drawingOptions:s}){this.#e=e,this._drawingOptions||=s,this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),t>=0?(this._drawId=t,this.parent.drawLayer.finalizeDraw(t,e.defaultProperties)):this._drawId=this.#h(e,this.parent),this.#c(e.box)}#h(e,t){const{id:s}=t.drawLayer.draw(Ae._mergeSVGProperties(this._drawingOptions.toSVGProperties(),e.defaultSVGProperties),!1,!1);return s}static _mergeSVGProperties(e,t){const s=new Set(Object.keys(e));for(const[a,l]of Object.entries(t))s.has(a)?Object.assign(e[a],l):e[a]=l;return e}static getDefaultDrawingOptions(e){Ye("Not implemented")}static get typesMap(){Ye("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(e,t){const s=this.typesMap.get(e);s&&this._defaultDrawingOptions.updateProperty(s,t),this._currentParent&&(Ae.#n.updateProperty(s,t),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(e,t){const s=this.constructor.typesMap.get(e);s&&this._updateProperty(e,s,t)}static get defaultPropertiesToUpdate(){const e=[],t=this._defaultDrawingOptions;for(const[s,a]of this.typesMap)e.push([s,t[a]]);return e}get propertiesToUpdate(){const e=[],{_drawingOptions:t}=this;for(const[s,a]of this.constructor.typesMap)e.push([s,t[a]]);return e}_updateProperty(e,t,s){const a=this._drawingOptions,l=a[t],c=d=>{a.updateProperty(t,d);const h=this.#e.updateProperty(t,d);h&&this.#c(h),this.parent?.drawLayer.updateProperties(this._drawId,a.toSVGProperties())};this.addCommands({cmd:c.bind(this,s),undo:c.bind(this,l),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:e,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){this.parent?.drawLayer.updateProperties(this._drawId,Ae._mergeSVGProperties(this.#e.getPathResizingSVGProperties(this.#p()),{bbox:this.#g()}))}_onResized(){this.parent?.drawLayer.updateProperties(this._drawId,Ae._mergeSVGProperties(this.#e.getPathResizedSVGProperties(this.#p()),{bbox:this.#g()}))}_onTranslating(e,t){this.parent?.drawLayer.updateProperties(this._drawId,{bbox:this.#g()})}_onTranslated(){this.parent?.drawLayer.updateProperties(this._drawId,Ae._mergeSVGProperties(this.#e.getPathTranslatedSVGProperties(this.#p(),this.parentDimensions),{bbox:this.#g()}))}_onStartDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){this.parent?.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(e){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,this.#t&&(this.#t=!1,this.commit(),this.parent.setSelected(this),e&&this.isOnScreen&&this.div.focus())}remove(){this.#u(),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#f(),this.#c(this.#e.box),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;this.parent&&!e?(this._uiManager.removeShouldRescale(this),this.#u()):e&&(this._uiManager.addShouldRescale(this),this.#f(e),t=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(e),t&&this.select()}#u(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())}#f(e=this.parent){if(!(this._drawId!==null&&this.parent===e)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,e.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=this.#h(this.#e,e)}}#m([e,t,s,a]){const{parentDimensions:[l,c],rotation:d}=this;switch(d){case 90:return[t,1-e,s*(c/l),a*(l/c)];case 180:return[1-e,1-t,s,a];case 270:return[1-t,e,s*(c/l),a*(l/c)];default:return[e,t,s,a]}}#p(){const{x:e,y:t,width:s,height:a,parentDimensions:[l,c],rotation:d}=this;switch(d){case 90:return[1-t,e,s*(l/c),a*(c/l)];case 180:return[1-e,1-t,s,a];case 270:return[t,1-e,s*(l/c),a*(c/l)];default:return[e,t,s,a]}}#c(e){if([this.x,this.y,this.width,this.height]=this.#m(e),this.div){this.fixAndSetPosition();const[t,s]=this.parentDimensions;this.setDims(this.width*t,this.height*s)}this._onResized()}#g(){const{x:e,y:t,width:s,height:a,rotation:l,parentRotation:c,parentDimensions:[d,h]}=this;switch((l*4+c)/90){case 1:return[1-t-a,e,a,s];case 2:return[1-e-s,1-t-a,s,a];case 3:return[t,1-e-s,a,s];case 4:return[e,t-s*(d/h),a*(h/d),s*(d/h)];case 5:return[1-t,e,s*(d/h),a*(h/d)];case 6:return[1-e-a*(h/d),1-t,a*(h/d),s*(d/h)];case 7:return[t-s*(d/h),1-e-a*(h/d),s*(d/h),a*(h/d)];case 8:return[e-s,t-a,s,a];case 9:return[1-t,e-s,a,s];case 10:return[1-e,1-t,s,a];case 11:return[t-a,1-e,a,s];case 12:return[e-a*(h/d),t,a*(h/d),s*(d/h)];case 13:return[1-t-s*(d/h),e-a*(h/d),s*(d/h),a*(h/d)];case 14:return[1-e,1-t-s*(d/h),a*(h/d),s*(d/h)];case 15:return[t,1-e,s*(d/h),a*(h/d)];default:return[e,t,s,a]}}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,Ae._mergeSVGProperties({bbox:this.#g()},this.#e.updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&this.#c(this.#e.updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let e,t;this._isCopy&&(e=this.x,t=this.y);const s=super.render();s.classList.add("draw");const a=document.createElement("div");s.append(a),a.setAttribute("aria-hidden","true"),a.className="internal";const[l,c]=this.parentDimensions;return this.setDims(this.width*l,this.height*c),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(e,t),s}static createDrawerInstance(e,t,s,a,l){Ye("Not implemented")}static startDrawing(e,t,s,a){const{target:l,offsetX:c,offsetY:d,pointerId:h,pointerType:f}=a;if(Ae.#o&&Ae.#o!==f)return;const{viewport:{rotation:p}}=e,{width:b,height:v}=l.getBoundingClientRect(),x=Ae.#s=new AbortController,w=e.combinedSignal(x);if(Ae.#i||=h,Ae.#o??=f,window.addEventListener("pointerup",A=>{Ae.#i===A.pointerId?this._endDraw(A):Ae.#r?.delete(A.pointerId)},{signal:w}),window.addEventListener("pointercancel",A=>{Ae.#i===A.pointerId?this._currentParent.endDrawingSession():Ae.#r?.delete(A.pointerId)},{signal:w}),window.addEventListener("pointerdown",A=>{Ae.#o===A.pointerType&&((Ae.#r||=new Set).add(A.pointerId),Ae.#n.isCancellable()&&(Ae.#n.removeLastElement(),Ae.#n.isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:w}),window.addEventListener("contextmenu",Pn,{signal:w}),l.addEventListener("pointermove",this._drawMove.bind(this),{signal:w}),l.addEventListener("touchmove",A=>{A.timeStamp===Ae.#d&&gt(A)},{signal:w}),e.toggleDrawing(),t._editorUndoBar?.hide(),Ae.#n){e.drawLayer.updateProperties(this._currentDrawId,Ae.#n.startNew(c,d,b,v,p));return}t.updateUIForDefaultProperties(this),Ae.#n=this.createDrawerInstance(c,d,b,v,p),Ae.#a=this.getDefaultDrawingOptions(),this._currentParent=e,{id:this._currentDrawId}=e.drawLayer.draw(this._mergeSVGProperties(Ae.#a.toSVGProperties(),Ae.#n.defaultSVGProperties),!0,!1)}static _drawMove(e){if(Ae.#d=-1,!Ae.#n)return;const{offsetX:t,offsetY:s,pointerId:a}=e;if(Ae.#i===a){if(Ae.#r?.size>=1){this._endDraw(e);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,Ae.#n.add(t,s)),Ae.#d=e.timeStamp,gt(e)}}static _cleanup(e){e&&(this._currentDrawId=-1,this._currentParent=null,Ae.#n=null,Ae.#a=null,Ae.#o=null,Ae.#d=NaN),Ae.#s&&(Ae.#s.abort(),Ae.#s=null,Ae.#i=NaN,Ae.#r=null)}static _endDraw(e){const t=this._currentParent;if(t){if(t.toggleDrawing(!0),this._cleanup(!1),e?.target===t.div&&t.drawLayer.updateProperties(this._currentDrawId,Ae.#n.end(e.offsetX,e.offsetY)),this.supportMultipleDrawings){const s=Ae.#n,a=this._currentDrawId,l=s.getLastElement();t.addCommands({cmd:()=>{t.drawLayer.updateProperties(a,s.setLastElement(l))},undo:()=>{t.drawLayer.updateProperties(a,s.removeLastElement())},mustExec:!1,type:Le.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(e){const t=this._currentParent;if(!t)return null;if(t.toggleDrawing(!0),t.cleanUndoStack(Le.DRAW_STEP),!Ae.#n.isEmpty()){const{pageDimensions:[s,a],scale:l}=t,c=t.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Ae.#n.getOutlines(s*l,a*l,l,this._INNER_MARGIN),drawingOptions:Ae.#a,mustBeCommitted:!e});return this._cleanup(!0),c}return t.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(e){}static deserializeDraw(e,t,s,a,l,c){Ye("Not implemented")}static async deserialize(e,t,s){const{rawDims:{pageWidth:a,pageHeight:l,pageX:c,pageY:d}}=t.viewport,h=this.deserializeDraw(c,d,a,l,this._INNER_MARGIN,e),f=await super.deserialize(e,t,s);return f.createDrawingOptions(e),f.#l({drawOutlines:h}),f.#f(),f.onScaleChanging(),f.rotate(),f}serializeDraw(e){const[t,s]=this.pageTranslation,[a,l]=this.pageDimensions;return this.#e.serialize([t,s,a,l],e)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}class oM{#e=new Float64Array(6);#t;#n;#s;#a;#i;#o="";#r=0;#d=new Fo;#l;#h;constructor(e,t,s,a,l,c){this.#l=s,this.#h=a,this.#s=l,this.#a=c,[e,t]=this.#u(e,t);const d=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#i=[e,t],this.#n=[{line:d,points:this.#i}],this.#e.set(d,0)}updateProperty(e,t){e==="stroke-width"&&(this.#a=t)}#u(e,t){return de._normalizePoint(e,t,this.#l,this.#h,this.#s)}isEmpty(){return!this.#n||this.#n.length===0}isCancellable(){return this.#i.length<=10}add(e,t){[e,t]=this.#u(e,t);const[s,a,l,c]=this.#e.subarray(2,6),d=e-l,h=t-c;return Math.hypot(this.#l*d,this.#h*h)<=2?null:(this.#i.push(e,t),isNaN(s)?(this.#e.set([l,c,e,t],2),this.#t.push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(this.#e[0])&&this.#t.splice(6,6),this.#e.set([s,a,l,c,e,t],0),this.#t.push(...de.createBezierPoints(s,a,l,c,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const s=this.add(e,t);return s||(this.#i.length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,s,a,l){this.#l=s,this.#h=a,this.#s=l,[e,t]=this.#u(e,t);const c=this.#t=[NaN,NaN,NaN,NaN,e,t];this.#i=[e,t];const d=this.#n.at(-1);return d&&(d.line=new Float32Array(d.line),d.points=new Float32Array(d.points)),this.#n.push({line:c,points:this.#i}),this.#e.set(c,0),this.#r=0,this.toSVGPath(),null}getLastElement(){return this.#n.at(-1)}setLastElement(e){return this.#n?(this.#n.push(e),this.#t=e.line,this.#i=e.points,this.#r=0,{path:{d:this.toSVGPath()}}):this.#d.setLastElement(e)}removeLastElement(){if(!this.#n)return this.#d.removeLastElement();this.#n.pop(),this.#o="";for(let e=0,t=this.#n.length;e<t;e++){const{line:s,points:a}=this.#n[e];this.#t=s,this.#i=a,this.#r=0,this.toSVGPath()}return{path:{d:this.#o}}}toSVGPath(){const e=de.svgRound(this.#t[4]),t=de.svgRound(this.#t[5]);if(this.#i.length===2)return this.#o=`${this.#o} M ${e} ${t} Z`,this.#o;if(this.#i.length<=6){const a=this.#o.lastIndexOf("M");this.#o=`${this.#o.slice(0,a)} M ${e} ${t}`,this.#r=6}if(this.#i.length===4){const a=de.svgRound(this.#t[10]),l=de.svgRound(this.#t[11]);return this.#o=`${this.#o} L ${a} ${l}`,this.#r=12,this.#o}const s=[];this.#r===0&&(s.push(`M ${e} ${t}`),this.#r=6);for(let a=this.#r,l=this.#t.length;a<l;a+=6){const[c,d,h,f,p,b]=this.#t.slice(a,a+6).map(de.svgRound);s.push(`C${c} ${d} ${h} ${f} ${p} ${b}`)}return this.#o+=s.join(" "),this.#r=this.#t.length,this.#o}getOutlines(e,t,s,a){const l=this.#n.at(-1);return l.line=new Float32Array(l.line),l.points=new Float32Array(l.points),this.#d.build(this.#n,e,t,s,this.#s,this.#a,a),this.#e=null,this.#t=null,this.#n=null,this.#o=null,this.#d}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}class Fo extends de{#e;#t=0;#n;#s;#a;#i;#o;#r;#d;build(e,t,s,a,l,c,d){this.#a=t,this.#i=s,this.#o=a,this.#r=l,this.#d=c,this.#n=d??0,this.#s=e,this.#u()}get thickness(){return this.#d}setLastElement(e){return this.#s.push(e),{path:{d:this.toSVGPath()}}}removeLastElement(){return this.#s.pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const e=[];for(const{line:t}of this.#s){if(e.push(`M${de.svgRound(t[4])} ${de.svgRound(t[5])}`),t.length===6){e.push("Z");continue}if(t.length===12&&isNaN(t[6])){e.push(`L${de.svgRound(t[10])} ${de.svgRound(t[11])}`);continue}for(let s=6,a=t.length;s<a;s+=6){const[l,c,d,h,f,p]=t.subarray(s,s+6).map(de.svgRound);e.push(`C${l} ${c} ${d} ${h} ${f} ${p}`)}}return e.join("")}serialize([e,t,s,a],l){const c=[],d=[],[h,f,p,b]=this.#h();let v,x,w,A,_,C,k,N,M;switch(this.#r){case 0:M=de._rescale,v=e,x=t+a,w=s,A=-a,_=e+h*s,C=t+(1-f-b)*a,k=e+(h+p)*s,N=t+(1-f)*a;break;case 90:M=de._rescaleAndSwap,v=e,x=t,w=s,A=a,_=e+f*s,C=t+h*a,k=e+(f+b)*s,N=t+(h+p)*a;break;case 180:M=de._rescale,v=e+s,x=t,w=-s,A=a,_=e+(1-h-p)*s,C=t+f*a,k=e+(1-h)*s,N=t+(f+b)*a;break;case 270:M=de._rescaleAndSwap,v=e+s,x=t+a,w=-s,A=-a,_=e+(1-f-b)*s,C=t+(1-h-p)*a,k=e+(1-f)*s,N=t+(1-h)*a;break}for(const{line:R,points:P}of this.#s)c.push(M(R,v,x,w,A,l?new Array(R.length):null)),d.push(M(P,v,x,w,A,l?new Array(P.length):null));return{lines:c,points:d,rect:[_,C,k,N]}}static deserialize(e,t,s,a,l,{paths:{lines:c,points:d},rotation:h,thickness:f}){const p=[];let b,v,x,w,A;switch(h){case 0:A=de._rescale,b=-e/s,v=t/a+1,x=1/s,w=-1/a;break;case 90:A=de._rescaleAndSwap,b=-t/a,v=-e/s,x=1/a,w=1/s;break;case 180:A=de._rescale,b=e/s+1,v=-t/a,x=-1/s,w=1/a;break;case 270:A=de._rescaleAndSwap,b=t/a+1,v=e/s+1,x=-1/a,w=-1/s;break}if(!c){c=[];for(const C of d){const k=C.length;if(k===2){c.push(new Float32Array([NaN,NaN,NaN,NaN,C[0],C[1]]));continue}if(k===4){c.push(new Float32Array([NaN,NaN,NaN,NaN,C[0],C[1],NaN,NaN,NaN,NaN,C[2],C[3]]));continue}const N=new Float32Array(3*(k-2));c.push(N);let[M,R,P,O]=C.subarray(0,4);N.set([NaN,NaN,NaN,NaN,M,R],0);for(let D=4;D<k;D+=2){const Y=C[D],te=C[D+1];N.set(de.createBezierPoints(M,R,P,O,Y,te),(D-2)*3),[M,R,P,O]=[P,O,Y,te]}}}for(let C=0,k=c.length;C<k;C++)p.push({line:A(c[C].map(N=>N??NaN),b,v,x,w),points:A(d[C].map(N=>N??NaN),b,v,x,w)});const _=new this.prototype.constructor;return _.build(p,s,a,1,h,f,l),_}#l(e=this.#d){const t=this.#n+e/2*this.#o;return this.#r%180===0?[t/this.#a,t/this.#i]:[t/this.#i,t/this.#a]}#h(){const[e,t,s,a]=this.#e,[l,c]=this.#l(0);return[e+l,t+c,s-2*l,a-2*c]}#u(){const e=this.#e=new Float32Array([1/0,1/0,-1/0,-1/0]);for(const{line:a}of this.#s){if(a.length<=12){for(let d=4,h=a.length;d<h;d+=6)ye.pointBoundingBox(a[d],a[d+1],e);continue}let l=a[4],c=a[5];for(let d=6,h=a.length;d<h;d+=6){const[f,p,b,v,x,w]=a.subarray(d,d+6);ye.bezierBoundingBox(l,c,f,p,b,v,x,w,e),l=x,c=w}}const[t,s]=this.#l();e[0]=Xt(e[0]-t,0,1),e[1]=Xt(e[1]-s,0,1),e[2]=Xt(e[2]+t,0,1),e[3]=Xt(e[3]+s,0,1),e[2]-=e[0],e[3]-=e[1]}get box(){return this.#e}updateProperty(e,t){return e==="stroke-width"?this.#f(t):null}#f(e){const[t,s]=this.#l();this.#d=e;const[a,l]=this.#l(),[c,d]=[a-t,l-s],h=this.#e;return h[0]-=c,h[1]-=d,h[2]+=2*c,h[3]+=2*d,h}updateParentDimensions([e,t],s){const[a,l]=this.#l();this.#a=e,this.#i=t,this.#o=s;const[c,d]=this.#l(),h=c-a,f=d-l,p=this.#e;return p[0]-=h,p[1]-=f,p[2]+=2*h,p[3]+=2*f,p}updateRotation(e){return this.#t=e,{path:{transform:this.rotationTransform}}}get viewBox(){return this.#e.map(de.svgRound).join(" ")}get defaultProperties(){const[e,t]=this.#e;return{root:{viewBox:this.viewBox},path:{"transform-origin":`${de.svgRound(e)} ${de.svgRound(t)}`}}}get rotationTransform(){const[,,e,t]=this.#e;let s=0,a=0,l=0,c=0,d=0,h=0;switch(this.#t){case 90:a=t/e,l=-e/t,d=e;break;case 180:s=-1,c=-1,d=e,h=t;break;case 270:a=-t/e,l=e/t,h=t;break;default:return""}return`matrix(${s} ${a} ${l} ${c} ${de.svgRound(d)} ${de.svgRound(h)})`}getPathResizingSVGProperties([e,t,s,a]){const[l,c]=this.#l(),[d,h,f,p]=this.#e;if(Math.abs(f-l)<=de.PRECISION||Math.abs(p-c)<=de.PRECISION){const A=e+s/2-(d+f/2),_=t+a/2-(h+p/2);return{path:{"transform-origin":`${de.svgRound(e)} ${de.svgRound(t)}`,transform:`${this.rotationTransform} translate(${A} ${_})`}}}const b=(s-2*l)/(f-2*l),v=(a-2*c)/(p-2*c),x=f/s,w=p/a;return{path:{"transform-origin":`${de.svgRound(d)} ${de.svgRound(h)}`,transform:`${this.rotationTransform} scale(${x} ${w}) translate(${de.svgRound(l)} ${de.svgRound(c)}) scale(${b} ${v}) translate(${de.svgRound(-l)} ${de.svgRound(-c)})`}}}getPathResizedSVGProperties([e,t,s,a]){const[l,c]=this.#l(),d=this.#e,[h,f,p,b]=d;if(d[0]=e,d[1]=t,d[2]=s,d[3]=a,Math.abs(p-l)<=de.PRECISION||Math.abs(b-c)<=de.PRECISION){const _=e+s/2-(h+p/2),C=t+a/2-(f+b/2);for(const{line:k,points:N}of this.#s)de._translate(k,_,C,k),de._translate(N,_,C,N);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${de.svgRound(e)} ${de.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const v=(s-2*l)/(p-2*l),x=(a-2*c)/(b-2*c),w=-v*(h+l)+e+l,A=-x*(f+c)+t+c;if(v!==1||x!==1||w!==0||A!==0)for(const{line:_,points:C}of this.#s)de._rescale(_,w,A,v,x,_),de._rescale(C,w,A,v,x,C);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${de.svgRound(e)} ${de.svgRound(t)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([e,t],s){const[a,l]=s,c=this.#e,d=e-c[0],h=t-c[1];if(this.#a===a&&this.#i===l)for(const{line:f,points:p}of this.#s)de._translate(f,d,h,f),de._translate(p,d,h,p);else{const f=this.#a/a,p=this.#i/l;this.#a=a,this.#i=l;for(const{line:b,points:v}of this.#s)de._rescale(b,d,h,f,p,b),de._rescale(v,d,h,f,p,v);c[2]*=f,c[3]*=p}return c[0]=e,c[1]=t,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${de.svgRound(e)} ${de.svgRound(t)}`}}}get defaultSVGProperties(){const e=this.#e;return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${de.svgRound(e[0])} ${de.svgRound(e[1])}`,transform:this.rotationTransform||null},bbox:e}}}class lu extends bw{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:ve._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??=this["stroke-width"],t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new lu(this._viewParameters);return e.updateAll(this),e}}class Pm extends Ae{static _type="ink";static _editorType=Ee.INK;static _defaultDrawingOptions=null;constructor(e){super({...e,name:"inkEditor"}),this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(e,t){ve.initialize(e,t),this._defaultDrawingOptions=new lu(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!0}static get typesMap(){return Pe(this,"typesMap",new Map([[Le.INK_THICKNESS,"stroke-width"],[Le.INK_COLOR,"stroke"],[Le.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(e,t,s,a,l){return new oM(e,t,s,a,l,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(e,t,s,a,l,c){return Fo.deserialize(e,t,s,a,l,c)}static async deserialize(e,t,s){let a=null;if(e instanceof Dm){const{data:{inkLists:c,rect:d,rotation:h,id:f,color:p,opacity:b,borderStyle:{rawWidth:v},popupRef:x},parent:{page:{pageNumber:w}}}=e;a=e={annotationType:Ee.INK,color:Array.from(p),thickness:v,opacity:b,paths:{points:c},boxes:null,pageIndex:w-1,rect:d.slice(0),rotation:h,annotationElementId:f,id:f,deleted:!1,popupRef:x}}const l=await super.deserialize(e,t,s);return l._initialData=a,l}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:e,_drawingOptions:t,parent:s}=this;t.updateSVGProperty("stroke-width"),s.drawLayer.updateProperties(e,t.toSVGProperties())}static onScaleChangingWhenDrawing(){const e=this._currentParent;e&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),e.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:e,thickness:t,opacity:s}){this._drawingOptions=Pm.getDefaultDrawingOptions({stroke:ye.makeHexColor(...e),"stroke-width":t,"stroke-opacity":s})}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:t,points:s,rect:a}=this.serializeDraw(e),{_drawingOptions:{stroke:l,"stroke-opacity":c,"stroke-width":d}}=this,h={annotationType:Ee.INK,color:ve._colorManager.convert(l),opacity:c,thickness:d,paths:{lines:t,points:s},pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(h.isCopy=!0,h):this.annotationElementId&&!this.#e(h)?null:(h.id=this.annotationElementId,h)}#e(e){const{color:t,thickness:s,opacity:a,pageIndex:l}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||e.color.some((c,d)=>c!==t[d])||e.thickness!==s||e.opacity!==a||e.pageIndex!==l}renderAnnotationElement(e){const{points:t,rect:s}=this.serializeDraw(!1);return e.updateEdited({rect:s,thickness:this._drawingOptions["stroke-width"],points:t}),null}}class Lf extends Fo{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const gc=8,no=3;class ki{static#e={maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16};static#t(e,t,s,a){return s-=e,a-=t,s===0?a>0?0:4:s===1?a+6:2-a}static#n=new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]);static#s(e,t,s,a,l,c,d){const h=this.#t(s,a,l,c);for(let f=0;f<8;f++){const p=(-f+h-d+16)%8,b=this.#n[2*p],v=this.#n[2*p+1];if(e[(s+b)*t+(a+v)]!==0)return p}return-1}static#a(e,t,s,a,l,c,d){const h=this.#t(s,a,l,c);for(let f=0;f<8;f++){const p=(f+h+d+16)%8,b=this.#n[2*p],v=this.#n[2*p+1];if(e[(s+b)*t+(a+v)]!==0)return p}return-1}static#i(e,t,s,a){const l=e.length,c=new Int32Array(l);for(let p=0;p<l;p++)c[p]=e[p]<=a?1:0;for(let p=1;p<s-1;p++)c[p*t]=c[p*t+t-1]=0;for(let p=0;p<t;p++)c[p]=c[t*s-1-p]=0;let d=1,h;const f=[];for(let p=1;p<s-1;p++){h=1;for(let b=1;b<t-1;b++){const v=p*t+b,x=c[v];if(x===0)continue;let w=p,A=b;if(x===1&&c[v-1]===0)d+=1,A-=1;else if(x>=1&&c[v+1]===0)d+=1,A+=1,x>1&&(h=x);else{x!==1&&(h=Math.abs(x));continue}const _=[b,p],C=A===b+1,k={isHole:C,points:_,id:d,parent:0};f.push(k);let N;for(const H of f)if(H.id===h){N=H;break}N?N.isHole?k.parent=C?N.parent:h:k.parent=C?h:N.parent:k.parent=C?h:0;const M=this.#s(c,t,p,b,w,A,0);if(M===-1){c[v]=-d,c[v]!==1&&(h=Math.abs(c[v]));continue}let R=this.#n[2*M],P=this.#n[2*M+1];const O=p+R,D=b+P;w=O,A=D;let Y=p,te=b;for(;;){const H=this.#a(c,t,Y,te,w,A,1);R=this.#n[2*H],P=this.#n[2*H+1];const ne=Y+R,le=te+P;_.push(le,ne);const q=Y*t+te;if(c[q+1]===0?c[q]=-d:c[q]===1&&(c[q]=d),ne===p&&le===b&&Y===O&&te===D){c[v]!==1&&(h=Math.abs(c[v]));break}else w=Y,A=te,Y=ne,te=le}}}return f}static#o(e,t,s,a){if(s-t<=4){for(let O=t;O<s-2;O+=2)a.push(e[O],e[O+1]);return}const l=e[t],c=e[t+1],d=e[s-4]-l,h=e[s-3]-c,f=Math.hypot(d,h),p=d/f,b=h/f,v=p*c-b*l,x=h/d,w=1/f,A=Math.atan(x),_=Math.cos(A),C=Math.sin(A),k=w*(Math.abs(_)+Math.abs(C)),N=w*(1-k+k**2),M=Math.max(Math.atan(Math.abs(C+_)*N),Math.atan(Math.abs(C-_)*N));let R=0,P=t;for(let O=t+2;O<s-2;O+=2){const D=Math.abs(v-p*e[O+1]+b*e[O]);D>R&&(P=O,R=D)}R>(f*M)**2?(this.#o(e,t,P+2,a),this.#o(e,P,s,a)):a.push(l,c)}static#r(e){const t=[],s=e.length;return this.#o(e,0,s,t),t.push(e[s-2],e[s-1]),t.length<=4?null:t}static#d(e,t,s,a,l,c){const d=new Float32Array(c**2),h=-2*a**2,f=c>>1;for(let A=0;A<c;A++){const _=(A-f)**2;for(let C=0;C<c;C++)d[A*c+C]=Math.exp((_+(C-f)**2)/h)}const p=new Float32Array(256),b=-2*l**2;for(let A=0;A<256;A++)p[A]=Math.exp(A**2/b);const v=e.length,x=new Uint8Array(v),w=new Uint32Array(256);for(let A=0;A<s;A++)for(let _=0;_<t;_++){const C=A*t+_,k=e[C];let N=0,M=0;for(let P=0;P<c;P++){const O=A+P-f;if(!(O<0||O>=s))for(let D=0;D<c;D++){const Y=_+D-f;if(Y<0||Y>=t)continue;const te=e[O*t+Y],H=d[P*c+D]*p[Math.abs(te-k)];N+=te*H,M+=H}}const R=x[C]=Math.round(N/M);w[R]++}return[x,w]}static#l(e){const t=new Uint32Array(256);for(const s of e)t[s]++;return t}static#h(e){const t=e.length,s=new Uint8ClampedArray(t>>2);let a=-1/0,l=1/0;for(let d=0,h=s.length;d<h;d++){if(e[(d<<2)+3]===0){a=s[d]=255;continue}const p=s[d]=e[d<<2];p>a&&(a=p),p<l&&(l=p)}const c=255/(a-l);for(let d=0;d<t;d++)s[d]=(s[d]-l)*c;return s}static#u(e){let t,s=-1/0,a=-1/0;const l=e.findIndex(h=>h!==0);let c=l,d=l;for(t=l;t<256;t++){const h=e[t];h>s&&(t-c>a&&(a=t-c,d=t-1),s=h,c=t)}for(t=d-1;t>=0&&!(e[t]>e[t+1]);t--);return t}static#f(e){const t=e,{width:s,height:a}=e,{maxDim:l}=this.#e;let c=s,d=a;if(s>l||a>l){let v=s,x=a,w=Math.log2(Math.max(s,a)/l);const A=Math.floor(w);w=w===A?A-1:A;for(let C=0;C<w;C++){c=Math.ceil(v/2),d=Math.ceil(x/2);const k=new OffscreenCanvas(c,d);k.getContext("2d").drawImage(e,0,0,v,x,0,0,c,d),v=c,x=d,e!==t&&e.close(),e=k.transferToImageBitmap()}const _=Math.min(l/c,l/d);c=Math.round(c*_),d=Math.round(d*_)}const f=new OffscreenCanvas(c,d).getContext("2d",{willReadFrequently:!0});f.filter="grayscale(1)",f.drawImage(e,0,0,e.width,e.height,0,0,c,d);const p=f.getImageData(0,0,c,d).data;return[this.#h(p),c,d]}static extractContoursFromText(e,{fontFamily:t,fontStyle:s,fontWeight:a},l,c,d,h){let f=new OffscreenCanvas(1,1),p=f.getContext("2d",{alpha:!1});const b=200,v=p.font=`${s} ${a} ${b}px ${t}`,{actualBoundingBoxLeft:x,actualBoundingBoxRight:w,actualBoundingBoxAscent:A,actualBoundingBoxDescent:_,fontBoundingBoxAscent:C,fontBoundingBoxDescent:k,width:N}=p.measureText(e),M=1.5,R=Math.ceil(Math.max(Math.abs(x)+Math.abs(w)||0,N)*M),P=Math.ceil(Math.max(Math.abs(A)+Math.abs(_)||b,Math.abs(C)+Math.abs(k)||b)*M);f=new OffscreenCanvas(R,P),p=f.getContext("2d",{alpha:!0,willReadFrequently:!0}),p.font=v,p.filter="grayscale(1)",p.fillStyle="white",p.fillRect(0,0,R,P),p.fillStyle="black",p.fillText(e,R*(M-1)/2,P*(3-M)/2);const O=this.#h(p.getImageData(0,0,R,P).data),D=this.#l(O),Y=this.#u(D),te=this.#i(O,R,P,Y);return this.processDrawnLines({lines:{curves:te,width:R,height:P},pageWidth:l,pageHeight:c,rotation:d,innerMargin:h,mustSmooth:!0,areContours:!0})}static process(e,t,s,a,l){const[c,d,h]=this.#f(e),[f,p]=this.#d(c,d,h,Math.hypot(d,h)*this.#e.sigmaSFactor,this.#e.sigmaR,this.#e.kernelSize),b=this.#u(p),v=this.#i(f,d,h,b);return this.processDrawnLines({lines:{curves:v,width:d,height:h},pageWidth:t,pageHeight:s,rotation:a,innerMargin:l,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:s,rotation:a,innerMargin:l,mustSmooth:c,areContours:d}){a%180!==0&&([t,s]=[s,t]);const{curves:h,width:f,height:p}=e,b=e.thickness??0,v=[],x=Math.min(t/f,s/p),w=x/t,A=x/s,_=[];for(const{points:k}of h){const N=c?this.#r(k):k;if(!N)continue;_.push(N);const M=N.length,R=new Float32Array(M),P=new Float32Array(3*(M===2?2:M-2));if(v.push({line:P,points:R}),M===2){R[0]=N[0]*w,R[1]=N[1]*A,P.set([NaN,NaN,NaN,NaN,R[0],R[1]],0);continue}let[O,D,Y,te]=N;O*=w,D*=A,Y*=w,te*=A,R.set([O,D,Y,te],0),P.set([NaN,NaN,NaN,NaN,O,D],0);for(let H=4;H<M;H+=2){const ne=R[H]=N[H]*w,le=R[H+1]=N[H+1]*A;P.set(de.createBezierPoints(O,D,Y,te,ne,le),(H-2)*3),[O,D,Y,te]=[Y,te,ne,le]}}if(v.length===0)return null;const C=d?new Lf:new Fo;return C.build(v,t,s,1,a,d?0:b,l),{outline:C,newCurves:_,areContours:d,thickness:b,width:f,height:p}}static async compressSignature({outlines:e,areContours:t,thickness:s,width:a,height:l}){let c=1/0,d=-1/0,h=0;for(const N of e){h+=N.length;for(let M=2,R=N.length;M<R;M++){const P=N[M]-N[M-2];c=Math.min(c,P),d=Math.max(d,P)}}let f;c>=-128&&d<=127?f=Int8Array:c>=-32768&&d<=32767?f=Int16Array:f=Int32Array;const p=e.length,b=gc+no*p,v=new Uint32Array(b);let x=0;v[x++]=b*Uint32Array.BYTES_PER_ELEMENT+(h-2*p)*f.BYTES_PER_ELEMENT,v[x++]=0,v[x++]=a,v[x++]=l,v[x++]=t?0:1,v[x++]=Math.max(0,Math.floor(s??0)),v[x++]=p,v[x++]=f.BYTES_PER_ELEMENT;for(const N of e)v[x++]=N.length-2,v[x++]=N[0],v[x++]=N[1];const w=new CompressionStream("deflate-raw"),A=w.writable.getWriter();await A.ready,A.write(v);const _=f.prototype.constructor;for(const N of e){const M=new _(N.length-2);for(let R=2,P=N.length;R<P;R++)M[R-2]=N[R]-N[R-2];A.write(M)}A.close();const C=await new Response(w.readable).arrayBuffer(),k=new Uint8Array(C);return Bx(k)}static async decompressSignature(e){try{const t=Ik(e),{readable:s,writable:a}=new DecompressionStream("deflate-raw"),l=a.getWriter();await l.ready,l.write(t).then(async()=>{await l.ready,await l.close()}).catch(()=>{});let c=null,d=0;for await(const N of s)c||=new Uint8Array(new Uint32Array(N.buffer,0,4)[0]),c.set(N,d),d+=N.length;const h=new Uint32Array(c.buffer,0,c.length>>2),f=h[1];if(f!==0)throw new Error(`Invalid version: ${f}`);const p=h[2],b=h[3],v=h[4]===0,x=h[5],w=h[6],A=h[7],_=[],C=(gc+no*w)*Uint32Array.BYTES_PER_ELEMENT;let k;switch(A){case Int8Array.BYTES_PER_ELEMENT:k=new Int8Array(c.buffer,C);break;case Int16Array.BYTES_PER_ELEMENT:k=new Int16Array(c.buffer,C);break;case Int32Array.BYTES_PER_ELEMENT:k=new Int32Array(c.buffer,C);break}d=0;for(let N=0;N<w;N++){const M=h[no*N+gc],R=new Float32Array(M+2);_.push(R);for(let P=0;P<no-1;P++)R[P]=h[no*N+gc+P+1];for(let P=0;P<M;P++)R[P+2]=R[P]+k[d++]}return{areContours:v,thickness:x,outlines:_,width:p,height:b}}catch(t){return Ce(`decompressSignature: ${t}`),null}}}class Lm extends bw{constructor(){super(),super.updateProperties({fill:ve._defaultLineColor,"stroke-width":0})}clone(){const e=new Lm;return e.updateAll(this),e}}class Om extends lu{constructor(e){super(e),super.updateProperties({stroke:ve._defaultLineColor,"stroke-width":1})}clone(){const e=new Om(this._viewParameters);return e.updateAll(this),e}}class es extends Ae{#e=!1;#t=null;#n=null;#s=null;static _type="signature";static _editorType=Ee.SIGNATURE;static _defaultDrawingOptions=null;constructor(e){super({...e,mustBeCommitted:!0,name:"signatureEditor"}),this._willKeepAspectRatio=!0,this.#n=e.signatureData||null,this.#t=null,this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(e,t){ve.initialize(e,t),this._defaultDrawingOptions=new Lm,this._defaultDrawnSignatureOptions=new Om(t.viewParameters)}static getDefaultDrawingOptions(e){const t=this._defaultDrawingOptions.clone();return t.updateProperties(e),t}static get supportMultipleDrawings(){return!1}static get typesMap(){return Pe(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!this.#t}}static computeTelemetryFinalData(e){const t=e.get("hasDescription");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let e,t;const{_isCopy:s}=this;if(s&&(this._isCopy=!1,e=this.x,t=this.y),super.render(),this._drawId===null)if(this.#n){const{lines:a,mustSmooth:l,areContours:c,description:d,uuid:h,heightInPage:f}=this.#n,{rawDims:{pageWidth:p,pageHeight:b},rotation:v}=this.parent.viewport,x=ki.processDrawnLines({lines:a,pageWidth:p,pageHeight:b,rotation:v,innerMargin:es._INNER_MARGIN,mustSmooth:l,areContours:c});this.addSignature(x,f,d,h)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);return s&&(this._isCopy=!0,this._moveAfterPaste(e,t)),this.div}setUuid(e){this.#s=e,this.addEditToolbar()}getUuid(){return this.#s}get description(){return this.#t}set description(e){this.#t=e,super.addEditToolbar().then(t=>{t?.updateEditSignatureButton(e)})}getSignaturePreview(){const{newCurves:e,areContours:t,thickness:s,width:a,height:l}=this.#n,c=Math.max(a,l),d=ki.processDrawnLines({lines:{curves:e.map(h=>({points:h})),thickness:s,width:a,height:l},pageWidth:c,pageHeight:c,rotation:0,innerMargin:0,mustSmooth:!1,areContours:t});return{areContours:t,outline:d.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(e,t,s,a){const{x:l,y:c}=this,{outline:d}=this.#n=e;this.#e=d instanceof Lf,this.description=s,this.div.setAttribute("data-l10n-args",JSON.stringify({description:s}));let h;this.#e?h=es.getDefaultDrawingOptions():(h=es._defaultDrawnSignatureOptions.clone(),h.updateProperties({"stroke-width":d.thickness})),this._addOutlines({drawOutlines:d,drawingOptions:h});const[f,p]=this.parentDimensions,[,b]=this.pageDimensions;let v=t/b;v=v>=1?.5:v,this.width*=v/this.height,this.width>=1&&(v*=.9/this.width,this.width=.9),this.height=v,this.setDims(f*this.width,p*this.height),this.x=l,this.y=c,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(a),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!a,hasDescription:!!s}}),this.div.hidden=!1}getFromImage(e){const{rawDims:{pageWidth:t,pageHeight:s},rotation:a}=this.parent.viewport;return ki.process(e,t,s,a,es._INNER_MARGIN)}getFromText(e,t){const{rawDims:{pageWidth:s,pageHeight:a},rotation:l}=this.parent.viewport;return ki.extractContoursFromText(e,t,s,a,l,es._INNER_MARGIN)}getDrawnSignature(e){const{rawDims:{pageWidth:t,pageHeight:s},rotation:a}=this.parent.viewport;return ki.processDrawnLines({lines:e,pageWidth:t,pageHeight:s,rotation:a,innerMargin:es._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:e,thickness:t}){e?this._drawingOptions=es.getDefaultDrawingOptions():(this._drawingOptions=es._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":t}))}serialize(e=!1){if(this.isEmpty())return null;const{lines:t,points:s,rect:a}=this.serializeDraw(e),{_drawingOptions:{"stroke-width":l}}=this,c={annotationType:Ee.SIGNATURE,isSignature:!0,areContours:this.#e,color:[0,0,0],thickness:this.#e?0:l,pageIndex:this.pageIndex,rect:a,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?(c.paths={lines:t,points:s},c.uuid=this.#s,c.isCopy=!0):c.lines=t,this.#t&&(c.accessibilityData={type:"Figure",alt:this.#t}),c}static deserializeDraw(e,t,s,a,l,c){return c.areContours?Lf.deserialize(e,t,s,a,l,c):Fo.deserialize(e,t,s,a,l,c)}static async deserialize(e,t,s){const a=await super.deserialize(e,t,s);return a.#e=e.areContours,a.#t=e.accessibilityData?.alt||"",a.#s=e.uuid,a}}class lM extends ve{#e=null;#t=null;#n=null;#s=null;#a=null;#i="";#o=null;#r=!1;#d=null;#l=!1;#h=!1;static _type="stamp";static _editorType=Ee.STAMP;constructor(e){super({...e,name:"stampEditor"}),this.#s=e.bitmapUrl,this.#a=e.bitmapFile,this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(e,t){ve.initialize(e,t)}static isHandlingMimeForPasting(e){return zc.includes(e)}static paste(e,t){t.pasteEditor({mode:Ee.STAMP},{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){return{type:"stamp",hasAltText:!!this.altTextData?.altText}}static computeTelemetryFinalData(e){const t=e.get("hasAltText");return{hasAltText:t.get(!0)??0,hasNoAltText:t.get(!1)??0}}#u(e,t=!1){if(!e){this.remove();return}this.#e=e.bitmap,t||(this.#t=e.id,this.#l=e.isSvg),e.file&&(this.#i=e.file.name),this.#p()}#f(){if(this.#n=null,this._uiManager.enableWaiting(!1),!!this.#o){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&this.#e){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}}async mlGuessAltText(e=null,t=!0){if(this.hasAltTextData())return null;const{mlManager:s}=this._uiManager;if(!s)throw new Error("No ML.");if(!await s.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:a,width:l,height:c}=e||this.copyCanvas(null,null,!0).imageData,d=await s.guess({name:"altText",request:{data:a,width:l,height:c,channels:a.length/(l*c)}});if(!d)throw new Error("No response from the AI service.");if(d.error)throw new Error("Error from the AI service.");if(d.cancel)return null;if(!d.output)throw new Error("No valid response from the AI service.");const h=d.output;return await this.setGuessedAltText(h),t&&!this.hasAltTextData()&&(this.altTextData={alt:h,decorative:!1}),h}#m(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(s=>this.#u(s,!0)).finally(()=>this.#f());return}if(this.#s){const s=this.#s;this.#s=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(s).then(a=>this.#u(a)).finally(()=>this.#f());return}if(this.#a){const s=this.#a;this.#a=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(s).then(a=>this.#u(a)).finally(()=>this.#f());return}const e=document.createElement("input");e.type="file",e.accept=zc.join(",");const t=this._uiManager._signal;this.#n=new Promise(s=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),this.#u(a)}s()},{signal:t}),e.addEventListener("cancel",()=>{this.remove(),s()},{signal:t})}).finally(()=>this.#f()),e.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#o?.remove(),this.#o=null,this.#d&&(clearTimeout(this.#d),this.#d=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#m();return}super.rebuild(),this.div!==null&&(this.#t&&this.#o===null&&this.#m(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(e){this._isDraggable=!0,e&&this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#s||this.#a||this.#t||this.#r)}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;return this._isCopy&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.createAltText(),this.#r||(this.#e?this.#p():this.#m()),this._isCopy&&this._moveAfterPaste(e,t),this._uiManager.addShouldRescale(this),this.div}setCanvas(e,t){const{id:s,bitmap:a}=this._uiManager.imageManager.getFromCanvas(e,t);t.remove(),s&&this._uiManager.imageManager.isValidId(s)&&(this.#t=s,a&&(this.#e=a),this.#r=!1,this.#p())}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;this.#d!==null&&clearTimeout(this.#d);const e=200;this.#d=setTimeout(()=>{this.#d=null,this.#g()},e)}#p(){const{div:e}=this;let{width:t,height:s}=this.#e;const[a,l]=this.pageDimensions,c=.75;if(this.width)t=this.width*a,s=this.height*l;else if(t>c*a||s>c*l){const p=Math.min(c*a/t,c*l/s);t*=p,s*=p}const[d,h]=this.parentDimensions;this.setDims(t*d/a,s*h/l),this._uiManager.enableWaiting(!1);const f=this.#o=document.createElement("canvas");f.setAttribute("role","img"),this.addContainer(f),this.width=t/a,this.height=s/l,this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(e.hidden=!1),this.#g(),this.#h||(this.parent.addUndoableEditor(this),this.#h=!0),this._reportTelemetry({action:"inserted_image"}),this.#i&&this.div.setAttribute("aria-description",this.#i),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")}copyCanvas(e,t,s=!1){e||(e=224);const{width:a,height:l}=this.#e,c=new Bn;let d=this.#e,h=a,f=l,p=null;if(t){if(a>t||l>t){const P=Math.min(t/a,t/l);h=Math.floor(a*P),f=Math.floor(l*P)}p=document.createElement("canvas");const v=p.width=Math.ceil(h*c.sx),x=p.height=Math.ceil(f*c.sy);this.#l||(d=this.#c(v,x));const w=p.getContext("2d");w.filter=this._uiManager.hcmFilter;let A="white",_="#cfcfd8";this._uiManager.hcmFilter!=="none"?_="black":window.matchMedia?.("(prefers-color-scheme: dark)").matches&&(A="#8f8f9d",_="#42414d");const C=15,k=C*c.sx,N=C*c.sy,M=new OffscreenCanvas(k*2,N*2),R=M.getContext("2d");R.fillStyle=A,R.fillRect(0,0,k*2,N*2),R.fillStyle=_,R.fillRect(0,0,k,N),R.fillRect(k,N,k,N),w.fillStyle=w.createPattern(M,"repeat"),w.fillRect(0,0,v,x),w.drawImage(d,0,0,d.width,d.height,0,0,v,x)}let b=null;if(s){let v,x;if(c.symmetric&&d.width<e&&d.height<e)v=d.width,x=d.height;else if(d=this.#e,a>e||l>e){const _=Math.min(e/a,e/l);v=Math.floor(a*_),x=Math.floor(l*_),this.#l||(d=this.#c(v,x))}const A=new OffscreenCanvas(v,x).getContext("2d",{willReadFrequently:!0});A.drawImage(d,0,0,d.width,d.height,0,0,v,x),b={width:v,height:x,data:A.getImageData(0,0,v,x).data}}return{canvas:p,width:h,height:f,imageData:b}}#c(e,t){const{width:s,height:a}=this.#e;let l=s,c=a,d=this.#e;for(;l>2*e||c>2*t;){const h=l,f=c;l>2*e&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2)),c>2*t&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const p=new OffscreenCanvas(l,c);p.getContext("2d").drawImage(d,0,0,h,f,0,0,l,c),d=p.transferToImageBitmap()}return d}#g(){const[e,t]=this.parentDimensions,{width:s,height:a}=this,l=new Bn,c=Math.ceil(s*e*l.sx),d=Math.ceil(a*t*l.sy),h=this.#o;if(!h||h.width===c&&h.height===d)return;h.width=c,h.height=d;const f=this.#l?this.#e:this.#c(c,d),p=h.getContext("2d");p.filter=this._uiManager.hcmFilter,p.drawImage(f,0,0,f.width,f.height,0,0,c,d)}#y(e){if(e){if(this.#l){const a=this._uiManager.imageManager.getSvgUrl(this.#t);if(a)return a}const t=document.createElement("canvas");return{width:t.width,height:t.height}=this.#e,t.getContext("2d").drawImage(this.#e,0,0),t.toDataURL()}if(this.#l){const[t,s]=this.pageDimensions,a=Math.round(this.width*t*Fi.PDF_TO_CSS_UNITS),l=Math.round(this.height*s*Fi.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(a,l);return c.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,a,l),c.transferToImageBitmap()}return structuredClone(this.#e)}static async deserialize(e,t,s){let a=null,l=!1;if(e instanceof pw){const{data:{rect:A,rotation:_,id:C,structParent:k,popupRef:N},container:M,parent:{page:{pageNumber:R}},canvas:P}=e;let O,D;P?(delete e.canvas,{id:O,bitmap:D}=s.imageManager.getFromCanvas(M.id,P),P.remove()):(l=!0,e._hasNoCanvas=!0);const Y=(await t._structTree.getAriaAttributes(`${vm}${C}`))?.get("aria-label")||"";a=e={annotationType:Ee.STAMP,bitmapId:O,bitmap:D,pageIndex:R-1,rect:A.slice(0),rotation:_,annotationElementId:C,id:C,deleted:!1,accessibilityData:{decorative:!1,altText:Y},isSvg:!1,structParent:k,popupRef:N}}const c=await super.deserialize(e,t,s),{rect:d,bitmap:h,bitmapUrl:f,bitmapId:p,isSvg:b,accessibilityData:v}=e;l?(s.addMissingCanvas(e.id,c),c.#r=!0):p&&s.imageManager.isValidId(p)?(c.#t=p,h&&(c.#e=h)):c.#s=f,c.#l=b;const[x,w]=c.pageDimensions;return c.width=(d[2]-d[0])/x,c.height=(d[3]-d[1])/w,v&&(c.altTextData=v),c._initialData=a,c.#h=!!a,c}serialize(e=!1,t=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const s={annotationType:Ee.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#l,structTreeParentId:this._structTreeParentId};if(e)return s.bitmapUrl=this.#y(!0),s.accessibilityData=this.serializeAltText(!0),s.isCopy=!0,s;const{decorative:a,altText:l}=this.serializeAltText(!1);if(!a&&l&&(s.accessibilityData={type:"Figure",alt:l}),this.annotationElementId){const d=this.#b(s);if(d.isSame)return null;d.isSameAltText?delete s.accessibilityData:s.accessibilityData.structParent=this._initialData.structParent??-1}if(s.id=this.annotationElementId,t===null)return s;t.stamps||=new Map;const c=this.#l?(s.rect[2]-s.rect[0])*(s.rect[3]-s.rect[1]):null;if(!t.stamps.has(this.#t))t.stamps.set(this.#t,{area:c,serialized:s}),s.bitmap=this.#y(!1);else if(this.#l){const d=t.stamps.get(this.#t);c>d.area&&(d.area=c,d.serialized.bitmap.close(),d.serialized.bitmap=this.#y(!1))}return s}#b(e){const{pageIndex:t,accessibilityData:{altText:s}}=this._initialData,a=e.pageIndex===t,l=(e.accessibilityData?.alt||"")===s;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&a&&l,isSameAltText:l}}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}}class ns{#e;#t=!1;#n=null;#s=null;#a=null;#i=new Map;#o=!1;#r=!1;#d=!1;#l=null;#h=null;#u=null;#f=null;#m=null;#p=-1;#c;static _initialized=!1;static#g=new Map([Rt,Pm,lM,pt,es].map(e=>[e._editorType,e]));constructor({uiManager:e,pageIndex:t,div:s,structTreeLayer:a,accessibilityManager:l,annotationLayer:c,drawLayer:d,textLayer:h,viewport:f,l10n:p}){const b=[...ns.#g.values()];if(!ns._initialized){ns._initialized=!0;for(const v of b)v.initialize(p,e)}e.registerEditorTypes(b),this.#c=e,this.pageIndex=t,this.div=s,this.#e=l,this.#n=c,this.viewport=f,this.#u=h,this.drawLayer=d,this._structTree=a,this.#c.addLayer(this)}get isEmpty(){return this.#i.size===0}get isInvisible(){return this.isEmpty&&this.#c.getMode()===Ee.NONE}updateToolbar(e){this.#c.updateToolbar(e)}updateMode(e=this.#c.getMode()){switch(this.#A(),e){case Ee.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case Ee.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case Ee.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const s of ns.#g.values())t.toggle(`${s._type}Editing`,e===s._editorType);this.div.hidden=!1}hasTextLayer(e){return e===this.#u?.div}setEditingState(e){this.#c.setEditingState(e)}addCommands(e){this.#c.addCommands(e)}cleanUndoStack(e){this.#c.cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){this.#n?.div.classList.toggle("disabled",!e)}async enable(){this.#d=!0,this.div.tabIndex=0,this.togglePointerEvents(!0),this.#m?.abort(),this.#m=null;const e=new Set;for(const s of this.#i.values())s.enableEditing(),s.show(!0),s.annotationElementId&&(this.#c.removeChangedExistingAnnotation(s),e.add(s.annotationElementId));if(!this.#n){this.#d=!1;return}const t=this.#n.getEditableAnnotations();for(const s of t){if(s.hide(),this.#c.isDeletedAnnotationElement(s.data.id)||e.has(s.data.id))continue;const a=await this.deserialize(s);a&&(this.addOrRebuild(a),a.enableEditing())}this.#d=!1}disable(){if(this.#r=!0,this.div.tabIndex=-1,this.togglePointerEvents(!1),this.#u&&!this.#m){this.#m=new AbortController;const a=this.#c.combinedSignal(this.#m);this.#u.div.addEventListener("pointerdown",l=>{const{clientX:d,clientY:h,timeStamp:f}=l,p=this.#p;if(f-p>500){this.#p=f;return}this.#p=-1;const{classList:b}=this.div;b.toggle("getElements",!0);const v=document.elementsFromPoint(d,h);if(b.toggle("getElements",!1),!this.div.contains(v[0]))return;let x;const w=new RegExp(`^${Ox}[0-9]+$`);for(const _ of v)if(w.test(_.id)){x=_.id;break}if(!x)return;const A=this.#i.get(x);A?.annotationElementId===null&&(l.stopPropagation(),l.preventDefault(),A.dblclick())},{signal:a,capture:!0})}const e=new Map,t=new Map;for(const a of this.#i.values())if(a.disableEditing(),!!a.annotationElementId){if(a.serialize()!==null){e.set(a.annotationElementId,a);continue}else t.set(a.annotationElementId,a);this.getEditableAnnotation(a.annotationElementId)?.show(),a.remove()}if(this.#n){const a=this.#n.getEditableAnnotations();for(const l of a){const{id:c}=l.data;if(this.#c.isDeletedAnnotationElement(c))continue;let d=t.get(c);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=e.get(c),d&&(this.#c.addChangedExistingAnnotation(d),d.renderAnnotationElement(l)&&d.show(!1)),l.show()}}this.#A(),this.isEmpty&&(this.div.hidden=!0);const{classList:s}=this.div;for(const a of ns.#g.values())s.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),this.#r=!1}getEditableAnnotation(e){return this.#n?.getEditableAnnotation(e)||null}setActiveEditor(e){this.#c.getActive()!==e&&this.#c.setActiveEditor(e)}enableTextSelection(){if(this.div.tabIndex=-1,this.#u?.div&&!this.#f){this.#f=new AbortController;const e=this.#c.combinedSignal(this.#f);this.#u.div.addEventListener("pointerdown",this.#y.bind(this),{signal:e}),this.#u.div.classList.add("highlighting")}}disableTextSelection(){this.div.tabIndex=0,this.#u?.div&&this.#f&&(this.#f.abort(),this.#f=null,this.#u.div.classList.remove("highlighting"))}#y(e){this.#c.unselectAll();const{target:t}=e;if(t===this.#u.div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&this.#u.div.contains(t)){const{isMac:s}=It.platform;if(e.button!==0||e.ctrlKey&&s)return;this.#c.showAllEditors("highlight",!0,!0),this.#u.div.classList.add("free"),this.toggleDrawing(),pt.startHighlighting(this,this.#c.direction==="ltr",{target:this.#u.div,x:e.x,y:e.y}),this.#u.div.addEventListener("pointerup",()=>{this.#u.div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:this.#c._signal}),e.preventDefault()}}enableClick(){if(this.#s)return;this.#s=new AbortController;const e=this.#c.combinedSignal(this.#s);this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){this.#s?.abort(),this.#s=null}attach(e){this.#i.set(e.id,e);const{annotationElementId:t}=e;t&&this.#c.isDeletedAnnotationElement(t)&&this.#c.removeDeletedAnnotationElement(e)}detach(e){this.#i.delete(e.id),this.#e?.removePointerInTextLayer(e.contentDiv),!this.#r&&e.annotationElementId&&this.#c.addDeletedAnnotationElement(e)}remove(e){this.detach(e),this.#c.removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){e.parent!==this&&(e.parent&&e.annotationElementId&&(this.#c.addDeletedAnnotationElement(e.annotationElementId),ve.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),e.parent?.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),this.#c.addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!this.#d),this.#c.addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!this.#a&&(e._focusEventsAllowed=!1,this.#a=setTimeout(()=>{this.#a=null,e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this.#c._signal}),t.focus())},0)),e._structTreeParentId=this.#e?.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||=this,e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),s=()=>{e.remove()};this.addCommands({cmd:t,undo:s,mustExec:!1})}getNextId(){return this.#c.getId()}get#b(){return ns.#g.get(this.#c.getMode())}combinedSignal(e){return this.#c.combinedSignal(e)}#x(e){const t=this.#b;return t?new t.prototype.constructor(e):null}canCreateNewEmptyEditor(){return this.#b?.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await this.#c.updateMode(e.mode);const{offsetX:s,offsetY:a}=this.#w(),l=this.getNextId(),c=this.#x({parent:this,id:l,x:s,y:a,uiManager:this.#c,isCentered:!0,...t});c&&this.add(c)}async deserialize(e){return await ns.#g.get(e.annotationType??e.annotationEditorType)?.deserialize(e,this,this.#c)||null}createAndAddNewEditor(e,t,s={}){const a=this.getNextId(),l=this.#x({parent:this,id:a,x:e.offsetX,y:e.offsetY,uiManager:this.#c,isCentered:t,...s});return l&&this.add(l),l}#w(){const{x:e,y:t,width:s,height:a}=this.div.getBoundingClientRect(),l=Math.max(0,e),c=Math.max(0,t),d=Math.min(window.innerWidth,e+s),h=Math.min(window.innerHeight,t+a),f=(l+d)/2-e,p=(c+h)/2-t,[b,v]=this.viewport.rotation%180===0?[f,p]:[p,f];return{offsetX:b,offsetY:v}}addNewEditor(e={}){this.createAndAddNewEditor(this.#w(),!0,e)}setSelected(e){this.#c.setSelected(e)}toggleSelected(e){this.#c.toggleSelected(e)}unselect(e){this.#c.unselect(e)}pointerup(e){const{isMac:t}=It.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!this.#o||(this.#o=!1,this.#b?.isDrawer&&this.#b.supportMultipleDrawings))return;if(!this.#t){this.#t=!0;return}const s=this.#c.getMode();if(s===Ee.STAMP||s===Ee.SIGNATURE){this.#c.unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){if(this.#c.getMode()===Ee.HIGHLIGHT&&this.enableTextSelection(),this.#o){this.#o=!1;return}const{isMac:t}=It.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(this.#o=!0,this.#b?.isDrawer){this.startDrawingSession(e);return}const s=this.#c.getActive();this.#t=!s||s.isEmpty()}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),this.#l){this.#b.startDrawing(this,this.#c,!1,e);return}this.#c.setCurrentDrawingSession(this),this.#l=new AbortController;const t=this.#c.combinedSignal(this.#l);this.div.addEventListener("blur",({relatedTarget:s})=>{s&&!this.div.contains(s)&&(this.#h=null,this.commitOrRemove())},{signal:t}),this.#b.startDrawing(this,this.#c,!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&(this.#h=t);return}this.#h&&setTimeout(()=>{this.#h?.focus(),this.#h=null},0)}endDrawingSession(e=!1){return this.#l?(this.#c.setCurrentDrawingSession(null),this.#l.abort(),this.#l=null,this.#h=null,this.#b.endDrawing(e)):null}findNewParent(e,t,s){const a=this.#c.findParent(t,s);return a===null||a===this?!1:(a.changeParent(e),!0)}commitOrRemove(){return this.#l?(this.endDrawingSession(),!0):!1}onScaleChanging(){this.#l&&this.#b.onScaleChangingWhenDrawing(this)}destroy(){this.commitOrRemove(),this.#c.getActive()?.parent===this&&(this.#c.commitOrRemove(),this.#c.setActiveEditor(null)),this.#a&&(clearTimeout(this.#a),this.#a=null);for(const e of this.#i.values())this.#e?.removePointerInTextLayer(e.contentDiv),e.setParent(null),e.isAttachedToDOM=!1,e.div.remove();this.div=null,this.#i.clear(),this.#c.removeLayer(this)}#A(){for(const e of this.#i.values())e.isEmpty()&&e.remove()}render({viewport:e}){this.viewport=e,ai(this.div,e);for(const t of this.#c.getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){this.#c.commitOrRemove(),this.#A();const t=this.viewport.rotation,s=e.rotation;if(this.viewport=e,ai(this.div,{rotation:s}),t!==s)for(const a of this.#i.values())a.rotate(s)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return this.#c.viewParameters.realScale}}class Lt{#e=null;#t=new Map;#n=new Map;static#s=0;constructor({pageIndex:e}){this.pageIndex=e}setParent(e){if(!this.#e){this.#e=e;return}if(this.#e!==e){if(this.#t.size>0)for(const t of this.#t.values())t.remove(),e.append(t);this.#e=e}}static get _svgFactory(){return Pe(this,"_svgFactory",new _o)}static#a(e,[t,s,a,l]){const{style:c}=e;c.top=`${100*s}%`,c.left=`${100*t}%`,c.width=`${100*a}%`,c.height=`${100*l}%`}#i(){const e=Lt._svgFactory.create(1,1,!0);return this.#e.append(e),e.setAttribute("aria-hidden",!0),e}#o(e,t){const s=Lt._svgFactory.createElement("clipPath");e.append(s);const a=`clip_${t}`;s.setAttribute("id",a),s.setAttribute("clipPathUnits","objectBoundingBox");const l=Lt._svgFactory.createElement("use");return s.append(l),l.setAttribute("href",`#${t}`),l.classList.add("clip"),a}#r(e,t){for(const[s,a]of Object.entries(t))a===null?e.removeAttribute(s):e.setAttribute(s,a)}draw(e,t=!1,s=!1){const a=Lt.#s++,l=this.#i(),c=Lt._svgFactory.createElement("defs");l.append(c);const d=Lt._svgFactory.createElement("path");c.append(d);const h=`path_p${this.pageIndex}_${a}`;d.setAttribute("id",h),d.setAttribute("vector-effect","non-scaling-stroke"),t&&this.#n.set(a,d);const f=s?this.#o(c,h):null,p=Lt._svgFactory.createElement("use");return l.append(p),p.setAttribute("href",`#${h}`),this.updateProperties(l,e),this.#t.set(a,l),{id:a,clipPathId:`url(#${f})`}}drawOutline(e,t){const s=Lt.#s++,a=this.#i(),l=Lt._svgFactory.createElement("defs");a.append(l);const c=Lt._svgFactory.createElement("path");l.append(c);const d=`path_p${this.pageIndex}_${s}`;c.setAttribute("id",d),c.setAttribute("vector-effect","non-scaling-stroke");let h;if(t){const b=Lt._svgFactory.createElement("mask");l.append(b),h=`mask_p${this.pageIndex}_${s}`,b.setAttribute("id",h),b.setAttribute("maskUnits","objectBoundingBox");const v=Lt._svgFactory.createElement("rect");b.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const x=Lt._svgFactory.createElement("use");b.append(x),x.setAttribute("href",`#${d}`),x.setAttribute("stroke","none"),x.setAttribute("fill","black"),x.setAttribute("fill-rule","nonzero"),x.classList.add("mask")}const f=Lt._svgFactory.createElement("use");a.append(f),f.setAttribute("href",`#${d}`),h&&f.setAttribute("mask",`url(#${h})`);const p=f.cloneNode();return a.append(p),f.classList.add("mainOutline"),p.classList.add("secondaryOutline"),this.updateProperties(a,e),this.#t.set(s,a),s}finalizeDraw(e,t){this.#n.delete(e),this.updateProperties(e,t)}updateProperties(e,t){if(!t)return;const{root:s,bbox:a,rootClass:l,path:c}=t,d=typeof e=="number"?this.#t.get(e):e;if(d){if(s&&this.#r(d,s),a&&Lt.#a(d,a),l){const{classList:h}=d;for(const[f,p]of Object.entries(l))h.toggle(f,p)}if(c){const f=d.firstChild.firstChild;this.#r(f,c)}}}updateParent(e,t){if(t===this)return;const s=this.#t.get(e);s&&(t.#e.append(s),this.#t.delete(e),t.#t.set(e,s))}remove(e){this.#n.delete(e),this.#e!==null&&(this.#t.get(e).remove(),this.#t.delete(e))}destroy(){this.#e=null;for(const e of this.#t.values())e.remove();this.#t.clear(),this.#n.clear()}}globalThis._pdfjsTestingUtils={HighlightOutliner:jf};globalThis.pdfjsLib={AbortException:Ns,AnnotationEditorLayer:ns,AnnotationEditorParamsType:Le,AnnotationEditorType:Ee,AnnotationEditorUIManager:ks,AnnotationLayer:jm,AnnotationMode:ss,AnnotationType:mt,build:cw,ColorPicker:vn,createValidAbsoluteUrl:gm,DOMSVGFactory:_o,DrawLayer:Lt,FeatureTest:It,fetchData:Qa,getDocument:Nm,getFilenameFromUrl:Hx,getPdfFilenameFromUrl:Gx,getUuid:bm,getXfaPageViewport:qx,GlobalWorkerOptions:is,ImageKind:uo,InvalidPDFException:Ic,isDataScheme:Lo,isPdfFile:ru,isValidExplicitDest:Xx,MathClamp:Xt,noContextMenu:Pn,normalizeUnicode:Ux,OPS:wo,OutputScale:Bn,PasswordResponses:zx,PDFDataRangeTransport:Rm,PDFDateString:xm,PDFWorker:Ha,PermissionFlag:Ix,PixelsPerInch:Fi,RenderingCancelledException:au,ResponseException:Ao,setLayerDimensions:ai,shadow:Pe,SignatureExtractor:ki,stopEvent:gt,SupportedImageMimeTypes:zc,TextLayer:So,TouchManager:Io,updateUrlHash:ym,Util:ye,VerbosityLevel:Do,version:Oa,XfaLayer:Mm};const cM=Object.freeze(Object.defineProperty({__proto__:null,AbortException:Ns,AnnotationEditorLayer:ns,AnnotationEditorParamsType:Le,AnnotationEditorType:Ee,AnnotationEditorUIManager:ks,AnnotationLayer:jm,AnnotationMode:ss,AnnotationType:mt,ColorPicker:vn,DOMSVGFactory:_o,DrawLayer:Lt,FeatureTest:It,GlobalWorkerOptions:is,ImageKind:uo,InvalidPDFException:Ic,MathClamp:Xt,OPS:wo,OutputScale:Bn,PDFDataRangeTransport:Rm,PDFDateString:xm,PDFWorker:Ha,PasswordResponses:zx,PermissionFlag:Ix,PixelsPerInch:Fi,RenderingCancelledException:au,ResponseException:Ao,SignatureExtractor:ki,SupportedImageMimeTypes:zc,TextLayer:So,TouchManager:Io,Util:ye,VerbosityLevel:Do,XfaLayer:Mm,build:cw,createValidAbsoluteUrl:gm,fetchData:Qa,getDocument:Nm,getFilenameFromUrl:Hx,getPdfFilenameFromUrl:Gx,getUuid:bm,getXfaPageViewport:qx,isDataScheme:Lo,isPdfFile:ru,isValidExplicitDest:Xx,noContextMenu:Pn,normalizeUnicode:Ux,setLayerDimensions:ai,shadow:Pe,stopEvent:gt,updateUrlHash:ym,version:Oa},Symbol.toStringTag,{value:"Module"}));var Bv=Object.prototype.hasOwnProperty;function Hv(r,e,t){for(t of r.keys())if(za(t,e))return t}function za(r,e){var t,s,a;if(r===e)return!0;if(r&&e&&(t=r.constructor)===e.constructor){if(t===Date)return r.getTime()===e.getTime();if(t===RegExp)return r.toString()===e.toString();if(t===Array){if((s=r.length)===e.length)for(;s--&&za(r[s],e[s]););return s===-1}if(t===Set){if(r.size!==e.size)return!1;for(s of r)if(a=s,a&&typeof a=="object"&&(a=Hv(e,a),!a)||!e.has(a))return!1;return!0}if(t===Map){if(r.size!==e.size)return!1;for(s of r)if(a=s[0],a&&typeof a=="object"&&(a=Hv(e,a),!a)||!za(s[1],e.get(a)))return!1;return!0}if(t===ArrayBuffer)r=new Uint8Array(r),e=new Uint8Array(e);else if(t===DataView){if((s=r.byteLength)===e.byteLength)for(;s--&&r.getInt8(s)===e.getInt8(s););return s===-1}if(ArrayBuffer.isView(r)){if((s=r.byteLength)===e.byteLength)for(;s--&&r[s]===e[s];);return s===-1}if(!t||typeof r=="object"){s=0;for(t in r)if(Bv.call(r,t)&&++s&&!Bv.call(e,t)||!(t in e)||!za(r[t],e[t]))return!1;return Object.keys(e).length===s}}return r!==r&&e!==e}function Uo(r){let e=!1;return{promise:new Promise((s,a)=>{r.then(l=>!e&&s(l)).catch(l=>!e&&a(l))}),cancel(){e=!0}}}const uM=["onCopy","onCut","onPaste"],dM=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],hM=["onFocus","onBlur"],fM=["onInput","onInvalid","onReset","onSubmit"],mM=["onLoad","onError"],pM=["onKeyDown","onKeyPress","onKeyUp"],gM=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],yM=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],bM=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],vM=["onSelect"],xM=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],wM=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],AM=["onScroll"],SM=["onWheel"],EM=["onAnimationStart","onAnimationEnd","onAnimationIteration"],_M=["onTransitionEnd"],CM=["onToggle"],TM=["onChange"],NM=[...uM,...dM,...hM,...fM,...mM,...pM,...gM,...yM,...bM,...vM,...xM,...wM,...AM,...SM,...EM,..._M,...TM,...CM];function vw(r,e){const t={};for(const s of NM){const a=r[s];a&&(e?t[s]=(l=>a(l,e(s))):t[s]=a)}return t}var kM="Invariant failed";function We(r,e){if(!r)throw new Error(kM)}var cf,Gv;function RM(){if(Gv)return cf;Gv=1;var r=function(){};return cf=r,cf}var MM=RM();const Wt=Bc(MM),xw=S.createContext(null),DM="noopener noreferrer nofollow";class jM{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return We(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){We(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise(t=>{We(this.pdfDocument),We(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{We(Array.isArray(t));const s=t[0];new Promise(a=>{We(this.pdfDocument),s instanceof Object?this.pdfDocument.getPageIndex(s).then(l=>{a(l)}).catch(()=>{We(!1)}):typeof s=="number"?a(s):We(!1)}).then(a=>{const l=a+1;We(this.pdfViewer),We(l>=1&&l<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:a,pageNumber:l})})})}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;We(this.pdfViewer),We(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,s){e.href=t,e.rel=this.externalLinkRel||DM,e.target=s?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}function Fa({children:r,type:e}){return m.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:r})}const qv={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function PM(r,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return r}}function Ga(){return S.useReducer(PM,{value:void 0,error:void 0})}const cu=typeof window<"u",ww=cu&&window.location.protocol==="file:";function LM(r){return typeof r<"u"}function Ti(r){return LM(r)&&r!==null}function OM(r){return typeof r=="string"}function IM(r){return r instanceof ArrayBuffer}function zM(r){return We(cu),r instanceof Blob}function Of(r){return OM(r)&&/^data:/.test(r)}function Vv(r){We(Of(r));const[e="",t=""]=r.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function FM(){return cu&&window.devicePixelRatio||1}const Aw="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function $v(){Wt(!ww,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${Aw}`)}function UM(){Wt(!ww,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${Aw}`)}function Bi(r){r?.cancel&&r.cancel()}function If(r,e){return Object.defineProperty(r,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(r,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(r,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(r,"originalHeight",{get(){return this.view[3]},configurable:!0}),r}function BM(r){return r.name==="RenderingCancelledException"}function HM(r){return new Promise((e,t)=>{const s=new FileReader;s.onload=()=>{if(!s.result)return t(new Error("Error while reading a file."));e(s.result)},s.onerror=a=>{if(!a.target)return t(new Error("Error while reading a file."));const{error:l}=a.target;if(!l)return t(new Error("Error while reading a file."));switch(l.code){case l.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case l.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case l.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},s.readAsArrayBuffer(r)})}const{PDFDataRangeTransport:GM}=cM,qM=(r,e)=>{switch(e){case qv.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");r(t);break}case qv.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");r(t);break}}};function Yv(r){return typeof r=="object"&&r!==null&&("data"in r||"range"in r||"url"in r)}const VM=S.forwardRef(function({children:e,className:t,error:s="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:l,file:c,inputRef:d,imageResourcesPath:h,loading:f="Loading PDF",noData:p="No PDF file specified.",onItemClick:b,onLoadError:v,onLoadProgress:x,onLoadSuccess:w,onPassword:A=qM,onSourceError:_,onSourceSuccess:C,options:k,renderMode:N,rotate:M,scale:R,...P},O){const[D,Y]=Ga(),{value:te,error:H}=D,[ne,le]=Ga(),{value:q,error:ee}=ne,j=S.useRef(new jM),B=S.useRef([]),V=S.useRef(void 0),ce=S.useRef(void 0);c&&c!==V.current&&Yv(c)&&(Wt(!za(c,V.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),V.current=c),k&&k!==ce.current&&(Wt(!za(k,ce.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),ce.current=k);const I=S.useRef({scrollPageIntoView:Oe=>{const{dest:Ge,pageNumber:dt,pageIndex:wt=dt-1}=Oe;if(b){b({dest:Ge,pageIndex:wt,pageNumber:dt});return}const zt=B.current[wt];if(zt){zt.scrollIntoView();return}Wt(!1,`An internal link leading to page ${dt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});S.useImperativeHandle(O,()=>({linkService:j,pages:B,viewer:I}),[]);function Q(){C&&C()}function L(){H&&(Wt(!1,H.toString()),_&&_(H))}function z(){Y({type:"RESET"})}S.useEffect(z,[c,Y]);const $=S.useCallback(async()=>{if(!c)return null;if(typeof c=="string")return Of(c)?{data:Vv(c)}:($v(),{url:c});if(c instanceof GM)return{range:c};if(IM(c))return{data:c};if(cu&&zM(c))return{data:await HM(c)};if(We(typeof c=="object"),We(Yv(c)),"url"in c&&typeof c.url=="string"){if(Of(c.url)){const{url:Oe,...Ge}=c;return{data:Vv(Oe),...Ge}}$v()}return c},[c]);S.useEffect(()=>{const Oe=Uo($());return Oe.promise.then(Ge=>{Y({type:"RESOLVE",value:Ge})}).catch(Ge=>{Y({type:"REJECT",error:Ge})}),()=>{Bi(Oe)}},[$,Y]),S.useEffect(()=>{if(!(typeof te>"u")){if(te===!1){L();return}Q()}},[te]);function oe(){q&&(w&&w(q),B.current=new Array(q.numPages),j.current.setDocument(q))}function J(){ee&&(Wt(!1,ee.toString()),v&&v(ee))}S.useEffect(function(){le({type:"RESET"})},[le,te]),S.useEffect(function(){if(!te)return;const Ge=k?{...te,...k}:te,dt=Nm(Ge);x&&(dt.onProgress=x),A&&(dt.onPassword=A);const wt=dt,zt=wt.promise.then(ri=>{le({type:"RESOLVE",value:ri})}).catch(ri=>{wt.destroyed||le({type:"REJECT",error:ri})});return()=>{zt.finally(()=>wt.destroy())}},[k,le,te]),S.useEffect(()=>{if(!(typeof q>"u")){if(q===!1){J();return}oe()}},[q]),S.useEffect(function(){j.current.setViewer(I.current),j.current.setExternalLinkRel(a),j.current.setExternalLinkTarget(l)},[a,l]);const re=S.useCallback((Oe,Ge)=>{B.current[Oe]=Ge},[]),be=S.useCallback(Oe=>{delete B.current[Oe]},[]),Ne=S.useMemo(()=>({imageResourcesPath:h,linkService:j.current,onItemClick:b,pdf:q,registerPage:re,renderMode:N,rotate:M,scale:R,unregisterPage:be}),[h,b,q,re,N,M,R,be]),_e=S.useMemo(()=>vw(P,()=>q),[P,q]);function rt(){function Oe(dt){return!!dt?.pdf}if(!Oe(Ne))throw new Error("pdf is undefined");const Ge=typeof e=="function"?e(Ne):e;return m.jsx(xw.Provider,{value:Ne,children:Ge})}function xt(){return c?q==null?m.jsx(Fa,{type:"loading",children:typeof f=="function"?f():f}):q===!1?m.jsx(Fa,{type:"error",children:typeof s=="function"?s():s}):rt():m.jsx(Fa,{type:"no-data",children:typeof p=="function"?p():p})}return m.jsx("div",{className:Ya("react-pdf__Document",t),ref:d,..._e,children:xt()})});function Sw(){return S.useContext(xw)}function Ew(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var t=r.filter(Boolean);if(t.length<=1){var s=t[0];return s||null}return function(l){for(var c=0,d=t;c<d.length;c++){var h=d[c];typeof h=="function"?h(l):h&&(h.current=l)}}}const _w=S.createContext(null);function uu(){return S.useContext(_w)}function $M(){const r=Sw(),e=uu();We(e);const t={...r,...e},{imageResourcesPath:s,linkService:a,onGetAnnotationsError:l,onGetAnnotationsSuccess:c,onRenderAnnotationLayerError:d,onRenderAnnotationLayerSuccess:h,page:f,pdf:p,renderForms:b,rotate:v,scale:x=1}=t;We(p),We(f),We(a);const[w,A]=Ga(),{value:_,error:C}=w,k=S.useRef(null);Wt(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function N(){_&&c&&c(_)}function M(){C&&(Wt(!1,C.toString()),l&&l(C))}S.useEffect(function(){A({type:"RESET"})},[A,f]),S.useEffect(function(){if(!f)return;const Y=Uo(f.getAnnotations()),te=Y;return Y.promise.then(H=>{A({type:"RESOLVE",value:H})}).catch(H=>{A({type:"REJECT",error:H})}),()=>{Bi(te)}},[A,f]),S.useEffect(()=>{if(_!==void 0){if(_===!1){M();return}N()}},[_]);function R(){h&&h()}function P(D){Wt(!1,`${D}`),d&&d(D)}const O=S.useMemo(()=>f.getViewport({scale:x,rotation:v}),[f,v,x]);return S.useEffect(function(){if(!p||!f||!a||!_)return;const{current:Y}=k;if(!Y)return;const te=O.clone({dontFlip:!0}),H={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:Y,l10n:null,page:f,structTreeLayer:null,viewport:te},ne={annotations:_,annotationStorage:p.annotationStorage,div:Y,imageResourcesPath:s,linkService:a,page:f,renderForms:b,viewport:te};Y.innerHTML="";try{new jm(H).render(ne),R()}catch(le){P(le)}return()=>{}},[_,s,a,f,p,b,O]),m.jsx("div",{className:Ya("react-pdf__Page__annotations","annotationLayer"),ref:k})}const Cw={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},YM=/^H(\d+)$/;function XM(r){return r in Cw}function du(r){return"children"in r}function Tw(r){return du(r)?r.children.length===1&&0 in r.children&&"id"in r.children[0]:!1}function WM(r){const e={};if(du(r)){const{role:t}=r,s=t.match(YM);if(s)e.role="heading",e["aria-level"]=Number(s[1]);else if(XM(t)){const a=Cw[t];a&&(e.role=a)}}return e}function Nw(r){const e={};if(du(r)){if(r.alt!==void 0&&(e["aria-label"]=r.alt),r.lang!==void 0&&(e.lang=r.lang),Tw(r)){const[t]=r.children;if(t){const s=Nw(t);return{...e,...s}}}}else"id"in r&&(e["aria-owns"]=r.id);return e}function KM(r){return r?{...WM(r),...Nw(r)}:null}function kw({className:r,node:e}){const t=S.useMemo(()=>KM(e),[e]),s=S.useMemo(()=>!du(e)||Tw(e)?null:e.children.map((a,l)=>m.jsx(kw,{node:a},l)),[e]);return m.jsx("span",{className:r,...t,children:s})}function QM(){const r=uu();We(r);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=r,[s,a]=Ga(),{value:l,error:c}=s,{customTextRenderer:d,page:h}=r;function f(){l&&t&&t(l)}function p(){c&&(Wt(!1,c.toString()),e&&e(c))}return S.useEffect(function(){a({type:"RESET"})},[a,h]),S.useEffect(function(){if(d||!h)return;const v=Uo(h.getStructTree()),x=v;return v.promise.then(w=>{a({type:"RESOLVE",value:w})}).catch(w=>{a({type:"REJECT",error:w})}),()=>Bi(x)},[d,h,a]),S.useEffect(()=>{if(l!==void 0){if(l===!1){p();return}f()}},[l]),l?m.jsx(kw,{className:"react-pdf__Page__structTree structTree",node:l}):null}const Xv=ss;function ZM(r){const e=uu();We(e);const t={...e,...r},{_className:s,canvasBackground:a,devicePixelRatio:l=FM(),onRenderError:c,onRenderSuccess:d,page:h,renderForms:f,renderTextLayer:p,rotate:b,scale:v}=t,{canvasRef:x}=r;We(h);const w=S.useRef(null);function A(){h&&d&&d(If(h,v))}function _(M){BM(M)||(Wt(!1,M.toString()),c&&c(M))}const C=S.useMemo(()=>h.getViewport({scale:v*l,rotation:b}),[l,h,b,v]),k=S.useMemo(()=>h.getViewport({scale:v,rotation:b}),[h,b,v]);S.useEffect(function(){if(!h)return;h.cleanup();const{current:R}=w;if(!R)return;R.width=C.width,R.height=C.height,R.style.width=`${Math.floor(k.width)}px`,R.style.height=`${Math.floor(k.height)}px`,R.style.visibility="hidden";const P={annotationMode:f?Xv.ENABLE_FORMS:Xv.ENABLE,canvasContext:R.getContext("2d",{alpha:!1}),viewport:C};a&&(P.background=a);const O=h.render(P),D=O;return O.promise.then(()=>{R.style.visibility="",A()}).catch(_),()=>Bi(D)},[a,h,f,C,k]);const N=S.useCallback(()=>{const{current:M}=w;M&&(M.width=0,M.height=0)},[]);return S.useEffect(()=>N,[N]),m.jsx("canvas",{className:`${s}__canvas`,dir:"ltr",ref:Ew(x,w),style:{display:"block",userSelect:"none"},children:p?m.jsx(QM,{}):null})}function JM(r){return"str"in r}function eD(){const r=uu();We(r);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:s,onRenderTextLayerError:a,onRenderTextLayerSuccess:l,page:c,pageIndex:d,pageNumber:h,rotate:f,scale:p}=r;We(c);const[b,v]=Ga(),{value:x,error:w}=b,A=S.useRef(null);Wt(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function _(){x&&s&&s(x)}function C(){w&&(Wt(!1,w.toString()),t&&t(w))}S.useEffect(function(){v({type:"RESET"})},[c,v]),S.useEffect(function(){if(!c)return;const D=Uo(c.getTextContent()),Y=D;return D.promise.then(te=>{v({type:"RESOLVE",value:te})}).catch(te=>{v({type:"REJECT",error:te})}),()=>Bi(Y)},[c,v]),S.useEffect(()=>{if(x!==void 0){if(x===!1){C();return}_()}},[x]);const k=S.useCallback(()=>{l&&l()},[l]),N=S.useCallback(O=>{Wt(!1,O.toString()),a&&a(O)},[a]);function M(){const O=A.current;O&&O.classList.add("selecting")}function R(){const O=A.current;O&&O.classList.remove("selecting")}const P=S.useMemo(()=>c.getViewport({scale:p,rotation:f}),[c,f,p]);return S.useLayoutEffect(function(){if(!c||!x)return;const{current:D}=A;if(!D)return;D.innerHTML="";const Y=c.streamTextContent({includeMarkedContent:!0}),te={container:D,textContentSource:Y,viewport:P},H=new So(te),ne=H;return H.render().then(()=>{const le=document.createElement("div");le.className="endOfContent",D.append(le);const q=D.querySelectorAll('[role="presentation"]');if(e){let ee=0;x.items.forEach((j,B)=>{if(!JM(j))return;const V=q[ee];if(!V)return;const ce=e({pageIndex:d,pageNumber:h,itemIndex:B,...j});V.innerHTML=ce,ee+=j.str&&j.hasEOL?2:1})}k()}).catch(N),()=>Bi(ne)},[e,N,k,c,d,h,x,P]),m.jsx("div",{className:Ya("react-pdf__Page__textContent","textLayer"),onMouseUp:R,onMouseDown:M,ref:A})}const Wv=1;function tD(r){const t={...Sw(),...r},{_className:s="react-pdf__Page",_enableRegisterUnregisterPage:a=!0,canvasBackground:l,canvasRef:c,children:d,className:h,customRenderer:f,customTextRenderer:p,devicePixelRatio:b,error:v="Failed to load the page.",height:x,inputRef:w,loading:A="Loading page",noData:_="No page specified.",onGetAnnotationsError:C,onGetAnnotationsSuccess:k,onGetStructTreeError:N,onGetStructTreeSuccess:M,onGetTextError:R,onGetTextSuccess:P,onLoadError:O,onLoadSuccess:D,onRenderAnnotationLayerError:Y,onRenderAnnotationLayerSuccess:te,onRenderError:H,onRenderSuccess:ne,onRenderTextLayerError:le,onRenderTextLayerSuccess:q,pageIndex:ee,pageNumber:j,pdf:B,registerPage:V,renderAnnotationLayer:ce=!0,renderForms:I=!1,renderMode:Q="canvas",renderTextLayer:L=!0,rotate:z,scale:$=Wv,unregisterPage:oe,width:J,...re}=t,[be,Ne]=Ga(),{value:_e,error:rt}=be,xt=S.useRef(null);We(B);const Oe=Ti(j)?j-1:ee??null,Ge=j??(Ti(ee)?ee+1:null),dt=z??(_e?_e.rotate:null),wt=S.useMemo(()=>{if(!_e)return null;let ot=1;const Kt=$??Wv;if(J||x){const lt=_e.getViewport({scale:1,rotation:dt});J?ot=J/lt.width:x&&(ot=x/lt.height)}return Kt*ot},[x,_e,dt,$,J]);S.useEffect(function(){return()=>{Ti(Oe)&&a&&oe&&oe(Oe)}},[a,B,Oe,oe]);function zt(){if(D){if(!_e||!wt)return;D(If(_e,wt))}if(a&&V){if(!Ti(Oe)||!xt.current)return;V(Oe,xt.current)}}function ri(){rt&&(Wt(!1,rt.toString()),O&&O(rt))}S.useEffect(function(){Ne({type:"RESET"})},[Ne,B,Oe]),S.useEffect(function(){if(!B||!Ge)return;const Kt=Uo(B.getPage(Ge)),lt=Kt;return Kt.promise.then(Za=>{Ne({type:"RESOLVE",value:Za})}).catch(Za=>{Ne({type:"REJECT",error:Za})}),()=>Bi(lt)},[Ne,B,Ge]),S.useEffect(()=>{if(_e!==void 0){if(_e===!1){ri();return}zt()}},[_e,wt]);const Vi=S.useMemo(()=>Ti(Oe)&&Ge&&Ti(dt)&&Ti(wt)?{_className:s,canvasBackground:l,customTextRenderer:p,devicePixelRatio:b,onGetAnnotationsError:C,onGetAnnotationsSuccess:k,onGetStructTreeError:N,onGetStructTreeSuccess:M,onGetTextError:R,onGetTextSuccess:P,onRenderAnnotationLayerError:Y,onRenderAnnotationLayerSuccess:te,onRenderError:H,onRenderSuccess:ne,onRenderTextLayerError:le,onRenderTextLayerSuccess:q,page:_e,pageIndex:Oe,pageNumber:Ge,renderForms:I,renderTextLayer:L,rotate:dt,scale:wt}:null,[s,l,p,b,C,k,N,M,R,P,Y,te,H,ne,le,q,_e,Oe,Ge,I,L,dt,wt]),Bo=S.useMemo(()=>vw(re,()=>_e&&(wt?If(_e,wt):void 0)),[re,_e,wt]),as=`${Oe}@${wt}/${dt}`;function hu(){switch(Q){case"custom":return We(f),m.jsx(f,{},`${as}_custom`);case"none":return null;case"canvas":default:return m.jsx(ZM,{canvasRef:c},`${as}_canvas`)}}function Ho(){return L?m.jsx(eD,{},`${as}_text`):null}function fu(){return ce?m.jsx($M,{},`${as}_annotations`):null}function mu(){function ot(lt){return!!lt?.page}if(!ot(Vi))throw new Error("page is undefined");const Kt=typeof d=="function"?d(Vi):d;return m.jsxs(_w.Provider,{value:Vi,children:[hu(),Ho(),fu(),Kt]})}function oi(){return Ge?B===null||_e===void 0||_e===null?m.jsx(Fa,{type:"loading",children:typeof A=="function"?A():A}):B===!1||_e===!1?m.jsx(Fa,{type:"error",children:typeof v=="function"?v():v}):mu():m.jsx(Fa,{type:"no-data",children:typeof _=="function"?_():_})}return m.jsx("div",{className:Ya(s,h),"data-page-number":Ge,ref:Ew(w,xt),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${wt}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:l||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...Bo,children:oi()})}UM();is.workerSrc="pdf.worker.mjs";const nD=(r,e)=>{const[t,s]=S.useState(!1),[a,l]=S.useState(null),c=S.useCallback(f=>{f.preventDefault(),f.stopPropagation(),s(!0),l({x:f.clientX,y:f.clientY,initialX:f.clientX,initialY:f.clientY})},[]),d=S.useCallback(f=>{if(!t||!a)return;const p=f.clientX-a.initialX,b=f.clientY-a.initialY;r(p,b),l(v=>v?{...v,x:f.clientX,y:f.clientY}:null)},[t,a,r]),h=S.useCallback(()=>{s(!1),l(null),e&&e()},[e]);return S.useEffect(()=>{if(t)return document.addEventListener("mousemove",d),document.addEventListener("mouseup",h),document.body.style.cursor="grabbing",()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",h),document.body.style.cursor=""}},[t,d,h]),{handleMouseDown:c,isDragging:t}},sD=({annotations:r,selectedTool:e,onAnnotationAdd:t,onAnnotationUpdate:s,onAnnotationDelete:a,onAnnotationSelect:l,selectedAnnotationId:c,selectedAnnotationIds:d=[],scale:h,pageNumber:f})=>{const p=S.useRef(null),b=S.useCallback(H=>{if(e==="select"||c){l(null);return}if(!e)return;const ne=p.current?.getBoundingClientRect();if(!ne)return;const le=H.clientX-ne.left,q=H.clientY-ne.top,ee={type:e,x:le,y:q,width:v(e),height:x(e),content:O(e),pageNumber:f,style:D(e),zIndex:r.length+1};t(ee)},[e,f,r.length,t,l,c]),v=H=>{switch(H){case"text":return 120;case"signature":return 200;case"checkbox":return 20;case"image":return 100;case"shape":return 80;case"line":return 100;default:return 100}},x=H=>{switch(H){case"text":return 30;case"signature":return 80;case"checkbox":return 20;case"image":return 100;case"shape":return 60;case"line":return 2;default:return 30}};S.useCallback((H,ne)=>{s(H,ne)},[s]);const w=S.useCallback((H,ne)=>{ne.stopPropagation(),l(H)},[l]),A=S.useCallback((H,ne)=>{ne.stopPropagation(),console.log("Edit annotation:",H)},[]);S.useCallback(H=>{const ne={...H,x:H.x+30,y:H.y+30,zIndex:r.length+1},le=`annotation-${Date.now()}-${Math.random().toString(36).substr(2,9)}`;({...ne},t(ne)),setTimeout(()=>l(le),50)},[r.length,t,l]),S.useCallback(H=>{const ne=r.find(le=>le.id===H);if(ne){const q=((ne.rotation||0)+90)%360;s(H,{rotation:q})}},[r,s]),S.useCallback(H=>{const ne=Math.max(...r.map(le=>le.zIndex||1));s(H,{zIndex:ne+1})},[r,s]),S.useCallback(H=>{const ne=Math.min(...r.map(le=>le.zIndex||1));s(H,{zIndex:Math.max(1,ne-1)})},[r,s]);const[_,C]=S.useState(!1),[k,N]=S.useState(null),M=S.useCallback((H,ne,le)=>{H.preventDefault(),H.stopPropagation();const q=r.find(ee=>ee.id===le);q&&(C(!0),N({id:le,direction:ne,startX:H.clientX,startY:H.clientY,startWidth:q.width,startHeight:q.height,startPosX:q.x,startPosY:q.y}))},[r]),R=S.useCallback(H=>{if(!_||!k)return;const ne=H.clientX-k.startX,le=H.clientY-k.startY;let q=k.startWidth,ee=k.startHeight,j=k.startPosX,B=k.startPosY;switch(k.direction){case"e":q=Math.max(10,k.startWidth+ne);break;case"w":q=Math.max(10,k.startWidth-ne),j=k.startPosX+ne;break;case"n":ee=Math.max(10,k.startHeight-le),B=k.startPosY+le;break;case"s":ee=Math.max(10,k.startHeight+le);break;case"ne":q=Math.max(10,k.startWidth+ne),ee=Math.max(10,k.startHeight-le),B=k.startPosY+le;break;case"nw":q=Math.max(10,k.startWidth-ne),ee=Math.max(10,k.startHeight-le),j=k.startPosX+ne,B=k.startPosY+le;break;case"se":q=Math.max(10,k.startWidth+ne),ee=Math.max(10,k.startHeight+le);break;case"sw":q=Math.max(10,k.startWidth-ne),ee=Math.max(10,k.startHeight+le),j=k.startPosX+ne;break}s(k.id,{width:q,height:ee,x:j,y:B})},[_,k,s]),P=S.useCallback(()=>{C(!1),N(null)},[]);S.useEffect(()=>{if(_)return document.addEventListener("mousemove",R),document.addEventListener("mouseup",P),()=>{document.removeEventListener("mousemove",R),document.removeEventListener("mouseup",P)}},[_,R,P]);const O=H=>{switch(H){case"text":return"Text";case"signature":return"Signature";case"checkbox":return"";case"image":return"Image";case"shape":return"";case"line":return"";default:return""}},D=H=>{const ne={fontSize:14,fontFamily:"Arial",color:"#000000",backgroundColor:"transparent",borderColor:"#000000",borderWidth:1,fontWeight:"normal",fontStyle:"normal"};switch(H){case"text":return{...ne,backgroundColor:"transparent",borderColor:"transparent",borderWidth:0};case"signature":return{...ne,backgroundColor:"transparent",borderColor:"transparent",borderWidth:0};case"checkbox":return{...ne,fontSize:16};case"image":return{...ne,backgroundColor:"rgba(0, 0, 0, 0.1)"};case"shape":return{...ne,backgroundColor:"#3b82f6",borderColor:"#3b82f6",borderWidth:2,borderRadius:2};case"line":return{...ne,backgroundColor:"transparent",color:"#000000",borderWidth:2,borderRadius:0};default:return ne}},Y=({annotation:H})=>{const ne=c===H.id||d.includes(H.id),[le,q]=S.useState(!1),ee=H.style||D(H.type),[j,B]=S.useState({x:0,y:0}),V=S.useCallback((re,be)=>{e==="select"&&B({x:re,y:be})},[e]),ce=S.useCallback(()=>{if(j.x!==0||j.y!==0){const re=H.x+j.x,be=H.y+j.y;s(H.id,{x:re,y:be}),B({x:0,y:0})}},[H.id,H.x,H.y,j,s]),{handleMouseDown:I,isDragging:Q}=nD(V,ce),L=Q&&(H.type==="shape"||H.type==="line"),z=H.x+j.x,$=H.y+j.y-30,oe={position:"absolute",left:H.x+j.x,top:H.y+j.y,width:H.width,height:H.height,zIndex:H.zIndex||1,border:H.type==="line"||H.type==="shape"||H.type==="signature"?"none":`${ee.borderWidth}px solid ${ee.borderColor}`,backgroundColor:ee.backgroundColor,color:ee.color,fontSize:`${ee.fontSize}px`,fontFamily:ee.fontFamily,cursor:e==="select"?Q?"grabbing":ne?"move":"default":"crosshair",display:"flex",alignItems:"center",justifyContent:"center",minWidth:"20px",minHeight:"20px",userSelect:"none",transform:`rotate(${H.rotation||0}deg)`,transformOrigin:"center",transition:Q?"none":"all 0.2s ease",outline:ne?"3px solid hsl(var(--primary))":le?"2px solid hsl(var(--primary) / 0.7)":"none",outlineOffset:ne?"4px":le?"2px":"0",boxShadow:le&&!ne?"0 4px 12px hsl(var(--primary) / 0.15)":"none"},J=()=>{switch(H.type){case"text":return m.jsx(eu,{className:"h-4 w-4"});case"signature":return m.jsx(om,{className:"h-4 w-4"});case"checkbox":return m.jsx(ZT,{className:"h-4 w-4"});case"image":return m.jsx(fT,{className:"h-4 w-4"});case"shape":return m.jsx(gx,{className:"h-4 w-4"});case"line":return m.jsx(px,{className:"h-4 w-4"});default:return null}};return m.jsxs("div",{style:oe,onClick:re=>{re.stopPropagation(),w(H.id,re)},onDoubleClick:re=>{re.stopPropagation(),A(H.id,re)},onMouseDown:e==="select"?re=>{re.stopPropagation(),I(re)}:void 0,onMouseEnter:()=>q(!0),onMouseLeave:()=>q(!1),className:`group relative transition-all duration-200 ${Q?"opacity-75":""}`,children:[H.type==="line"?m.jsx("div",{className:"transition-all duration-150",style:{width:"100%",height:"100%",minHeight:"2px",backgroundColor:ee.color||"#000000",borderRadius:`${ee.borderRadius||0}px`}}):H.type==="shape"?m.jsx("div",{className:"transition-all duration-150",style:{width:"100%",height:"100%",backgroundColor:ee.backgroundColor||"#3b82f6",borderColor:ee.borderColor||"#3b82f6",borderWidth:`${ee.borderWidth||2}px`,borderStyle:"solid",borderRadius:`${ee.borderRadius||2}px`}}):H.type==="signature"&&H.content&&H.content.startsWith("data:image/")?m.jsx("img",{src:H.content,alt:"Signature",className:"w-full h-full object-contain",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",border:"none"}}):m.jsx("div",{className:"flex items-center justify-center w-full h-full",style:{fontSize:H.type==="text"?`${ee.fontSize}px`:void 0,fontFamily:H.type==="text"?ee.fontFamily:void 0,fontWeight:H.type==="text"?ee.fontWeight:void 0,fontStyle:H.type==="text"?ee.fontStyle:void 0},children:H.content||J()}),ne&&e==="select"&&m.jsx(m.Fragment,{children:H.type==="line"?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"absolute w-2 h-2 bg-primary border border-white rounded-full cursor-ew-resize hover:bg-primary/80 transition-colors",style:{left:"-4px",top:"50%",transform:"translateY(-50%)",zIndex:1001},onMouseDown:re=>M(re,"w",H.id)}),m.jsx("div",{className:"absolute w-2 h-2 bg-primary border border-white rounded-full cursor-ew-resize hover:bg-primary/80 transition-colors",style:{right:"-4px",top:"50%",transform:"translateY(-50%)",zIndex:1001},onMouseDown:re=>M(re,"e",H.id)})]}):m.jsx(m.Fragment,{children:["nw","n","ne","e","se","s","sw","w"].map(re=>{const be=()=>{switch(re){case"nw":return{left:"-4px",top:"-4px",cursor:"nw-resize"};case"n":return{left:"50%",top:"-4px",transform:"translateX(-50%)",cursor:"n-resize"};case"ne":return{right:"-4px",top:"-4px",cursor:"ne-resize"};case"e":return{right:"-4px",top:"50%",transform:"translateY(-50%)",cursor:"e-resize"};case"se":return{right:"-4px",bottom:"-4px",cursor:"se-resize"};case"s":return{left:"50%",bottom:"-4px",transform:"translateX(-50%)",cursor:"s-resize"};case"sw":return{left:"-4px",bottom:"-4px",cursor:"sw-resize"};case"w":return{left:"-4px",top:"50%",transform:"translateY(-50%)",cursor:"w-resize"};default:return{}}};return m.jsx("div",{className:"absolute w-2 h-2 bg-primary border border-white rounded-full hover:bg-primary/80 transition-colors",style:{...be(),zIndex:1001},onMouseDown:Ne=>M(Ne,re,H.id)},re)})})}),L&&m.jsxs("div",{className:"absolute bg-gray-900 text-white text-xs px-2 py-1 rounded shadow-lg pointer-events-none z-50",style:{left:z,top:$,transform:"translateY(-100%)"},children:[Math.round(H.width),"  ",Math.round(H.height)]})]},H.id)},te=H=>m.jsx(Y,{annotation:H},H.id);return m.jsx("div",{ref:p,className:"absolute inset-0 pointer-events-auto",onClick:b,style:{pointerEvents:"auto",zIndex:10},children:r.map(te)})},iD=()=>{const r=["/pdf.worker.5.3.93.js","/pdf.worker.min.js",`//unpkg.com/pdfjs-dist@${Oa}/build/pdf.worker.min.js`,`//cdnjs.cloudflare.com/ajax/libs/pdf.js/${Oa}/pdf.worker.min.js`,`//cdn.jsdelivr.net/npm/pdfjs-dist@${Oa}/build/pdf.worker.min.js`];return is.workerSrc=r[0],console.log("PDF.js Worker Configuration:"),console.log("- Primary Worker:",is.workerSrc),console.log("- PDF.js Version:",Oa),console.log("- Available Fallbacks:",r.slice(1)),!0},aD=async()=>{try{return(await fetch(is.workerSrc)).ok}catch(r){return console.warn("Worker accessibility test failed:",r),!1}},rD=async()=>{try{return iD(),await aD()?(console.log(" Worker is accessible"),!0):(console.warn(" Primary worker not accessible, but continuing with fallback"),!0)}catch(r){return console.error(" Worker initialization failed:",r),!1}},oD=({file:r,scale:e=1,onLoadSuccess:t,onLoadError:s,onPageClick:a,annotations:l=[],onAnnotationUpdate:c,onAnnotationDelete:d,onAnnotationSelect:h,selectedAnnotationId:f,selectedAnnotationIds:p=[],selectedTool:b})=>{const v=S.useRef(null),x=S.useRef({}),[w,A]=S.useState(!1);S.useEffect(()=>{(async()=>{try{const M=await rD();A(M),M?console.log(" PDF.js worker initialized successfully"):console.warn(" PDF.js worker initialization failed, but continuing...")}catch(M){console.error(" PDF.js worker initialization error:",M),A(!1)}})()},[]);const _=S.useCallback((N,M)=>{a&&a(N,M)},[a]),C=S.useCallback(N=>{t&&t(N)},[t]),k=S.useCallback(N=>{console.error("PDF load error:",N),s&&s(N)},[s]);return r?w?m.jsx("div",{ref:v,className:"relative w-full h-full overflow-y-auto overflow-x-hidden bg-gray-100",children:m.jsx(VM,{file:r,onLoadSuccess:C,onLoadError:k,loading:m.jsx("div",{className:"flex items-center justify-center h-96",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),m.jsx("div",{className:"text-gray-600",children:"Opening your document..."})]})}),error:m.jsx("div",{className:"flex items-center justify-center h-96 bg-red-50 border border-red-200 rounded-lg",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-red-600 text-lg mb-2",children:"Couldn't open this document"}),m.jsx("div",{className:"text-red-500 text-sm mb-4",children:"Please make sure this is a valid PDF file and try again"}),m.jsx("div",{className:"text-gray-500 text-xs mt-4",children:m.jsx("div",{children:"Having trouble? Try uploading a different PDF file."})})]})}),children:({numPages:N})=>m.jsx("div",{className:"w-full",children:Array.from(new Array(N),(M,R)=>{const P=R+1,O=l.filter(D=>D.pageNumber===P);return m.jsxs("div",{ref:D=>x.current[P]=D,className:"relative bg-white w-full mb-4",children:[m.jsx("div",{className:"bg-gray-50 px-4 py-2 border-b border-gray-200",children:m.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Page ",P," of ",N]})}),m.jsxs("div",{className:"relative w-full",children:[m.jsx(tD,{pageNumber:P,width:v.current?.clientWidth||window.innerWidth-40,className:"w-full",onClick:D=>_(D,P)}),m.jsx("div",{className:"absolute inset-0 pointer-events-auto",onClick:D=>{a&&a(D,P)},style:{zIndex:10},children:m.jsx(sD,{annotations:O,selectedTool:b,onAnnotationAdd:D=>{console.log("Add annotation:",D)},onAnnotationUpdate:(D,Y)=>{c&&c({...Y,id:D})},onAnnotationDelete:D=>{d&&d(D)},onAnnotationSelect:h,selectedAnnotationId:f,selectedAnnotationIds:p,scale:1,pageNumber:P})})]})]},`page_${P}`)})})})}):m.jsx("div",{className:"flex items-center justify-center h-96 bg-blue-50 border-2 border-dashed border-blue-300 rounded-lg",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),m.jsx("div",{className:"text-blue-600 text-lg mb-2",children:"Preparing your document..."}),m.jsx("div",{className:"text-blue-500 text-sm",children:"Getting everything ready for editing"})]})}):m.jsx("div",{className:"flex items-center justify-center h-96 bg-gray-50 border-2 border-dashed border-gray-300 rounded-lg",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"text-gray-500 text-lg mb-2",children:"No PDF loaded"}),m.jsx("div",{className:"text-gray-400 text-sm",children:"Upload a PDF file to get started"})]})})},lD=({annotation:r,onEdit:e,onDuplicate:t,onRotate:s,onDelete:a,onBringToFront:l,onSendToBack:c,onStyleUpdate:d,onCopy:h=()=>{},onPaste:f=()=>{},onCut:p=()=>{},onLock:b=()=>{},onHide:v=()=>{},onFlipH:x=()=>{},onFlipV:w=()=>{},onRotateLeft:A=()=>{},onAlign:_=()=>{}})=>{const[C,k]=S.useState(!1),[N,M]=S.useState(!1),[R,P]=S.useState(!1),[O,D]=S.useState(!1),[Y,te]=S.useState(!1),H=["#000000","#374151","#6B7280","#9CA3AF","#D1D5DB","#F3F4F6","#FFFFFF","#EF4444","#F97316","#F59E0B","#EAB308","#84CC16","#22C55E","#10B981","#06B6D4","#0EA5E9","#3B82F6","#6366F1","#8B5CF6","#A855F7","#D946EF","#EC4899","#F43F5E","#BE123C","#7C2D12","#365314","#064E3B","#0C4A6E"],ne=r.style?.borderWidth||2;r.style?.borderRadius,r.locked,r.hidden;const le=r.style?.[r.type==="line"?"color":"borderColor"]||"#000000",q=r.style?.backgroundColor||"transparent",ee=({icon:V,label:ce,onClick:I,active:Q=!1,className:L=""})=>m.jsxs("button",{onClick:I,className:`flex flex-col items-center gap-1 px-2 py-1.5 rounded-md transition-all duration-200 ${Q?"bg-primary/10 text-primary shadow-sm":"hover:bg-gray-100 text-gray-600 hover:text-gray-800"} ${L}`,title:ce,children:[m.jsx(V,{className:"w-4 h-4"}),m.jsx("span",{className:"text-xs font-medium",children:ce})]}),j=({label:V,value:ce,onChange:I,min:Q=0,max:L=100,step:z=1,unit:$=""})=>m.jsxs("div",{className:"flex flex-col items-center gap-1",children:[m.jsx("span",{className:"text-xs font-medium text-gray-600",children:V}),m.jsxs("div",{className:"flex items-center bg-white border border-gray-200 rounded-md",children:[m.jsx("button",{onClick:()=>I(Math.max(Q,ce-z)),className:"p-1 hover:bg-gray-50 text-gray-500 hover:text-gray-700 rounded-l-md",children:m.jsx(px,{className:"w-3 h-3"})}),m.jsx("input",{type:"number",value:ce,onChange:oe=>I(Math.max(Q,Math.min(L,parseInt(oe.target.value)||Q))),className:"w-12 text-xs text-center border-0 focus:outline-none py-1",min:Q,max:L}),m.jsx("span",{className:"text-xs text-gray-400 px-1",children:$}),m.jsx("button",{onClick:()=>I(Math.min(L,ce+z)),className:"p-1 hover:bg-gray-50 text-gray-500 hover:text-gray-700 rounded-r-md",children:m.jsx(si,{className:"w-3 h-3"})})]})]}),B=({label:V,color:ce,onChange:I,showPicker:Q,setShowPicker:L,allowTransparent:z=!1})=>m.jsxs("div",{className:"flex flex-col items-center gap-1",children:[m.jsx("span",{className:"text-xs font-medium text-gray-600",children:V}),m.jsxs("div",{className:"relative",children:[m.jsx("button",{onClick:()=>L(!Q),className:"flex items-center justify-center w-8 h-8 bg-white border border-gray-200 rounded-md hover:border-gray-300 transition-colors",children:m.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:ce==="transparent"?"#ffffff":ce,backgroundImage:ce==="transparent"?"linear-gradient(45deg, #ccc 25%, transparent 25%), linear-gradient(-45deg, #ccc 25%, transparent 25%), linear-gradient(45deg, transparent 75%, #ccc 75%), linear-gradient(-45deg, transparent 75%, #ccc 75%)":"none",backgroundSize:ce==="transparent"?"4px 4px":"auto",backgroundPosition:ce==="transparent"?"0 0, 0 2px, 2px -2px, -2px 0px":"auto"}})}),Q&&m.jsxs("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-2 bg-white border border-gray-200 rounded-lg shadow-xl p-3 min-w-56 z-[999999]",children:[m.jsxs("h4",{className:"text-xs font-semibold text-gray-800 mb-3",children:[V," Color"]}),m.jsxs("div",{className:"grid grid-cols-7 gap-1.5 mb-3",children:[z&&m.jsx("button",{className:`w-7 h-7 rounded border-2 bg-white relative transition-all hover:scale-105 ${ce==="transparent"?"border-blue-500 ring-1 ring-blue-200":"border-gray-200 hover:border-gray-400"}`,onClick:()=>{I("transparent"),L(!1)},title:"Transparent",children:m.jsx("div",{className:"absolute inset-1 bg-gradient-to-br from-red-500 to-red-500 opacity-60 rounded-sm",style:{clipPath:"polygon(0 0, 100% 100%, 0 100%)"}})}),H.map($=>m.jsx("button",{className:`w-7 h-7 rounded border-2 transition-all hover:scale-105 ${ce===$?"border-primary ring-1 ring-primary/20":"border-gray-200 hover:border-gray-400"}`,style:{backgroundColor:$},onClick:()=>{I($),L(!1)}},$))]}),m.jsxs("div",{className:"flex gap-2 pt-2 border-t border-gray-100",children:[m.jsx("input",{type:"color",className:"w-8 h-8 rounded border border-gray-300 cursor-pointer",value:ce==="transparent"?"#ffffff":ce,onChange:$=>I($.target.value)}),m.jsx("input",{type:"text",placeholder:"#000000",className:"flex-1 px-2 py-1 text-xs border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",value:ce==="transparent"?"":ce,onChange:$=>{(/^#[0-9A-F]{6}$/i.test($.target.value)||$.target.value==="")&&I($.target.value)}})]})]})]})]});return m.jsxs("div",{className:"bg-white border-t border-gray-200 shadow-sm",children:[m.jsxs("div",{className:"px-4 py-3 flex items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(ee,{icon:co,label:"Copy",onClick:h}),m.jsx(ee,{icon:VT,label:"Cut",onClick:p}),m.jsx(ee,{icon:co,label:"Paste",onClick:f}),m.jsx(ee,{icon:co,label:"Duplicate",onClick:t})]}),m.jsx("div",{className:"w-px h-8 bg-gray-200"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(ee,{icon:BT,label:"Rotate L",onClick:A}),m.jsx(ee,{icon:GT,label:"Rotate R",onClick:s})]}),m.jsx("div",{className:"w-px h-8 bg-gray-200"}),m.jsxs("div",{className:"flex items-center gap-4",children:[r.type==="text"&&m.jsxs(m.Fragment,{children:[m.jsx(j,{label:"Font Size",value:r.style?.fontSize||14,onChange:V=>d({style:{...r.style,fontSize:V}}),min:8,max:72,unit:"px"}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(ee,{icon:MC,label:"Bold",active:r.style?.fontWeight==="bold",onClick:()=>d({style:{...r.style,fontWeight:r.style?.fontWeight==="bold"?"normal":"bold"}})}),m.jsx(ee,{icon:yT,label:"Italic",active:r.style?.fontStyle==="italic",onClick:()=>d({style:{...r.style,fontStyle:r.style?.fontStyle==="italic"?"normal":"italic"}})})]}),m.jsx(B,{label:"Text Color",color:r.style?.color||"#000000",onChange:V=>d({style:{...r.style,color:V}}),showPicker:R,setShowPicker:P}),m.jsx(B,{label:"Background",color:r.style?.backgroundColor||"transparent",onChange:V=>d({style:{...r.style,backgroundColor:V}}),showPicker:O,setShowPicker:D,allowTransparent:!0}),m.jsx(B,{label:"Border",color:r.style?.borderColor||"transparent",onChange:V=>d({style:{...r.style,borderColor:V}}),showPicker:Y,setShowPicker:te,allowTransparent:!0}),m.jsx(j,{label:"Border Width",value:r.style?.borderWidth||0,onChange:V=>d({style:{...r.style,borderWidth:V}}),min:0,max:10,unit:"px"})]}),r.type!=="text"&&m.jsxs(m.Fragment,{children:[m.jsx(B,{label:"Stroke",color:le,onChange:V=>d({style:{...r.style,[r.type==="line"?"color":"borderColor"]:V}}),showPicker:C,setShowPicker:k,allowTransparent:!0}),(r.type==="line"||r.type==="shape"||r.type==="rectangle")&&m.jsx(j,{label:"Stroke Size",value:ne,onChange:V=>d({style:{...r.style,borderWidth:V}}),min:1,max:20,unit:"px"}),(r.type==="shape"||r.type==="rectangle")&&m.jsx(B,{label:"Fill",color:q,onChange:V=>d({style:{...r.style,backgroundColor:V}}),showPicker:N,setShowPicker:M,allowTransparent:!0})]})]}),m.jsx("div",{className:"flex-1"}),m.jsx("div",{className:"w-px h-8 bg-gray-200"}),m.jsx(ee,{icon:Jc,label:"Delete",onClick:a,className:"text-red-500 hover:text-red-600 hover:bg-red-50"})]}),r.type==="text"&&m.jsxs("div",{className:"border-t border-gray-100 px-4 py-3 bg-gray-50",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[m.jsx(eu,{className:"h-4 w-4 text-primary"}),m.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Text Content"})]}),m.jsx("textarea",{value:r.content||"",onChange:V=>d({content:V.target.value}),className:"w-full text-sm border border-gray-200 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary focus:border-primary resize-none bg-white",placeholder:"Enter your text here...",rows:3,style:{minHeight:"60px"}})]})]})},cD=({open:r,onOpenChange:e,children:t})=>{const s=S.useRef(null);return S.useEffect(()=>{const a=l=>{l.key==="Escape"&&e(!1)};return r?(document.addEventListener("keydown",a),document.body.style.overflow="hidden"):document.body.style.overflow="unset",()=>{document.removeEventListener("keydown",a),document.body.style.overflow="unset"}},[r,e]),r?m.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[m.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>e(!1)}),m.jsx("div",{ref:s,className:"relative z-50",children:t})]}):null},uD=({className:r,children:e,...t})=>m.jsx("div",{className:st("bg-white rounded-lg shadow-lg border-blue-100 border max-w-lg w-full mx-4 p-6",r),...t,children:e}),dD=({className:r,children:e,...t})=>m.jsx("div",{className:st("flex flex-col space-y-1.5 mb-4",r),...t,children:e}),hD=({className:r,children:e,...t})=>m.jsx("h2",{className:st("text-lg font-semibold leading-none tracking-tight",r),...t,children:e});/*!
 * Signature Pad v5.1.0 | https://github.com/szimek/signature_pad
 * (c) 2025 Szymon Nowak | Released under the MIT license
 */var Fc=class{x;y;pressure;time;constructor(r,e,t,s){if(isNaN(r)||isNaN(e))throw new Error(`Point is invalid: (${r}, ${e})`);this.x=+r,this.y=+e,this.pressure=t||0,this.time=s||Date.now()}distanceTo(r){return Math.sqrt(Math.pow(this.x-r.x,2)+Math.pow(this.y-r.y,2))}equals(r){return this.x===r.x&&this.y===r.y&&this.pressure===r.pressure&&this.time===r.time}velocityFrom(r){return this.time!==r.time?this.distanceTo(r)/(this.time-r.time):0}},fD=class Rw{constructor(e,t,s,a,l,c){this.startPoint=e,this.control2=t,this.control1=s,this.endPoint=a,this.startWidth=l,this.endWidth=c}static fromPoints(e,t){const s=this.calculateControlPoints(e[0],e[1],e[2]).c2,a=this.calculateControlPoints(e[1],e[2],e[3]).c1;return new Rw(e[1],s,a,e[2],t.start,t.end)}static calculateControlPoints(e,t,s){const a=e.x-t.x,l=e.y-t.y,c=t.x-s.x,d=t.y-s.y,h={x:(e.x+t.x)/2,y:(e.y+t.y)/2},f={x:(t.x+s.x)/2,y:(t.y+s.y)/2},p=Math.sqrt(a*a+l*l),b=Math.sqrt(c*c+d*d),v=h.x-f.x,x=h.y-f.y,w=p+b==0?0:b/(p+b),A={x:f.x+v*w,y:f.y+x*w},_=t.x-A.x,C=t.y-A.y;return{c1:new Fc(h.x+_,h.y+C),c2:new Fc(f.x+_,f.y+C)}}length(){let t=0,s,a;for(let l=0;l<=10;l+=1){const c=l/10,d=this.point(c,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),h=this.point(c,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(l>0){const f=d-s,p=h-a;t+=Math.sqrt(f*f+p*p)}s=d,a=h}return t}point(e,t,s,a,l){return t*(1-e)*(1-e)*(1-e)+3*s*(1-e)*(1-e)*e+3*a*(1-e)*e*e+l*e*e*e}},mD=class{_et;constructor(){try{this._et=new EventTarget}catch{this._et=document}}addEventListener(r,e,t){this._et.addEventListener(r,e,t)}dispatchEvent(r){return this._et.dispatchEvent(r)}removeEventListener(r,e,t){this._et.removeEventListener(r,e,t)}};function pD(r,e=250){let t=0,s=null,a,l,c;const d=()=>{t=Date.now(),s=null,a=r.apply(l,c),s||(l=null,c=[])};return function(...f){const p=Date.now(),b=e-(p-t);return l=this,c=f,b<=0||b>e?(s&&(clearTimeout(s),s=null),t=p,a=r.apply(l,c),s||(l=null,c=[])):s||(s=window.setTimeout(d,b)),a}}var gD=class zf extends mD{constructor(e,t={}){super(),this.canvas=e,this.velocityFilterWeight=t.velocityFilterWeight||.7,this.minWidth=t.minWidth||.5,this.maxWidth=t.maxWidth||2.5,this.throttle=t.throttle??16,this.minDistance=t.minDistance??5,this.dotSize=t.dotSize||0,this.penColor=t.penColor||"black",this.backgroundColor=t.backgroundColor||"rgba(0,0,0,0)",this.compositeOperation=t.compositeOperation||"source-over",this.canvasContextOptions=t.canvasContextOptions??{},this._strokeMoveUpdate=this.throttle?pD(zf.prototype._strokeUpdate,this.throttle):zf.prototype._strokeUpdate,this._handleMouseDown=this._handleMouseDown.bind(this),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this._handleTouchStart=this._handleTouchStart.bind(this),this._handleTouchMove=this._handleTouchMove.bind(this),this._handleTouchEnd=this._handleTouchEnd.bind(this),this._handlePointerDown=this._handlePointerDown.bind(this),this._handlePointerMove=this._handlePointerMove.bind(this),this._handlePointerUp=this._handlePointerUp.bind(this),this._ctx=e.getContext("2d",this.canvasContextOptions),this.clear(),this.on()}dotSize;minWidth;maxWidth;penColor;minDistance;velocityFilterWeight;compositeOperation;backgroundColor;throttle;canvasContextOptions;_ctx;_drawingStroke=!1;_isEmpty=!0;_dataUrl;_dataUrlOptions;_lastPoints=[];_data=[];_lastVelocity=0;_lastWidth=0;_strokeMoveUpdate;_strokePointerId;clear(){const{_ctx:e,canvas:t}=this;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(this._getPointGroupOptions()),this._isEmpty=!0,this._dataUrl=void 0,this._dataUrlOptions=void 0,this._strokePointerId=void 0}redraw(){const e=this._data,t=this._dataUrl,s=this._dataUrlOptions;this.clear(),t&&this.fromDataURL(t,s),this.fromData(e,{clear:!1})}fromDataURL(e,t={}){return new Promise((s,a)=>{const l=new Image,c=t.ratio||window.devicePixelRatio||1,d=t.width||this.canvas.width/c,h=t.height||this.canvas.height/c,f=t.xOffset||0,p=t.yOffset||0;this._reset(this._getPointGroupOptions()),l.onload=()=>{this._ctx.drawImage(l,f,p,d,h),s()},l.onerror=b=>{a(b)},l.crossOrigin="anonymous",l.src=e,this._isEmpty=!1,this._dataUrl=e,this._dataUrlOptions={...t}})}toDataURL(e="image/png",t){switch(e){case"image/svg+xml":return typeof t!="object"&&(t=void 0),`data:image/svg+xml;base64,${btoa(this.toSVG(t))}`;default:return typeof t!="number"&&(t=void 0),this.canvas.toDataURL(e,t)}}on(){this.canvas.style.touchAction="none",this.canvas.style.msTouchAction="none",this.canvas.style.userSelect="none";const e=/Macintosh/.test(navigator.userAgent)&&"ontouchstart"in document;window.PointerEvent&&!e?this._handlePointerEvents():(this._handleMouseEvents(),"ontouchstart"in window&&this._handleTouchEvents())}off(){this.canvas.style.touchAction="auto",this.canvas.style.msTouchAction="auto",this.canvas.style.userSelect="auto",this.canvas.removeEventListener("pointerdown",this._handlePointerDown),this.canvas.removeEventListener("mousedown",this._handleMouseDown),this.canvas.removeEventListener("touchstart",this._handleTouchStart),this._removeMoveUpEventListeners()}_getListenerFunctions(){const e=window.document===this.canvas.ownerDocument?window:this.canvas.ownerDocument.defaultView??this.canvas.ownerDocument;return{addEventListener:e.addEventListener.bind(e),removeEventListener:e.removeEventListener.bind(e)}}_removeMoveUpEventListeners(){const{removeEventListener:e}=this._getListenerFunctions();e("pointermove",this._handlePointerMove),e("pointerup",this._handlePointerUp),e("mousemove",this._handleMouseMove),e("mouseup",this._handleMouseUp),e("touchmove",this._handleTouchMove),e("touchend",this._handleTouchEnd)}isEmpty(){return this._isEmpty}fromData(e,{clear:t=!0}={}){t&&this.clear(),this._fromData(e,this._drawCurve.bind(this),this._drawDot.bind(this)),this._data=this._data.concat(e)}toData(){return this._data}_isLeftButtonPressed(e,t){return t?e.buttons===1:(e.buttons&1)===1}_pointerEventToSignatureEvent(e){return{event:e,type:e.type,x:e.clientX,y:e.clientY,pressure:"pressure"in e?e.pressure:0}}_touchEventToSignatureEvent(e){const t=e.changedTouches[0];return{event:e,type:e.type,x:t.clientX,y:t.clientY,pressure:t.force}}_handleMouseDown(e){!this._isLeftButtonPressed(e,!0)||this._drawingStroke||this._strokeBegin(this._pointerEventToSignatureEvent(e))}_handleMouseMove(e){if(!this._isLeftButtonPressed(e,!0)||!this._drawingStroke){this._strokeEnd(this._pointerEventToSignatureEvent(e),!1);return}this._strokeMoveUpdate(this._pointerEventToSignatureEvent(e))}_handleMouseUp(e){this._isLeftButtonPressed(e)||this._strokeEnd(this._pointerEventToSignatureEvent(e))}_handleTouchStart(e){e.targetTouches.length!==1||this._drawingStroke||(e.cancelable&&e.preventDefault(),this._strokeBegin(this._touchEventToSignatureEvent(e)))}_handleTouchMove(e){if(e.targetTouches.length===1){if(e.cancelable&&e.preventDefault(),!this._drawingStroke){this._strokeEnd(this._touchEventToSignatureEvent(e),!1);return}this._strokeMoveUpdate(this._touchEventToSignatureEvent(e))}}_handleTouchEnd(e){e.targetTouches.length===0&&(e.cancelable&&e.preventDefault(),this._strokeEnd(this._touchEventToSignatureEvent(e)))}_getPointerId(e){return e.persistentDeviceId||e.pointerId}_allowPointerId(e,t=!1){return typeof this._strokePointerId>"u"?t:this._getPointerId(e)===this._strokePointerId}_handlePointerDown(e){this._drawingStroke||!this._isLeftButtonPressed(e)||!this._allowPointerId(e,!0)||(this._strokePointerId=this._getPointerId(e),e.preventDefault(),this._strokeBegin(this._pointerEventToSignatureEvent(e)))}_handlePointerMove(e){if(this._allowPointerId(e)){if(!this._isLeftButtonPressed(e,!0)||!this._drawingStroke){this._strokeEnd(this._pointerEventToSignatureEvent(e),!1);return}e.preventDefault(),this._strokeMoveUpdate(this._pointerEventToSignatureEvent(e))}}_handlePointerUp(e){this._isLeftButtonPressed(e)||!this._allowPointerId(e)||(e.preventDefault(),this._strokeEnd(this._pointerEventToSignatureEvent(e)))}_getPointGroupOptions(e){return{penColor:e&&"penColor"in e?e.penColor:this.penColor,dotSize:e&&"dotSize"in e?e.dotSize:this.dotSize,minWidth:e&&"minWidth"in e?e.minWidth:this.minWidth,maxWidth:e&&"maxWidth"in e?e.maxWidth:this.maxWidth,velocityFilterWeight:e&&"velocityFilterWeight"in e?e.velocityFilterWeight:this.velocityFilterWeight,compositeOperation:e&&"compositeOperation"in e?e.compositeOperation:this.compositeOperation}}_strokeBegin(e){if(!this.dispatchEvent(new CustomEvent("beginStroke",{detail:e,cancelable:!0})))return;const{addEventListener:s}=this._getListenerFunctions();switch(e.event.type){case"mousedown":s("mousemove",this._handleMouseMove,{passive:!1}),s("mouseup",this._handleMouseUp,{passive:!1});break;case"touchstart":s("touchmove",this._handleTouchMove,{passive:!1}),s("touchend",this._handleTouchEnd,{passive:!1});break;case"pointerdown":s("pointermove",this._handlePointerMove,{passive:!1}),s("pointerup",this._handlePointerUp,{passive:!1});break}this._drawingStroke=!0;const a=this._getPointGroupOptions(),l={...a,points:[]};this._data.push(l),this._reset(a),this._strokeUpdate(e)}_strokeUpdate(e){if(!this._drawingStroke)return;if(this._data.length===0){this._strokeBegin(e);return}this.dispatchEvent(new CustomEvent("beforeUpdateStroke",{detail:e}));const t=this._createPoint(e.x,e.y,e.pressure),s=this._data[this._data.length-1],a=s.points,l=a.length>0&&a[a.length-1],c=l?t.distanceTo(l)<=this.minDistance:!1,d=this._getPointGroupOptions(s);if(!l||!(l&&c)){const h=this._addPoint(t,d);l?h&&this._drawCurve(h,d):this._drawDot(t,d),a.push({time:t.time,x:t.x,y:t.y,pressure:t.pressure})}this.dispatchEvent(new CustomEvent("afterUpdateStroke",{detail:e}))}_strokeEnd(e,t=!0){this._removeMoveUpEventListeners(),this._drawingStroke&&(t&&this._strokeUpdate(e),this._drawingStroke=!1,this._strokePointerId=void 0,this.dispatchEvent(new CustomEvent("endStroke",{detail:e})))}_handlePointerEvents(){this._drawingStroke=!1,this.canvas.addEventListener("pointerdown",this._handlePointerDown,{passive:!1})}_handleMouseEvents(){this._drawingStroke=!1,this.canvas.addEventListener("mousedown",this._handleMouseDown,{passive:!1})}_handleTouchEvents(){this.canvas.addEventListener("touchstart",this._handleTouchStart,{passive:!1})}_reset(e){this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(e.minWidth+e.maxWidth)/2,this._ctx.fillStyle=e.penColor,this._ctx.globalCompositeOperation=e.compositeOperation}_createPoint(e,t,s){const a=this.canvas.getBoundingClientRect();return new Fc(e-a.left,t-a.top,s,new Date().getTime())}_addPoint(e,t){const{_lastPoints:s}=this;if(s.push(e),s.length>2){s.length===3&&s.unshift(s[0]);const a=this._calculateCurveWidths(s[1],s[2],t),l=fD.fromPoints(s,a);return s.shift(),l}return null}_calculateCurveWidths(e,t,s){const a=s.velocityFilterWeight*t.velocityFrom(e)+(1-s.velocityFilterWeight)*this._lastVelocity,l=this._strokeWidth(a,s),c={end:l,start:this._lastWidth};return this._lastVelocity=a,this._lastWidth=l,c}_strokeWidth(e,t){return Math.max(t.maxWidth/(e+1),t.minWidth)}_drawCurveSegment(e,t,s){const a=this._ctx;a.moveTo(e,t),a.arc(e,t,s,0,2*Math.PI,!1),this._isEmpty=!1}_drawCurve(e,t){const s=this._ctx,a=e.endWidth-e.startWidth,l=Math.ceil(e.length())*2;s.beginPath(),s.fillStyle=t.penColor;for(let c=0;c<l;c+=1){const d=c/l,h=d*d,f=h*d,p=1-d,b=p*p,v=b*p;let x=v*e.startPoint.x;x+=3*b*d*e.control1.x,x+=3*p*h*e.control2.x,x+=f*e.endPoint.x;let w=v*e.startPoint.y;w+=3*b*d*e.control1.y,w+=3*p*h*e.control2.y,w+=f*e.endPoint.y;const A=Math.min(e.startWidth+f*a,t.maxWidth);this._drawCurveSegment(x,w,A)}s.closePath(),s.fill()}_drawDot(e,t){const s=this._ctx,a=t.dotSize>0?t.dotSize:(t.minWidth+t.maxWidth)/2;s.beginPath(),this._drawCurveSegment(e.x,e.y,a),s.closePath(),s.fillStyle=t.penColor,s.fill()}_fromData(e,t,s){for(const a of e){const{points:l}=a,c=this._getPointGroupOptions(a);if(l.length>1)for(let d=0;d<l.length;d+=1){const h=l[d],f=new Fc(h.x,h.y,h.pressure,h.time);d===0&&this._reset(c);const p=this._addPoint(f,c);p&&t(p,c)}else this._reset(c),s(l[0],c)}}toSVG({includeBackgroundColor:e=!1,includeDataUrl:t=!1}={}){const s=this._data,a=Math.max(window.devicePixelRatio||1,1),l=0,c=0,d=this.canvas.width/a,h=this.canvas.height/a,f=document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.setAttribute("xmlns","http://www.w3.org/2000/svg"),f.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),f.setAttribute("viewBox",`${l} ${c} ${d} ${h}`),f.setAttribute("width",d.toString()),f.setAttribute("height",h.toString()),e&&this.backgroundColor){const p=document.createElement("rect");p.setAttribute("width","100%"),p.setAttribute("height","100%"),p.setAttribute("fill",this.backgroundColor),f.appendChild(p)}if(t&&this._dataUrl){const p=this._dataUrlOptions?.ratio||window.devicePixelRatio||1,b=this._dataUrlOptions?.width||this.canvas.width/p,v=this._dataUrlOptions?.height||this.canvas.height/p,x=this._dataUrlOptions?.xOffset||0,w=this._dataUrlOptions?.yOffset||0,A=document.createElement("image");A.setAttribute("x",x.toString()),A.setAttribute("y",w.toString()),A.setAttribute("width",b.toString()),A.setAttribute("height",v.toString()),A.setAttribute("preserveAspectRatio","none"),A.setAttribute("href",this._dataUrl),f.appendChild(A)}return this._fromData(s,(p,{penColor:b})=>{const v=document.createElement("path");if(!isNaN(p.control1.x)&&!isNaN(p.control1.y)&&!isNaN(p.control2.x)&&!isNaN(p.control2.y)){const x=`M ${p.startPoint.x.toFixed(3)},${p.startPoint.y.toFixed(3)} C ${p.control1.x.toFixed(3)},${p.control1.y.toFixed(3)} ${p.control2.x.toFixed(3)},${p.control2.y.toFixed(3)} ${p.endPoint.x.toFixed(3)},${p.endPoint.y.toFixed(3)}`;v.setAttribute("d",x),v.setAttribute("stroke-width",(p.endWidth*2.25).toFixed(3)),v.setAttribute("stroke",b),v.setAttribute("fill","none"),v.setAttribute("stroke-linecap","round"),f.appendChild(v)}},(p,{penColor:b,dotSize:v,minWidth:x,maxWidth:w})=>{const A=document.createElement("circle"),_=v>0?v:(x+w)/2;A.setAttribute("r",_.toString()),A.setAttribute("cx",p.x.toString()),A.setAttribute("cy",p.y.toString()),A.setAttribute("fill",b),f.appendChild(A)}),f.outerHTML}};const yD=({isOpen:r,onClose:e,onSignatureCreate:t})=>{const[s,a]=S.useState("type"),[l,c]=S.useState("Alex Appleseed"),[d,h]=S.useState("#000000"),[f,p]=S.useState(0),[b,v]=S.useState(null),[x,w]=S.useState(!0),[A,_]=S.useState(!1),[C,k]=S.useState(null),N=S.useRef(null),M=S.useRef(null),R=S.useRef(null),P=["#3b82f6","#1d4ed8","#1e40af","#1e3a8a","#374151","#4b5563","#000000"],O=["Allura","Great Vibes","Dancing Script","Pacifico","Satisfy","Kalam","Caveat","Amatic SC","Indie Flower","Shadows Into Light","Permanent Marker"];S.useEffect(()=>{const q=localStorage.getItem("savedSignature");q&&k(q)},[r]),S.useEffect(()=>{if(s==="draw"&&N.current&&r){const q=setTimeout(()=>{const ee=N.current;if(!ee)return;ee.style.width="100%",ee.style.height="160px";const j=ee.getBoundingClientRect(),B=4;ee.width=j.width*B,ee.height=j.height*B;const V=ee.getContext("2d");V&&(V.scale(B,B),V.lineCap="round",V.lineJoin="round",V.strokeStyle="#000000",V.lineWidth=2,V.imageSmoothingEnabled=!0,V.imageSmoothingQuality="high"),M.current&&M.current.off(),M.current=new gD(ee,{backgroundColor:"rgba(0, 0, 0, 0)",penColor:"#000000",minWidth:1.5,maxWidth:3.5,throttle:8,minDistance:2,velocityFilterWeight:.7,onEnd:()=>{const ce=M.current?M.current.isEmpty():!0;_(!ce),console.log("Signature pad onEnd - isEmpty:",ce,"hasDrawnSignature:",!ce)}})},100);return()=>clearTimeout(q)}},[s,r]);const D=q=>{a(q),_(!1),q==="draw"&&M.current&&M.current.clear()},Y=q=>{h(q),M.current&&(M.current.penColor=q,console.log("Signature pad color changed to:",q))},te=q=>{const ee=q.target.files?.[0];if(ee&&ee.type.startsWith("image/")){const j=new FileReader;j.onload=B=>{v(B.target?.result)},j.readAsDataURL(ee)}},H=()=>{let q="";switch(s){case"type":const ee=document.createElement("canvas"),j=ee.getContext("2d");if(j&&l.trim()){j.font=`144px '${O[f]}', cursive`;const I=j.measureText(l.trim()).width,Q=144*1.4;ee.width=I+80,ee.height=Q+80,j.imageSmoothingEnabled=!0,j.imageSmoothingQuality="high",j.textRenderingOptimization="optimizeQuality",j.clearRect(0,0,ee.width,ee.height),j.font=`144px '${O[f]}', cursive`,j.fillStyle=d,j.textAlign="left",j.textBaseline="middle",j.fillText(l.trim(),40,ee.height/2),q=ee.toDataURL("image/png",1)}break;case"draw":if(M.current&&!M.current.isEmpty()){const B=N.current;if(!B)break;const V=B.getContext("2d");if(V){const I=V.getImageData(0,0,B.width,B.height).data;let Q=B.width,L=B.height,z=0,$=0;for(let oe=0;oe<B.height;oe++)for(let J=0;J<B.width;J++)I[(oe*B.width+J)*4+3]>0&&(Q=Math.min(Q,J),L=Math.min(L,oe),z=Math.max(z,J),$=Math.max($,oe));if(z>Q&&$>L){const oe=document.createElement("canvas"),J=oe.getContext("2d");J&&(oe.width=z-Q+80,oe.height=$-L+80,J.imageSmoothingEnabled=!0,J.imageSmoothingQuality="high",J.drawImage(B,Q-40,L-40,oe.width,oe.height,0,0,oe.width,oe.height),q=oe.toDataURL("image/png",1))}else q=B.toDataURL("image/png",1)}}break;case"upload":b&&(q=b);break}console.log("Signature data:",q?"Generated":"Empty"),console.log("Method:",s),console.log("Can save:",le()),q?(x&&s==="draw"&&(k(q),localStorage.setItem("savedSignature",q)),console.log("Calling onSignatureCreate"),t(q,s),ne()):console.log("No signature data to save")},ne=()=>{a("type"),c("Alex Appleseed"),h("#000000"),p(0),v(null),w(!0),_(!1),M.current&&(M.current.clear(),M.current.off(),M.current=null),e()},le=()=>{switch(s){case"type":return l.trim().length>0;case"draw":return M.current&&!M.current.isEmpty();case"upload":return b!==null;case"camera":return!1;default:return!1}};return m.jsx(cD,{open:r,onOpenChange:ne,children:m.jsxs(uD,{className:"max-w-2xl",children:[m.jsx(dD,{children:m.jsx(hD,{children:"Create signature"})}),m.jsxs("div",{className:"space-y-6",children:[m.jsx("div",{className:"flex space-x-1",children:[{id:"type",label:"Type",icon:eu},{id:"draw",label:"Draw",icon:om},{id:"upload",label:"Upload Image",icon:zi},{id:"camera",label:"Camera",icon:hv}].map(q=>{const ee=q.icon;return m.jsxs("button",{onClick:()=>D(q.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-colors ${s===q.id?"bg-primary/10 border-primary/20 text-primary":"bg-card border-border text-primary hover:bg-primary/5"}`,children:[m.jsx(ee,{className:"h-4 w-4"}),m.jsx("span",{className:"text-sm font-medium",children:q.label})]},q.id)})}),s==="draw"&&m.jsxs("div",{className:"flex items-center space-x-2",children:[m.jsx("input",{type:"checkbox",id:"save-signature",checked:x,onChange:q=>w(q.target.checked),className:"rounded border-primary text-primary focus:ring-primary"}),m.jsx(ze,{htmlFor:"save-signature",className:"text-sm text-gray-700",children:"Save signature"})]}),s==="type"&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(ze,{htmlFor:"signature-name",className:"text-sm font-medium",children:"Name"}),m.jsx(Qe,{id:"signature-name",value:l,onChange:q=>c(q.target.value),className:"mt-1",placeholder:"Enter your name"})]}),m.jsxs("div",{children:[m.jsx(ze,{className:"text-sm font-medium",children:"Color"}),m.jsx("div",{className:"flex space-x-2 mt-2",children:P.map(q=>m.jsx("button",{onClick:()=>Y(q),className:`w-8 h-8 rounded-full border-2 ${d===q?"border-gray-400":"border-gray-200"}`,style:{backgroundColor:q}},q))})]}),m.jsxs("div",{children:[m.jsx(ze,{className:"text-sm font-medium",children:"Style"}),m.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2",children:O.map((q,ee)=>m.jsx("button",{onClick:()=>p(ee),className:`p-3 border rounded-lg text-left transition-colors ${f===ee?"border-primary bg-primary/10":"border-border hover:bg-primary/5"}`,children:m.jsx("div",{className:"text-lg",style:{fontFamily:q,color:d},children:l})},q))})]})]}),s==="draw"&&m.jsxs("div",{className:"space-y-4",children:[C&&m.jsxs("div",{children:[m.jsx(ze,{className:"text-sm font-medium",children:"Saved Signature"}),m.jsx("div",{className:"mt-2",children:m.jsx("button",{onClick:()=>{t(C,"draw"),ne()},className:"p-2 border border-border rounded-lg hover:bg-primary/5 transition-colors w-full",children:m.jsx("img",{src:C,alt:"Saved signature",className:"w-full h-12 object-contain"})})})]}),m.jsxs("div",{children:[m.jsx(ze,{className:"text-sm font-medium",children:"Draw your signature"}),m.jsx("div",{className:"border border-border rounded-lg mt-2 bg-card",children:m.jsx("canvas",{ref:N,className:"w-full cursor-crosshair block",style:{touchAction:"none",userSelect:"none",backgroundColor:"white",height:"160px",border:"1px solid #e5e7eb",borderRadius:"8px"}})}),m.jsxs("div",{className:"flex justify-between items-center mt-2",children:[m.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>{M.current?.clear(),_(!1)},className:"text-xs",children:[m.jsx(Jc,{className:"h-3 w-3 mr-1"}),"Clear"]}),m.jsx("span",{className:"text-xs text-muted-foreground",children:A?"Signature drawn":"Draw your signature above"})]})]}),m.jsxs("div",{children:[m.jsx(ze,{className:"text-sm font-medium",children:"Color"}),m.jsx("div",{className:"flex space-x-2 mt-2",children:P.map(q=>m.jsx("button",{onClick:()=>Y(q),className:`w-8 h-8 rounded-full border-2 ${d===q?"border-gray-400":"border-gray-200"}`,style:{backgroundColor:q}},q))})]})]}),s==="upload"&&m.jsx("div",{className:"space-y-4",children:m.jsxs("div",{children:[m.jsx(ze,{className:"text-sm font-medium",children:"Upload signature image"}),m.jsxs("div",{className:"mt-2",children:[m.jsx("input",{ref:R,type:"file",accept:"image/*",onChange:te,className:"hidden"}),m.jsxs(pe,{variant:"outline",onClick:()=>R.current?.click(),className:"w-full",children:[m.jsx(zi,{className:"h-4 w-4 mr-2"}),"Choose File"]})]}),b&&m.jsx("div",{className:"mt-4",children:m.jsx("img",{src:b,alt:"Uploaded signature",className:"max-w-full h-32 object-contain border rounded"})})]})}),s==="camera"&&m.jsxs("div",{className:"text-center py-8",children:[m.jsx(hv,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),m.jsx("p",{className:"text-gray-600",children:"Camera functionality coming soon"})]}),m.jsx("div",{className:"text-xs text-gray-500 bg-gray-50 p-3 rounded",children:"This application does not guarantee that the signature provided through this tool is legally binding."}),m.jsxs("div",{className:"flex justify-end space-x-3",children:[m.jsx(pe,{variant:"outline",onClick:ne,children:"Cancel"}),m.jsxs(pe,{onClick:H,disabled:!le(),className:"bg-primary hover:bg-primary/90",children:[m.jsx(GC,{className:"h-4 w-4 mr-2"}),"Add to Document"]})]})]})]})})},bD=()=>{const{user:r}=Zf(),{toast:e}=Kc(),t=S.useRef(null),[s,a]=S.useState({file:null,numPages:0,currentPage:1,scale:1.2,annotations:[],selectedTool:null,selectedAnnotationId:null,selectedAnnotationIds:[],history:[],historyIndex:-1,isLoading:!1,error:null}),[l,c]=S.useState(""),[d,h]=S.useState(0),[f,p]=S.useState(!1),[b,v]=S.useState(!1),[x,w]=S.useState(null);S.useEffect(()=>{if(s.history.length===0){const L={annotations:[],timestamp:Date.now()};a(z=>({...z,history:[L],historyIndex:0}))}},[s.history.length]);const A=S.useCallback(L=>{const z={annotations:[...L],timestamp:Date.now()};a($=>{const oe=[...$.history.slice(0,$.historyIndex+1),z];return{...$,history:oe,historyIndex:oe.length-1,annotations:L}})},[]),_=S.useCallback(async L=>{if(L.type!=="application/pdf"){e({title:"Invalid file type",description:"Please upload a valid PDF file.",variant:"destructive"});return}if(L.size>50*1024*1024){e({title:"File too large",description:"Please upload a PDF file smaller than 50MB.",variant:"destructive"});return}a(z=>({...z,isLoading:!0,error:null}));try{const z=await L.arrayBuffer();a($=>({...$,file:z,annotations:[],selectedAnnotationId:null,currentPage:1,isLoading:!1})),c(L.name),h(L.size),e({title:"PDF uploaded successfully",description:`File: ${L.name} (${q(L.size)})`})}catch(z){console.error("File upload error:",z),a($=>({...$,isLoading:!1,error:"Failed to load PDF file"})),e({title:"Upload failed",description:"There was an error loading the PDF file.",variant:"destructive"})}},[e]),C=S.useCallback(L=>{L.preventDefault(),L.stopPropagation(),p(!0)},[]),k=S.useCallback(L=>{L.preventDefault(),L.stopPropagation(),p(!1)},[]),N=S.useCallback(L=>{L.preventDefault(),L.stopPropagation(),p(!1);const $=Array.from(L.dataTransfer.files).find(oe=>oe.type==="application/pdf");$&&_($)},[_]),M=S.useCallback(L=>{if(L==="signature"){v(!0);return}a(z=>({...z,selectedTool:L,selectedAnnotationId:null}))},[]),R=S.useCallback(L=>{const z={...L,id:`annotation-${Date.now()}-${Math.random().toString(36).substr(2,9)}`},$=[...s.annotations,z];A($),e({title:"Annotation added",description:`${L.type} annotation has been added to the document.`})},[s.annotations,A,e]),P=S.useCallback((L,z)=>{const $=s.annotations.map(oe=>oe.id===L?{...oe,...z}:oe);A($)},[s.annotations,A]),O=S.useCallback(L=>{const z=s.annotations.filter($=>$.id!==L);A(z),a($=>({...$,selectedAnnotationId:$.selectedAnnotationId===L?null:$.selectedAnnotationId})),e({title:"Annotation deleted",description:"Annotation has been removed from the document."})},[s.annotations,A,e]),D=S.useCallback(L=>{a(z=>({...z,selectedAnnotationId:L,selectedAnnotationIds:L?[L]:[],selectedTool:L?"select":z.selectedTool}))},[]),Y=S.useCallback(L=>{a(z=>({...z,currentPage:Math.max(1,Math.min(L,z.numPages))}))},[]),te=S.useCallback(L=>{a(z=>({...z,scale:Math.max(.5,Math.min(3,L))}))},[]),H=S.useCallback(()=>{if(s.historyIndex>0){const L=s.historyIndex-1,z=s.history[L];a($=>({...$,historyIndex:L,annotations:z.annotations,selectedAnnotationId:null}))}},[s.historyIndex,s.history]),ne=S.useCallback(()=>{if(s.historyIndex<s.history.length-1){const L=s.historyIndex+1,z=s.history[L];a($=>({...$,historyIndex:L,annotations:z.annotations,selectedAnnotationId:null}))}},[s.historyIndex,s.history]),le=S.useCallback(async()=>{if(!s.file||s.annotations.length===0){e({title:"Nothing to save",description:"Please add annotations before saving.",variant:"destructive"});return}a(L=>({...L,isLoading:!0}));try{const L=new Blob([s.file],{type:"application/pdf"}),z=URL.createObjectURL(L),$=document.createElement("a");$.href=z,$.download=`annotated-${Date.now()}.pdf`,$.click(),URL.revokeObjectURL(z),e({title:"PDF saved successfully",description:"Your annotated PDF has been downloaded."})}catch(L){console.error("Save error:",L),e({title:"Save failed",description:"There was an error saving the PDF.",variant:"destructive"})}finally{a(L=>({...L,isLoading:!1}))}},[s.file,s.annotations,e]),q=L=>{if(L===0)return"0 Bytes";const z=1024,$=["Bytes","KB","MB","GB"],oe=Math.floor(Math.log(L)/Math.log(z));return parseFloat((L/Math.pow(z,oe)).toFixed(2))+" "+$[oe]},ee=L=>{switch(L){case"text":return 120;case"signature":return 200;case"checkbox":return 20;case"image":return 100;case"shape":return 80;case"line":return 100;default:return 100}},j=L=>{switch(L){case"text":return 30;case"signature":return 80;case"checkbox":return 20;case"image":return 100;case"shape":return 60;case"line":return 2;default:return 30}},B=L=>{switch(L){case"text":return"Text";case"signature":return"Signature";case"checkbox":return"";case"image":return"Image";case"shape":return"";case"line":return"";default:return""}},V=L=>{const z={fontSize:14,fontFamily:"Arial",color:"#000000",backgroundColor:"transparent",borderColor:"#000000",borderWidth:1,fontWeight:"normal",fontStyle:"normal"};switch(L){case"text":return{...z,backgroundColor:"transparent",borderColor:"transparent",borderWidth:0};case"signature":return{...z,backgroundColor:"transparent",borderColor:"transparent",borderWidth:0,fontSize:16};case"checkbox":return{...z,fontSize:16};case"image":return{...z,backgroundColor:"rgba(0, 0, 0, 0.1)"};case"shape":return{...z,backgroundColor:"#007bff"};case"line":return{...z,backgroundColor:"transparent"};default:return z}},ce=s.historyIndex>0,I=s.historyIndex<s.history.length-1,Q=L=>L;return S.useEffect(()=>{const L=z=>{const $=z.target,oe=$&&($.tagName==="INPUT"||$.tagName==="TEXTAREA"||$.contentEditable==="true"||$.isContentEditable);if(z.key==="Delete"&&s.selectedAnnotationId&&O(s.selectedAnnotationId),z.key==="Escape"&&D(null),(z.ctrlKey||z.metaKey)&&z.key==="c"&&s.selectedAnnotationId&&!oe){z.preventDefault();const J=s.annotations.find(re=>re.id===s.selectedAnnotationId);J&&(localStorage.setItem("copiedAnnotation",JSON.stringify(J)),e({title:"Annotation copied",description:"Use Ctrl+V to paste"}))}if((z.ctrlKey||z.metaKey)&&z.key==="v"&&!oe){z.preventDefault();const J=localStorage.getItem("copiedAnnotation");if(J){const re=JSON.parse(J),be={...re,x:re.x+30,y:re.y+30,zIndex:s.annotations.length+1},Ne=`annotation-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,_e={...be,id:Ne},rt=[...s.annotations,_e];A(rt),D(Ne),e({title:"Annotation pasted",description:"Annotation has been duplicated and selected"})}}if((z.ctrlKey||z.metaKey)&&z.key==="a"&&!oe){z.preventDefault();const J=s.annotations.filter(re=>re.pageNumber===s.currentPage).map(re=>re.id);a(re=>({...re,selectedAnnotationIds:J,selectedAnnotationId:J[0]||null,selectedTool:"select"})),e({title:"All annotations selected",description:`Selected ${J.length} annotations on current page`})}if((z.ctrlKey||z.metaKey)&&z.key==="d"&&s.selectedAnnotationId&&!oe){z.preventDefault();const J=s.annotations.find(re=>re.id===s.selectedAnnotationId);if(J){const re={...J,x:J.x+30,y:J.y+30,zIndex:s.annotations.length+1},be=`annotation-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,Ne={...re,id:be},_e=[...s.annotations,Ne];A(_e),D(be),e({title:"Annotation duplicated",description:"New annotation selected"})}}};return document.addEventListener("keydown",L),()=>document.removeEventListener("keydown",L)},[s.selectedAnnotationId,s.annotations,O,D,R,e]),m.jsxs(Lx,{title:s.file?Q(l):"Document Workspace",description:s.file?q(d):"Edit, sign, and share documents",icon:un,actions:s.file?m.jsxs(pe,{variant:"outline",onClick:()=>{e({title:"AI Analysis",description:"AI document analysis feature coming soon!"})},className:"flex items-center gap-2",children:[m.jsx(KT,{className:"h-4 w-4"}),"Analyze with AI"]}):void 0,children:[s.file?m.jsxs("div",{className:"flex flex-col h-screen",children:[m.jsx(Tk,{selectedTool:s.selectedTool,onToolSelect:M,onSave:le,onUndo:H,onRedo:ne,canUndo:ce,canRedo:I,scale:s.scale,onScaleChange:te,currentPage:s.currentPage,totalPages:s.numPages,onPageChange:Y}),s.selectedAnnotationId&&m.jsx(lD,{annotation:s.annotations.find(L=>L.id===s.selectedAnnotationId),onEdit:()=>console.log("Edit annotation"),onDuplicate:()=>{const L=s.annotations.find(z=>z.id===s.selectedAnnotationId);if(L){const z={...L,x:L.x+30,y:L.y+30,zIndex:s.annotations.length+1};R(z)}},onRotate:()=>{if(s.selectedAnnotationId){const L=s.annotations.find(z=>z.id===s.selectedAnnotationId);if(L){const $=((L.rotation||0)+90)%360;P(s.selectedAnnotationId,{rotation:$})}}},onDelete:()=>{s.selectedAnnotationId&&O(s.selectedAnnotationId)},onBringToFront:()=>{if(s.selectedAnnotationId){const L=Math.max(...s.annotations.map(z=>z.zIndex||1));P(s.selectedAnnotationId,{zIndex:L+1})}},onSendToBack:()=>{if(s.selectedAnnotationId){const L=Math.min(...s.annotations.map(z=>z.zIndex||1));P(s.selectedAnnotationId,{zIndex:Math.max(1,L-1)})}},onStyleUpdate:L=>{s.selectedAnnotationId&&P(s.selectedAnnotationId,L)},onCopy:()=>{if(s.selectedAnnotationId){const L=s.annotations.find(z=>z.id===s.selectedAnnotationId);L&&(localStorage.setItem("copiedAnnotation",JSON.stringify(L)),e({title:"Annotation copied"}))}},onCut:()=>{if(s.selectedAnnotationId){const L=s.annotations.find(z=>z.id===s.selectedAnnotationId);L&&(localStorage.setItem("copiedAnnotation",JSON.stringify(L)),O(s.selectedAnnotationId),e({title:"Annotation cut"}))}},onPaste:()=>{const L=localStorage.getItem("copiedAnnotation");if(L){const z=JSON.parse(L),$={...z,x:z.x+30,y:z.y+30,zIndex:s.annotations.length+1};R($),e({title:"Annotation pasted"})}},onLock:()=>{if(s.selectedAnnotationId){const L=s.annotations.find(z=>z.id===s.selectedAnnotationId);P(s.selectedAnnotationId,{locked:!L?.locked}),e({title:L?.locked?"Annotation unlocked":"Annotation locked"})}},onHide:()=>{if(s.selectedAnnotationId){const L=s.annotations.find(z=>z.id===s.selectedAnnotationId);P(s.selectedAnnotationId,{hidden:!L?.hidden}),e({title:L?.hidden?"Annotation shown":"Annotation hidden"})}},onFlipH:()=>{s.selectedAnnotationId&&(P(s.selectedAnnotationId,{flippedH:!0}),e({title:"Annotation flipped horizontally"}))},onFlipV:()=>{s.selectedAnnotationId&&(P(s.selectedAnnotationId,{flippedV:!0}),e({title:"Annotation flipped vertically"}))},onRotateLeft:()=>{if(s.selectedAnnotationId){const L=s.annotations.find(z=>z.id===s.selectedAnnotationId);if(L){const $=((L.rotation||0)-90+360)%360;P(s.selectedAnnotationId,{rotation:$})}}}}),m.jsx("div",{className:"flex-1 overflow-hidden",children:s.isLoading?m.jsx("div",{className:"flex items-center justify-center h-full",children:m.jsxs("div",{className:"text-center",children:[m.jsx(Mo,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-primary"}),m.jsx("div",{className:"text-muted-foreground",children:"Opening your document..."})]})}):s.error?m.jsx("div",{className:"flex items-center justify-center h-full",children:m.jsxs("div",{className:"text-center",children:[m.jsx(hx,{className:"h-8 w-8 mx-auto mb-4 text-destructive"}),m.jsx("div",{className:"text-destructive text-lg mb-2",children:"Couldn't open document"}),m.jsx("div",{className:"text-muted-foreground",children:"Please try uploading your PDF again"})]})}):m.jsx(oD,{file:s.file,scale:s.scale,onLoadSuccess:({numPages:L})=>{a(z=>({...z,numPages:L}))},onLoadError:L=>{console.error("PDF load error:",L),a(z=>({...z,error:"Failed to load PDF"}))},onPageClick:(L,z)=>{if(s.selectedTool&&s.selectedTool!=="select"){if(s.selectedTool==="signature"){const Ne=L.currentTarget.closest(".react-pdf__Page");if(Ne){const _e=Ne.getBoundingClientRect(),rt=L.clientX-_e.left,xt=L.clientY-_e.top;w({x:rt,y:xt,pageNumber:z}),v(!0);return}}const oe=L.currentTarget.getBoundingClientRect(),J=L.clientX-oe.left,re=L.clientY-oe.top,be={type:s.selectedTool,x:J,y:re,width:ee(s.selectedTool),height:j(s.selectedTool),rotation:0,content:B(s.selectedTool),pageNumber:z,style:V(s.selectedTool),zIndex:s.annotations.length+1};R(be)}else s.selectedAnnotationId&&D(null)},annotations:s.annotations,onAnnotationUpdate:L=>P(L.id,L),onAnnotationDelete:O,onAnnotationSelect:D,selectedAnnotationId:s.selectedAnnotationId,selectedTool:s.selectedTool})})]}):m.jsx("div",{className:"bg-card rounded-xl shadow-sm border border-border",children:m.jsx("div",{className:"p-6",children:m.jsxs("div",{onDragOver:C,onDragLeave:k,onDrop:N,className:`bg-card rounded-2xl p-12 shadow-sm border-2 border-dashed transition-all duration-200 text-center ${f?"border-primary bg-accent":"border-border hover:border-primary/50 hover:bg-primary/5"}`,children:[m.jsx("div",{className:`w-24 h-24 mx-auto mb-6 rounded-3xl flex items-center justify-center transition-all duration-200 ${f?"bg-primary/20":"bg-primary/10"}`,children:m.jsx(zi,{className:"h-12 w-12 text-primary"})}),m.jsx("h2",{className:"text-3xl font-bold text-foreground mb-4",children:f?"Drop PDF Here":"Upload PDF Document"}),m.jsx("p",{className:"text-muted-foreground mb-8 text-lg leading-relaxed",children:f?"Release to upload your PDF document":"Drag and drop your PDF file here, or click to browse and upload"}),m.jsxs("button",{onClick:()=>t.current?.click(),className:"bg-primary hover:bg-primary/90 text-white shadow-lg px-8 py-4 text-lg rounded-lg flex items-center mx-auto",disabled:f,children:[m.jsx(zi,{className:"h-5 w-5 mr-3"}),"Choose PDF File"]}),m.jsx("input",{ref:t,type:"file",accept:".pdf",onChange:L=>{const z=L.target.files?.[0];z&&_(z)},className:"hidden"}),m.jsx("div",{className:"mt-12 pt-8 border-t border-border",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-sm text-muted-foreground",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),m.jsx("span",{children:"Digital signatures & annotations"})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),m.jsx("span",{children:"Text, shapes, and form fields"})]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-2 h-2 bg-primary rounded-full"}),m.jsx("span",{children:"Intelligent A.I document analysis"})]})]})})]})})}),m.jsx(yD,{isOpen:b,onClose:()=>{v(!1),w(null)},onSignatureCreate:(L,z)=>{let $=100,oe=100;if(x)$=x.x,oe=x.y;else{const re=document.querySelector(".react-pdf__Document"),be=document.querySelector(`[data-page-number="${s.currentPage}"]`);if(re&&be){const Ne=re.getBoundingClientRect(),_e=be.getBoundingClientRect();$=Math.max(0,Ne.width/2-100),oe=Math.max(0,Ne.height/2-40),_e.width<Ne.width&&($=Math.min($,_e.width-200)),_e.height<Ne.height&&(oe=Math.min(oe,_e.height-80))}}const J={type:"signature",x:$,y:oe,width:200,height:80,rotation:0,content:L,pageNumber:x?.pageNumber||s.currentPage,style:{...V("signature"),borderWidth:0,borderColor:"transparent"},zIndex:s.annotations.length+1,signatureType:z};console.log("Adding signature annotation:",J),R(J),a(re=>({...re,selectedTool:"select"})),v(!1),w(null)}})]})},vD=()=>m.jsx("div",{children:"LibraryPage"}),xD=()=>m.jsx("div",{children:"InboxPage"}),wD=()=>m.jsx("div",{children:"OutboxPage"}),AD=()=>m.jsx("div",{children:"ArchivePage"}),SD=()=>m.jsx("div",{children:"ProfilePage"}),ED=()=>m.jsx("div",{children:"MessagesPage"}),_D=()=>m.jsx("div",{children:"UsagePage"}),CD=()=>m.jsx("div",{children:"InvoicesPage"}),TD=()=>m.jsx("div",{children:"AddressBookPage"}),ND=({children:r})=>{dm();const{isAuthenticated:e,loading:t,token:s}=hm(a=>a.auth);return t?m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})}):e?m.jsx(m.Fragment,{children:r}):m.jsx(c0,{to:"/login",replace:!0})},Mw=S.createContext(null),Dw=()=>{const r=S.useContext(Mw);if(!r)throw new Error("Tooltip components must be wrapped in <Tooltip />");return r};function Kv({children:r,placement:e="right"}){const[t,s]=S.useState(!1),a=S.useMemo(()=>({open:t,setOpen:s,placement:e}),[t,e]);return m.jsx(Mw.Provider,{value:a,children:r})}const Qv=S.forwardRef(({children:r,asChild:e=!1,...t},s)=>{const{setOpen:a}=Dw(),l=()=>a(!0),c=()=>a(!1);return e&&S.isValidElement(r)?S.cloneElement(r,{...t,onMouseEnter:l,onMouseLeave:c,ref:s}):m.jsx("button",{ref:s,onMouseEnter:l,onMouseLeave:c,type:"button",...t,children:r})}),Zv=S.forwardRef(({className:r,children:e,...t},s)=>{const{open:a,placement:l}=Dw();if(!a)return null;const c=()=>{switch(l){case"top":return"bottom-full left-1/2 transform -translate-x-1/2 mb-2";case"bottom":return"top-full left-1/2 transform -translate-x-1/2 mt-2";case"left":return"right-full top-1/2 transform -translate-y-1/2 mr-2";case"right":return"left-full top-1/2 transform -translate-y-1/2 ml-2";default:return"left-full top-1/2 transform -translate-y-1/2 ml-2"}};return m.jsx("div",{ref:s,className:st("absolute z-50 overflow-hidden rounded-xl border border-blue-200 dark:border-primary bg-white dark:bg-blue-800 px-4 py-2 text-sm text-blue-900 dark:text-blue-100 shadow-xl animate-in fade-in-0 zoom-in-95 backdrop-blur-sm",c(),r),...t,children:e})}),kD=({children:r})=>m.jsx(m.Fragment,{children:r}),jw=S.createContext(void 0),Im=()=>{const r=S.useContext(jw);if(!r)throw new Error("useDropdownMenu must be used within a DropdownMenu");return r},RD=({children:r})=>{const[e,t]=S.useState(!1);return S.useEffect(()=>{const s=a=>{a.target.closest("[data-dropdown-menu]")||t(!1)};return e&&document.addEventListener("mousedown",s),()=>{document.removeEventListener("mousedown",s)}},[e]),m.jsx(jw.Provider,{value:{isOpen:e,setIsOpen:t},children:m.jsx("div",{className:"relative","data-dropdown-menu":!0,children:r})})},MD=({children:r,asChild:e=!1})=>{const{isOpen:t,setIsOpen:s}=Im(),a=()=>{s(!t)};return e?m.jsx("div",{onClick:a,style:{display:"contents"},children:r}):m.jsx("button",{onClick:a,"aria-expanded":t,"aria-haspopup":!0,className:"inline-flex items-center justify-center",children:r})},DD=({children:r,align:e="start",className:t,sideOffset:s=4})=>{const{isOpen:a}=Im();if(!a)return null;const l={start:"left-0",center:"left-1/2 transform -translate-x-1/2",end:"right-0"};return m.jsx("div",{className:st("absolute top-full z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95",l[e],t),style:{marginTop:`${s}px`},children:r})},jD=({children:r,className:e,onClick:t,inset:s=!1})=>{const{setIsOpen:a}=Im(),l=()=>{t?.(),a(!1)};return m.jsx("div",{className:st("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground",s&&"pl-8",e),onClick:l,children:r})},PD=()=>{const{theme:r,setTheme:e,actualTheme:t}=e2(),{currentLanguage:s,changeLanguage:a,availableLanguages:l,isRTL:c}=Wc(),[d,h]=S.useState(new Date);Ka(),S.useEffect(()=>{const b=setInterval(()=>{h(new Date)},1e3);return()=>clearInterval(b)},[]);const f=b=>{const v={weekday:"long",year:"numeric",month:"long",day:"numeric"},w={dr:"fa-AF",ps:"ps-AF",ar:"ar-SA",zh:"zh-CN",pt:"pt-BR"}[s]||s;return b.toLocaleDateString(w,v)},p=l.find(b=>b.code===s);return m.jsx("div",{className:"h-16 bg-card border-b border-border shadow-sm",children:m.jsxs("div",{className:"flex items-center justify-between h-full px-6",children:[m.jsx("div",{className:`flex items-center ${c?"space-x-reverse space-x-4":"space-x-4"}`,children:m.jsxs("div",{className:`flex items-center ${c?"space-x-reverse space-x-2":"space-x-2"} text-sm text-primary`,children:[m.jsx(sm,{className:"h-4 w-4 text-primary"}),m.jsx("span",{className:"font-medium text-foreground",children:f(d)})]})}),m.jsx("div",{className:`flex items-center ${c?"space-x-reverse space-x-3":"space-x-3"}`,children:m.jsxs(RD,{children:[m.jsx(MD,{asChild:!0,children:m.jsxs(pe,{variant:"ghost",size:"sm",className:"h-9 px-3 hover:bg-accent",children:[m.jsx("img",{src:p?.flagUrl,alt:`${p?.name} flag`,className:`${c?"ml-2":"mr-2"} h-4 w-6 object-cover rounded-sm`}),m.jsx("span",{className:"text-sm font-medium",children:p?.name}),m.jsx(VC,{className:`h-3 w-3 ${c?"mr-1":"ml-1"} text-primary`})]})}),m.jsx(DD,{align:"end",className:"w-48",children:l.map(b=>m.jsxs(jD,{onClick:()=>a(b.code),className:"flex items-center space-x-2 hover:bg-accent",children:[m.jsx("img",{src:b.flagUrl,alt:`${b.name} flag`,className:"h-4 w-6 object-cover rounded-sm"}),m.jsx("span",{children:b.name}),s===b.code&&m.jsx("span",{className:"ml-auto text-primary",children:""})]},b.code))})]})})]})})},LD=()=>{const{user:r,logout:e}=Zf(),t=Hi(),s=Rs(),[a,l]=S.useState(!1),{t:c}=Ka(),{isRTL:d}=Wc(),[,h]=S.useState(""),f=r?.role?r.role:"Free",[p,b]=S.useState(!1),v=cn.useRef(null),[x,w]=cn.useState(!1);cn.useEffect(()=>{w(!1)},[r?.profilePicture]);const A=R=>{const P=R.trim().split(/\s+/);return P.length===1?P[0].charAt(0).toUpperCase():(P[0].charAt(0)+P[P.length-1].charAt(0)).toUpperCase()};cn.useEffect(()=>{const R=P=>{if(!v.current)return;const O=P.target;v.current.contains(O)||b(!1)};return p&&document.addEventListener("mousedown",R),()=>document.removeEventListener("mousedown",R)},[p]);const _=[{name:c("nav.dashboard"),href:"/app/dashboard",icon:vT},{name:c("nav.workspace"),href:"/app/pdf-signature",icon:Pc},{name:c("nav.library"),href:"/app/library",icon:un,badge:"12"},{name:c("nav.inbox"),href:"/app/inbox",icon:rm,badge:"3"},{name:c("nav.outbox"),href:"/app/outbox",icon:cm,badge:"5"},{name:c("nav.archive"),href:"/app/archive",icon:kC,badge:"28"},{name:c("nav.settings"),href:"/app/settings",icon:mv}],C=[{name:c("nav.messages"),href:"/app/messages",icon:mx},{name:c("nav.usage"),href:"/app/usage",icon:im},{name:c("nav.invoices"),href:"/app/invoices",icon:fv},{name:c("nav.addressBook"),href:"/app/addressbook",icon:jC}],k=()=>{e(),t("/login")},N=S.useCallback(()=>{e(),t("/login")},[e,t]),M=()=>{l(!a)};return cn.useEffect(()=>{const R=()=>{const O=_t.getTimeUntilExpiry();if(O>0){const D=Math.floor(O/36e5),Y=Math.floor(O%(1e3*60*60)/(1e3*60)),te=Math.floor(O%(1e3*60)/1e3);h(`${D.toString().padStart(2,"0")}:${Y.toString().padStart(2,"0")}:${te.toString().padStart(2,"0")}`)}else h(""),N()};R();const P=setInterval(R,1e3);return()=>clearInterval(P)},[N]),m.jsx(kD,{children:m.jsxs("div",{className:`flex h-screen bg-background ${d?"flex-row-reverse":""}`,dir:d?"rtl":"ltr",children:[m.jsxs("div",{className:`${a?"w-16":"w-64"} bg-card ${d?"border-l":"border-r"} border-border flex flex-col transition-all duration-500 ease-in-out relative`,children:[m.jsx("div",{className:"p-6 border-b border-border",children:m.jsx("div",{className:`flex items-center ${a?"justify-center":"justify-between"}`,children:m.jsxs("div",{className:`flex items-center ${a?"justify-center":"space-x-3"}`,children:[m.jsx("div",{className:"w-8 h-8 bg-primary rounded-lg flex items-center justify-center",children:m.jsx(Pc,{className:"h-4 w-4 text-white"})}),!a&&m.jsx("div",{className:"transition-opacity duration-500 text-center",children:m.jsx("h1",{className:"text-lg font-semibold text-slate-900",children:"SignMeNow"})})]})})}),m.jsx("div",{className:"absolute -right-3 top-6 z-50",children:m.jsx(pe,{variant:"outline",size:"sm",onClick:M,className:"h-6 w-6 p-0 rounded-full bg-card border-border shadow-md hover:bg-accent transition-all duration-200",children:a?m.jsx(WC,{className:"h-3 w-3"}):m.jsx(YC,{className:"h-3 w-3"})})}),m.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1",children:_.map(R=>{const P=s.pathname===R.href,O=m.jsxs(pe,{variant:"ghost",className:`w-full justify-start h-8 transition-all duration-300 group ${a?"px-2":"px-3"} ${P?"bg-primary/10 text-primary hover:bg-primary/15 hover:text-primary shadow-sm border border-primary/20":"text-muted-foreground hover:bg-primary/5 hover:text-foreground border border-transparent"}`,onClick:()=>t(R.href),children:[m.jsxs("div",{className:"relative",children:[m.jsx(R.icon,{className:"h-4 w-4 transition-all duration-300 stroke-current"}),a&&R.badge&&m.jsx("span",{className:"absolute -top-1 -right-1 bg-primary rounded-full w-2 h-2"})]}),!a&&m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"ml-3 truncate transition-opacity duration-500",children:R.name}),R.badge&&m.jsx("span",{className:"ml-auto bg-primary text-white text-[10px] rounded-full px-2 py-0.5 min-w-[20px] h-5 flex items-center justify-center font-medium",children:Number(R.badge)>99?"99+":R.badge})]})]},R.name);return a?m.jsx("div",{className:"relative",children:m.jsxs(Kv,{placement:"right",children:[m.jsx(Qv,{asChild:!0,children:O}),m.jsxs(Zv,{children:[m.jsx("p",{children:R.name}),R.badge&&m.jsxs("p",{className:"text-xs text-muted-foreground",children:[R.badge," items"]})]})]})},R.name):O})}),m.jsxs("div",{className:"px-3 py-2 border-t border-border",children:[m.jsx("div",{className:"text-xs font-medium text-slate-600 mb-2 px-3",children:!a&&"Profile"}),m.jsx("nav",{className:"space-y-1",children:C.map(R=>{const P=s.pathname===R.href,O=m.jsxs(pe,{variant:"ghost",className:`w-full justify-start h-7 transition-all duration-300 group ${a?"px-2":"px-3"} ${P?"bg-primary/10 text-primary hover:bg-primary/15 hover:text-primary":"text-muted-foreground hover:bg-primary/5 hover:text-foreground"}`,onClick:()=>t(R.href),children:[m.jsx(R.icon,{className:`h-4 w-4 transition-all duration-300 ${P?"fill-current":"stroke-current"} ${a?"":"mr-3"}`}),!a&&m.jsx("span",{className:"transition-opacity duration-500 text-sm",children:R.name})]},R.name);return a?m.jsx("div",{className:"relative",children:m.jsxs(Kv,{placement:"right",children:[m.jsx(Qv,{asChild:!0,children:O}),m.jsx(Zv,{children:m.jsx("p",{children:R.name})})]})},R.name):O})})]}),m.jsx("div",{className:"p-4 border-t border-border",ref:v,children:m.jsxs("div",{className:"relative",children:[m.jsxs("div",{className:`flex items-center ${a?"justify-center px-0 py-2":"gap-3 px-3 py-3"} rounded-xl hover:bg-primary/5 transition-all duration-200 cursor-pointer group`,onClick:()=>b(!p),role:"button",children:[m.jsx("div",{className:`${a?"w-8 h-8":"w-10 h-10"} rounded-full overflow-hidden bg-primary/10 flex items-center justify-center border border-primary/20`,children:r?.profilePicture&&!x?m.jsx("img",{src:r.profilePicture,alt:"Profile",className:"w-full h-full object-cover",onError:()=>w(!0)}):m.jsx("div",{className:`w-full h-full flex items-center justify-center bg-transparent text-primary font-semibold ${a?"text-xs":"text-sm"}`,children:A(r?.email||"Hedayat Farahi")})}),!a&&m.jsxs("div",{className:"flex-1 min-w-0 flex items-center justify-between",children:[m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("p",{className:"text-sm font-semibold truncate text-slate-900",children:"Hedayat Farahi"}),m.jsx("p",{className:"text-xs truncate text-slate-600",children:"Free"})]}),m.jsx(QC,{className:`h-4 w-4 text-slate-500 transition-transform duration-200 ${p?"rotate-180":""}`})]})]}),p&&m.jsxs("div",{className:`absolute ${a?"left-1/2 transform -translate-x-1/2 w-56":"left-0 w-64"} bottom-full mb-2 rounded-xl border border-border bg-card p-2 shadow-xl z-50 text-sm`,children:[m.jsxs("div",{className:"px-4 py-3 bg-accent/10 rounded-lg mb-2",children:[m.jsx("p",{className:"text-sm font-semibold text-slate-900 truncate",children:"Hedayat Farahi"}),m.jsx("p",{className:"text-xs text-slate-600 truncate",children:r?.email||"hedayat@example.com"})]}),m.jsx("button",{className:"w-full text-left px-3 py-2.5 rounded-lg hover:bg-primary/5 hover:text-foreground text-sm transition-colors",onClick:()=>{t("/app/profile"),b(!1)},children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(xo,{className:"h-4 w-4 text-slate-500"}),m.jsx("span",{className:"font-medium text-slate-700",children:"Profile"})]})}),f==="Free"&&m.jsx("button",{className:"w-full text-left px-3 py-2.5 rounded-lg hover:bg-primary/5 hover:text-foreground text-sm transition-colors",onClick:()=>{b(!1)},children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(fv,{className:"h-4 w-4 text-slate-500"}),m.jsx("span",{className:"font-medium text-slate-700",children:"Upgrade plan"})]})}),m.jsx("button",{className:"w-full text-left px-3 py-2.5 rounded-lg hover:bg-primary/5 hover:text-foreground text-sm transition-colors",onClick:()=>{t("/app/settings"),b(!1)},children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(mv,{className:"h-4 w-4 text-slate-500"}),m.jsx("span",{className:"font-medium text-slate-700",children:"Settings"})]})}),m.jsx("div",{className:"h-px bg-border my-2"}),m.jsx("button",{className:"w-full text-left px-3 py-2.5 rounded-lg text-destructive hover:bg-destructive/10 text-sm transition-colors",onClick:()=>{k(),b(!1)},children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(AT,{className:"h-4 w-4 text-red-500"}),m.jsx("span",{className:"font-medium",children:"Log out"})]})})]})]})})]}),m.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[m.jsx(PD,{}),m.jsx("div",{className:"flex-1 overflow-auto",children:m.jsx(QS,{})})]})]})})};function OD(){const{isRTL:r}=Wc();return m.jsxs("div",{className:`min-h-screen bg-background ${r?"rtl":""}`,dir:r?"rtl":"ltr",children:[m.jsxs(JS,{children:[m.jsx(et,{path:"/",element:m.jsx(pk,{})}),m.jsx(et,{path:"/login",element:m.jsx(fk,{})}),m.jsx(et,{path:"/register",element:m.jsx(mk,{})}),m.jsxs(et,{path:"/app",element:m.jsx(ND,{children:m.jsx(LD,{})}),children:[m.jsx(et,{index:!0,element:m.jsx(c0,{to:"/app/dashboard",replace:!0})}),m.jsx(et,{path:"dashboard",element:m.jsx(yk,{})}),m.jsx(et,{path:"library",element:m.jsx(vD,{})}),m.jsx(et,{path:"inbox",element:m.jsx(xD,{})}),m.jsx(et,{path:"outbox",element:m.jsx(wD,{})}),m.jsx(et,{path:"archive",element:m.jsx(AD,{})}),m.jsx(et,{path:"pdf-signature",element:m.jsx(bD,{})}),m.jsx(et,{path:"profile",element:m.jsx(SD,{})}),m.jsx(et,{path:"messages",element:m.jsx(ED,{})}),m.jsx(et,{path:"usage",element:m.jsx(_D,{})}),m.jsx(et,{path:"invoices",element:m.jsx(CD,{})}),m.jsx(et,{path:"addressbook",element:m.jsx(TD,{})}),m.jsx(et,{path:"settings",element:m.jsx(_k,{})}),m.jsx(et,{path:"documents",element:m.jsx(xk,{})}),m.jsx(et,{path:"templates",element:m.jsx(wk,{})}),m.jsx(et,{path:"analysis",element:m.jsx(Ak,{})}),m.jsx(et,{path:"chat",element:m.jsx(Sk,{})}),m.jsx(et,{path:"analytics",element:m.jsx(Ek,{})}),m.jsx(et,{path:"users",element:m.jsx(vk,{})})]})]}),m.jsx(rk,{})]})}function ID(){return m.jsx(WE,{store:J_,children:m.jsx(t2,{children:m.jsx(A2,{children:m.jsx(N2,{children:m.jsx(AE,{children:m.jsx(OD,{})})})})})})}const zD=rS.createRoot(document.getElementById("root"));zD.render(m.jsx(cn.StrictMode,{children:m.jsx(ID,{})}));
